{
  "version": 3,
  "sources": ["node_modules/obj-case/index.js", "node_modules/segmentio-facade/lib/address.js", "node_modules/inherits/inherits_browser.js", "node_modules/component-type/index.js", "node_modules/@ndhoule/clone/index.js", "node_modules/type-component/index.js", "node_modules/segmentio-facade/lib/utils.js", "node_modules/segmentio-facade/lib/is-enabled.js", "node_modules/@segment/isodate/lib/index.js", "node_modules/new-date/lib/milliseconds.js", "node_modules/new-date/lib/seconds.js", "node_modules/new-date/lib/index.js", "node_modules/@segment/isodate-traverse/lib/index.js", "node_modules/segmentio-facade/lib/facade.js", "node_modules/segmentio-facade/lib/alias.js", "node_modules/is-email/index.js", "node_modules/segmentio-facade/lib/group.js", "node_modules/trim/index.js", "node_modules/segmentio-facade/lib/identify.js", "node_modules/segmentio-facade/lib/track.js", "node_modules/segmentio-facade/lib/page.js", "node_modules/segmentio-facade/lib/screen.js", "node_modules/segmentio-facade/lib/delete.js", "node_modules/segmentio-facade/lib/index.js", "node_modules/component-emitter/index.js", "node_modules/@segment/analytics.js-core/build/middleware.js", "node_modules/component-bind/index.js", "node_modules/bind-all/lib/index.js", "node_modules/@segment/analytics.js-core/build/utils/clone.js", "node_modules/extend/index.js", "node_modules/ms/index.js", "node_modules/debug/src/debug.js", "node_modules/debug/src/browser.js", "node_modules/@segment/cookie/lib/index.js", "node_modules/@ndhoule/drop/index.js", "node_modules/@ndhoule/rest/index.js", "node_modules/@ndhoule/defaults/index.js", "node_modules/component-url/index.js", "node_modules/component-cookie/index.js", "node_modules/@segment/top-domain/lib/index.js", "node_modules/@segment/analytics.js-core/build/cookie.js", "node_modules/json3/lib/json3.js", "node_modules/utf8-encode/index.js", "node_modules/@segment/base64-encode/index.js", "node_modules/has-cors/index.js", "node_modules/jsonp/index.js", "node_modules/@segment/send-json/lib/index.js", "node_modules/@segment/analytics.js-core/build/metrics.js", "node_modules/@ndhoule/keys/index.js", "node_modules/@segment/analytics.js-core/build/utils/each.js", "node_modules/@ndhoule/extend/index.js", "node_modules/@segment/analytics.js-core/build/memory.js", "node_modules/@segment/store/src/store.js", "node_modules/@segment/analytics.js-core/build/store.js", "node_modules/@segment/analytics.js-core/build/entity.js", "node_modules/@segment/analytics.js-core/build/group.js", "node_modules/is/index.js", "node_modules/@segment/is-meta/lib/index.js", "node_modules/next-tick/index.js", "node_modules/@ndhoule/each/index.js", "node_modules/@ndhoule/includes/index.js", "node_modules/@segment/analytics.js-core/build/utils/map.js", "node_modules/uuid/lib/rng-browser.js", "node_modules/uuid/lib/bytesToUuid.js", "node_modules/uuid/v4.js", "node_modules/spark-md5/spark-md5.js", "node_modules/@segment/analytics.js-core/build/normalize.js", "node_modules/component-event/index.js", "node_modules/@segment/canonical/lib/index.js", "node_modules/@segment/analytics.js-core/build/pageDefaults.js", "node_modules/@ndhoule/pick/index.js", "node_modules/@segment/prevent-default/lib/index.js", "node_modules/uuid/v1.js", "node_modules/uuid/index.js", "node_modules/@segment/analytics.js-core/build/user.js", "node_modules/@segment/analytics.js-core/build/analytics.js", "node_modules/@segment/analytics.js-core/build/index.js", "node_modules/component-clone/index.js", "node_modules/@segment/alias/index.js", "node_modules/@segment/convert-dates/lib/index.js", "node_modules/slug-component/index.js", "node_modules/@ndhoule/arity/index.js", "node_modules/@ndhoule/after/index.js", "node_modules/analytics-events/index.js", "node_modules/@ndhoule/every/index.js", "node_modules/@segment/fmt/lib/index.js", "node_modules/@ndhoule/foldl/index.js", "node_modules/script-onload/index.js", "node_modules/load-iframe/index.js", "node_modules/@segment/load-script/index.js", "node_modules/to-no-case/index.js", "node_modules/@segment/analytics.js-integration/lib/protos.js", "node_modules/domify/index.js", "node_modules/@segment/analytics.js-integration/lib/statics.js", "node_modules/@segment/analytics.js-integration/lib/index.js", "node_modules/@segment/analytics.js-integration-customerio/lib/index.js", "node_modules/@segment/to-iso-string/lib/index.js", "node_modules/component-indexof/index.js", "node_modules/@segment/analytics.js-integration-mixpanel/lib/index.js", "node_modules/@ndhoule/values/index.js", "node_modules/@ndhoule/map/index.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/analytics-events/lib/index.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/@segment/analytics.js-integration/node_modules/next-tick/index.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/@segment/analytics.js-integration/lib/protos.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/@segment/analytics.js-integration/lib/statics.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/@segment/analytics.js-integration/lib/index.js", "node_modules/global-queue/index.js", "node_modules/@segment/analytics.js-integration-optimizely/node_modules/next-tick/index.js", "node_modules/@segment/analytics.js-integration-optimizely/lib/index.js", "node_modules/@segment/analytics.js-integration-google-analytics-4/node_modules/analytics-events/lib/index.js", "node_modules/@segment/analytics.js-integration-google-analytics-4/node_modules/@segment/analytics.js-integration/lib/protos.js", "node_modules/@segment/analytics.js-integration-google-analytics-4/node_modules/@segment/analytics.js-integration/lib/statics.js", "node_modules/@segment/analytics.js-integration-google-analytics-4/node_modules/@segment/analytics.js-integration/lib/index.js", "node_modules/reject/index.js", "node_modules/@segment/analytics.js-integration-google-analytics-4/lib/index.js", "node_modules/component-querystring/node_modules/trim/index.js", "node_modules/component-querystring/node_modules/component-type/index.js", "node_modules/component-querystring/index.js", "node_modules/use-https/index.js", "node_modules/@segment/analytics.js-integration-pardot/lib/index.js", "lib/index.js"],
  "sourcesContent": ["\nvar identity = function(_){ return _; };\n\n\n/**\n * Module exports, export\n */\n\nmodule.exports = multiple(find);\nmodule.exports.find = module.exports;\n\n\n/**\n * Export the replacement function, return the modified object\n */\n\nmodule.exports.replace = function (obj, key, val, options) {\n  multiple(replace).call(this, obj, key, val, options);\n  return obj;\n};\n\n\n/**\n * Export the delete function, return the modified object\n */\n\nmodule.exports.del = function (obj, key, options) {\n  multiple(del).call(this, obj, key, null, options);\n  return obj;\n};\n\n\n/**\n * Compose applying the function to a nested key\n */\n\nfunction multiple (fn) {\n  return function (obj, path, val, options) {\n    var normalize = options && isFunction(options.normalizer) ? options.normalizer : defaultNormalize;\n    path = normalize(path);\n\n    var key;\n    var finished = false;\n\n    while (!finished) loop();\n\n    function loop() {\n      for (key in obj) {\n        var normalizedKey = normalize(key);\n        if (0 === path.indexOf(normalizedKey)) {\n          var temp = path.substr(normalizedKey.length);\n          if (temp.charAt(0) === '.' || temp.length === 0) {\n            path = temp.substr(1);\n            var child = obj[key];\n\n            // we're at the end and there is nothing.\n            if (null == child) {\n              finished = true;\n              return;\n            }\n\n            // we're at the end and there is something.\n            if (!path.length) {\n              finished = true;\n              return;\n            }\n\n            // step into child\n            obj = child;\n\n            // but we're done here\n            return;\n          }\n        }\n      }\n\n      key = undefined;\n      // if we found no matching properties\n      // on the current object, there's no match.\n      finished = true;\n    }\n\n    if (!key) return;\n    if (null == obj) return obj;\n\n    // the `obj` and `key` is one above the leaf object and key, so\n    // start object: { a: { 'b.c': 10 } }\n    // end object: { 'b.c': 10 }\n    // end key: 'b.c'\n    // this way, you can do `obj[key]` and get `10`.\n    return fn(obj, key, val);\n  };\n}\n\n\n/**\n * Find an object by its key\n *\n * find({ first_name : 'Calvin' }, 'firstName')\n */\n\nfunction find (obj, key) {\n  if (obj.hasOwnProperty(key)) return obj[key];\n}\n\n\n/**\n * Delete a value for a given key\n *\n * del({ a : 'b', x : 'y' }, 'X' }) -> { a : 'b' }\n */\n\nfunction del (obj, key) {\n  if (obj.hasOwnProperty(key)) delete obj[key];\n  return obj;\n}\n\n\n/**\n * Replace an objects existing value with a new one\n *\n * replace({ a : 'b' }, 'a', 'c') -> { a : 'c' }\n */\n\nfunction replace (obj, key, val) {\n  if (obj.hasOwnProperty(key)) obj[key] = val;\n  return obj;\n}\n\n/**\n * Normalize a `dot.separated.path`.\n *\n * A.HELL(!*&#(!)O_WOR   LD.bar => ahelloworldbar\n *\n * @param {String} path\n * @return {String}\n */\n\nfunction defaultNormalize(path) {\n  return path.replace(/[^a-zA-Z0-9\\.]+/g, '').toLowerCase();\n}\n\n/**\n * Check if a value is a function.\n *\n * @param {*} val\n * @return {boolean} Returns `true` if `val` is a function, otherwise `false`.\n */\n\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\n", "'use strict';\n\nvar get = require('obj-case');\n\n/**\n * Add address getters to `proto`.\n *\n * @ignore\n * @param {Function} proto\n */\nmodule.exports = function(proto) {\n  proto.zip = trait('postalCode', 'zip');\n  proto.country = trait('country');\n  proto.street = trait('street');\n  proto.state = trait('state');\n  proto.city = trait('city');\n  proto.region = trait('region');\n\n  function trait(a, b) {\n    return function() {\n      var traits = this.traits();\n      var props = this.properties ? this.properties() : {};\n\n      return get(traits, 'address.' + a)\n        || get(traits, a)\n        || (b ? get(traits, 'address.' + b) : null)\n        || (b ? get(traits, b) : null)\n        || get(props, 'address.' + a)\n        || get(props, a)\n        || (b ? get(props, 'address.' + b) : null)\n        || (b ? get(props, b) : null);\n    };\n  }\n};\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  if (isBuffer(val)) return 'buffer';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val);\n\n  return typeof val;\n};\n\n// code borrowed from https://github.com/feross/is-buffer/blob/master/index.js\nfunction isBuffer(obj) {\n  return !!(obj != null &&\n    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n      (obj.constructor &&\n      typeof obj.constructor.isBuffer === 'function' &&\n      obj.constructor.isBuffer(obj))\n    ))\n}\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar type = require('component-type');\n\n/**\n * Deeply clone an object.\n *\n * @param {*} obj Any object.\n */\n\nvar clone = function clone(obj) {\n  var t = type(obj);\n\n  if (t === 'object') {\n    var copy = {};\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        copy[key] = clone(obj[key]);\n      }\n    }\n    return copy;\n  }\n\n  if (t === 'array') {\n    var copy = new Array(obj.length);\n    for (var i = 0, l = obj.length; i < l; i++) {\n      copy[i] = clone(obj[i]);\n    }\n    return copy;\n  }\n\n  if (t === 'regexp') {\n    // from millermedeiros/amd-utils - MIT\n    var flags = '';\n    flags += obj.multiline ? 'm' : '';\n    flags += obj.global ? 'g' : '';\n    flags += obj.ignoreCase ? 'i' : '';\n    return new RegExp(obj.source, flags);\n  }\n\n  if (t === 'date') {\n    return new Date(obj.getTime());\n  }\n\n  // string, number, boolean, etc.\n  return obj;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = clone;\n", "\n/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Function]': return 'function';\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val === Object(val)) return 'object';\n\n  return typeof val;\n};\n", "'use strict';\n\nexports.inherit = require('inherits');\nexports.clone = require('@ndhoule/clone');\nexports.type = require('type-component');\n", "'use strict';\n\n// A few integrations are disabled by default. They must be explicitly enabled\n// by setting options[Provider] = true.\nvar disabled = {\n  Salesforce: true\n};\n\n/**\n * Check whether an integration should be enabled by default.\n *\n * @ignore\n * @param {string} integration\n * @return {boolean}\n */\nmodule.exports = function(integration) {\n  return !disabled[integration];\n};\n", "'use strict';\n\n/**\n * Matcher, slightly modified from:\n *\n * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js\n */\n\nvar matcher = /^(\\d{4})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:([ T])(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\n\n/**\n * Convert an ISO date string to a date. Fallback to native `Date.parse`.\n *\n * https://github.com/csnover/js-iso8601/blob/lax/iso8601.js\n *\n * @param {String} iso\n * @return {Date}\n */\n\nexports.parse = function(iso) {\n  var numericKeys = [1, 5, 6, 7, 11, 12];\n  var arr = matcher.exec(iso);\n  var offset = 0;\n\n  // fallback to native parsing\n  if (!arr) {\n    return new Date(iso);\n  }\n\n  /* eslint-disable no-cond-assign */\n  // remove undefined values\n  for (var i = 0, val; val = numericKeys[i]; i++) {\n    arr[val] = parseInt(arr[val], 10) || 0;\n  }\n  /* eslint-enable no-cond-assign */\n\n  // allow undefined days and months\n  arr[2] = parseInt(arr[2], 10) || 1;\n  arr[3] = parseInt(arr[3], 10) || 1;\n\n  // month is 0-11\n  arr[2]--;\n\n  // allow abitrary sub-second precision\n  arr[8] = arr[8] ? (arr[8] + '00').substring(0, 3) : 0;\n\n  // apply timezone if one exists\n  if (arr[4] === ' ') {\n    offset = new Date().getTimezoneOffset();\n  } else if (arr[9] !== 'Z' && arr[10]) {\n    offset = arr[11] * 60 + arr[12];\n    if (arr[10] === '+') {\n      offset = 0 - offset;\n    }\n  }\n\n  var millis = Date.UTC(arr[1], arr[2], arr[3], arr[5], arr[6] + offset, arr[7], arr[8]);\n  return new Date(millis);\n};\n\n\n/**\n * Checks whether a `string` is an ISO date string. `strict` mode requires that\n * the date string at least have a year, month and date.\n *\n * @param {String} string\n * @param {Boolean} strict\n * @return {Boolean}\n */\n\nexports.is = function(string, strict) {\n  if (typeof string !== 'string') {\n    return false;\n  }\n  if (strict && (/^\\d{4}-\\d{2}-\\d{2}/).test(string) === false) {\n    return false;\n  }\n  return matcher.test(string);\n};\n", "\"use strict\";\n\n/**\n * Matcher.\n */\n\nvar matcher = /\\d{13}/;\n\n/**\n * Check whether a string is a millisecond date string.\n *\n * @param {string} string\n * @return {boolean}\n */\nexports.is = function (string) {\n  return matcher.test(string);\n};\n\n/**\n * Convert a millisecond string to a date.\n *\n * @param {string} millis\n * @return {Date}\n */\nexports.parse = function (millis) {\n  millis = parseInt(millis, 10);\n  return new Date(millis);\n};\n", "\"use strict\";\n\n/**\n * Matcher.\n */\n\nvar matcher = /\\d{10}/;\n\n/**\n * Check whether a string is a second date string.\n *\n * @param {string} string\n * @return {Boolean}\n */\nexports.is = function (string) {\n  return matcher.test(string);\n};\n\n/**\n * Convert a second string to a date.\n *\n * @param {string} seconds\n * @return {Date}\n */\nexports.parse = function (seconds) {\n  var millis = parseInt(seconds, 10) * 1000;\n  return new Date(millis);\n};\n", "\"use strict\";\n\nvar isodate = require(\"@segment/isodate\");\nvar milliseconds = require(\"./milliseconds\");\nvar seconds = require(\"./seconds\");\n\nvar objProto = Object.prototype;\nvar toStr = objProto.toString;\n\nfunction isDate(value) {\n  return toStr.call(value) === \"[object Date]\";\n}\n\nfunction isNumber(value) {\n  return toStr.call(value) === \"[object Number]\";\n}\n\n/**\n * Returns a new Javascript Date object, allowing a variety of extra input types\n * over the native Date constructor.\n *\n * @param {Date|string|number} val\n */\nmodule.exports = function newDate(val) {\n  if (isDate(val)) return val;\n  if (isNumber(val)) return new Date(toMs(val));\n\n  // date strings\n  if (isodate.is(val)) {\n    return isodate.parse(val);\n  }\n  if (milliseconds.is(val)) {\n    return milliseconds.parse(val);\n  }\n  if (seconds.is(val)) {\n    return seconds.parse(val);\n  }\n\n  // fallback to Date.parse\n  return new Date(val);\n};\n\n/**\n * If the number passed val is seconds from the epoch, turn it into milliseconds.\n * Milliseconds would be greater than 31557600000 (December 31, 1970).\n *\n * @param {number} num\n */\nfunction toMs(num) {\n  if (num < 31557600000) return num * 1000;\n  return num;\n}\n", "'use strict';\n\nvar isodate = require('@segment/isodate');\n\n/**\n * Expose `traverse`.\n */\nmodule.exports = traverse;\n\n/**\n * Recursively traverse an object or array, and convert\n * all ISO date strings parse into Date objects.\n *\n * @param {Object} input - object, array, or string to convert\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Object}\n */\nfunction traverse(input, strict) {\n  if (strict === undefined) strict = true;\n  if (input && typeof input === 'object') {\n    return traverseObject(input, strict);\n  } else if (Array.isArray(input)) {\n    return traverseArray(input, strict);\n  } else if (isodate.is(input, strict)) {\n    return isodate.parse(input);\n  }\n  return input;\n}\n\n/**\n * Object traverser helper function.\n *\n * @param {Object} obj - object to traverse\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Object}\n */\nfunction traverseObject(obj, strict) {\n  Object.keys(obj).forEach(function(key) {\n    obj[key] = traverse(obj[key], strict);\n  });\n  return obj;\n}\n\n/**\n * Array traverser helper function\n *\n * @param {Array} arr - array to traverse\n * @param {Boolean} strict - only convert strings with year, month, and date\n * @return {Array}\n */\nfunction traverseArray(arr, strict) {\n  arr.forEach(function(value, index) {\n    arr[index] = traverse(value, strict);\n  });\n  return arr;\n}\n", "'use strict';\n\nvar address = require('./address');\nvar clone = require('./utils').clone;\nvar isEnabled = require('./is-enabled');\nvar newDate = require('new-date');\nvar objCase = require('obj-case');\nvar traverse = require('@segment/isodate-traverse');\nvar type = require('./utils').type;\n\n/**\n * A *Facade* is an object meant for creating convience wrappers around\n * objects. When developing integrations, you probably want to look at its\n * subclasses, such as {@link Track} or {@link Identify}, rather than this\n * general-purpose class.\n *\n * This constructor will initialize a new `Facade` with an `obj` of arguments.\n *\n * If the inputted `obj` doesn't have a `timestamp` property, one will be added\n * with the value `new Date()`. Otherwise, the `timestamp` property will be\n * converted to a Date using the `new-date` package.\n *\n * By default, the inputted object will be defensively copied, and all ISO\n * strings present in the string will be converted into Dates.\n *\n * @param {Object} obj - The object to wrap.\n * @param {Object} opts - Options about what kind of Facade to create.\n * @param {boolean} [opts.clone=true] - Whether to make defensive clones. If enabled,\n * the inputted object will be cloned, and any objects derived from this facade\n * will be cloned before being returned.\n * @param {boolean} [opts.traverse=true] - Whether to perform ISODate-Traverse\n * on the inputted object.\n *\n * @see {@link https://github.com/segmentio/new-date|new-date}\n * @see {@link https://github.com/segmentio/isodate-traverse|isodate-traverse}\n */\nfunction Facade(obj, opts) {\n  opts = opts || {};\n  if (!('clone' in opts)) opts.clone = true;\n  if (opts.clone) obj = clone(obj);\n  if (!('traverse' in opts)) opts.traverse = true;\n  if (!('timestamp' in obj)) obj.timestamp = new Date();\n  else obj.timestamp = newDate(obj.timestamp);\n  if (opts.traverse) traverse(obj);\n  this.opts = opts;\n  this.obj = obj;\n}\n\n/**\n * Get a potentially-nested field in this facade. `field` should be a\n * period-separated sequence of properties.\n *\n * If the first field passed in points to a function (e.g. the `field` passed\n * in is `a.b.c` and this facade's `obj.a` is a function), then that function\n * will be called, and then the deeper fields will be fetched (using obj-case)\n * from what that function returns. If the first field isn't a function, then\n * this function works just like obj-case.\n *\n * Because this function uses obj-case, the camel- or snake-case of the input\n * is irrelevant.\n *\n * @example\n * YourClass.prototype.height = function() {\n *   return this.proxy('getDimensions.height') ||\n *     this.proxy('props.size.side_length');\n * }\n * @param {string} field - A sequence of properties, joined by periods (`.`).\n * @return {*} - A property of the inputted object.\n * @see {@link https://github.com/segmentio/obj-case|obj-case}\n */\nFacade.prototype.proxy = function(field) {\n  var fields = field.split('.');\n  field = fields.shift();\n\n  // Call a function at the beginning to take advantage of facaded fields\n  var obj = this[field] || this.field(field);\n  if (!obj) return obj;\n  if (typeof obj === 'function') obj = obj.call(this) || {};\n  if (fields.length === 0) return this.opts.clone ? transform(obj) : obj;\n\n  obj = objCase(obj, fields.join('.'));\n  return this.opts.clone ? transform(obj) : obj;\n};\n\n/**\n * Directly access a specific `field` from the underlying object. Only\n * \"top-level\" fields will work with this function. \"Nested\" fields *will not\n * work* with this function.\n *\n * @param {string} field\n * @return {*}\n */\nFacade.prototype.field = function(field) {\n  var obj = this.obj[field];\n  return this.opts.clone ? transform(obj) : obj;\n};\n\n/**\n * Utility method to always proxy a particular `field`. In other words, it\n * returns a function that will always return `this.proxy(field)`.\n *\n * @example\n * MyClass.prototype.height = Facade.proxy('options.dimensions.height');\n *\n * @param {string} field\n * @return {Function}\n */\nFacade.proxy = function(field) {\n  return function() {\n    return this.proxy(field);\n  };\n};\n\n/**\n * Utility method to always access a `field`. In other words, it returns a\n * function that will always return `this.field(field)`.\n *\n * @param {string} field\n * @return {Function}\n */\nFacade.field = function(field) {\n  return function() {\n    return this.field(field);\n  };\n};\n\n/**\n * Create a helper function for fetching a \"plural\" thing.\n *\n * The generated method will take the inputted `path` and append an \"s\" to it\n * and calls `this.proxy` with this \"pluralized\" path. If that produces an\n * array, that will be returned. Otherwise, a one-element array containing\n * `this.proxy(path)` will be returned.\n *\n * @example\n * MyClass.prototype.birds = Facade.multi('animals.bird');\n *\n * @param {string} path\n * @return {Function}\n */\nFacade.multi = function(path) {\n  return function() {\n    var multi = this.proxy(path + 's');\n    if (type(multi) === 'array') return multi;\n    var one = this.proxy(path);\n    if (one) one = [this.opts.clone ? clone(one) : one];\n    return one || [];\n  };\n};\n\n/**\n * Create a helper function for getting a \"singular\" thing.\n *\n * The generated method will take the inputted path and call\n * `this.proxy(path)`. If a truthy thing is produced, it will be returned.\n * Otherwise, `this.proxy(path + 's')` will be called, and if that produces an\n * array the first element of that array will be returned. Otherwise,\n * `undefined` is returned.\n *\n * @example\n * MyClass.prototype.bird = Facade.one('animals.bird');\n *\n * @param {string} path\n * @return {Function}\n */\nFacade.one = function(path) {\n  return function() {\n    var one = this.proxy(path);\n    if (one) return one;\n    var multi = this.proxy(path + 's');\n    if (type(multi) === 'array') return multi[0];\n  };\n};\n\n/**\n * Gets the underlying object this facade wraps around.\n *\n * If this facade has a property `type`, it will be invoked as a function and\n * will be assigned as the property `type` of the outputted object.\n *\n * @return {Object}\n */\nFacade.prototype.json = function() {\n  var ret = this.opts.clone ? clone(this.obj) : this.obj;\n  if (this.type) ret.type = this.type();\n  return ret;\n};\n\n/**\n * Get the options of a call. If an integration is passed, only the options for\n * that integration are included. If the integration is not enabled, then\n * `undefined` is returned.\n *\n * Options are taken from the `options` property of the underlying object,\n * falling back to the object's `context` or simply `{}`.\n *\n * @param {string} integration - The name of the integration to get settings\n * for. Casing does not matter.\n * @return {Object|undefined}\n */\nFacade.prototype.options = function(integration) {\n  var obj = this.obj.options || this.obj.context || {};\n  var options = this.opts.clone ? clone(obj) : obj;\n  if (!integration) return options;\n  if (!this.enabled(integration)) return;\n  var integrations = this.integrations();\n  var value = integrations[integration] || objCase(integrations, integration);\n  if (typeof value !== 'object') value = objCase(this.options(), integration);\n  return typeof value === 'object' ? value : {};\n};\n\n/**\n * An alias for {@link Facade#options}.\n */\nFacade.prototype.context = Facade.prototype.options;\n\n/**\n * Check whether an integration is enabled.\n *\n * Basically, this method checks whether this integration is explicitly\n * enabled. If it isn'texplicitly mentioned, it checks whether it has been\n * enabled at the global level. Some integrations (e.g. Salesforce), cannot\n * enabled by these global event settings.\n *\n * More concretely, the deciding factors here are:\n *\n * 1. If `this.integrations()` has the integration set to `true`, return `true`.\n * 2. If `this.integrations().providers` has the integration set to `true`, return `true`.\n * 3. If integrations are set to default-disabled via global parameters (i.e.\n * `options.providers.all`, `options.all`, or `integrations.all`), then return\n * false.\n * 4. If the integration is one of the special default-deny integrations\n * (currently, only Salesforce), then return false.\n * 5. Else, return true.\n *\n * @param {string} integration\n * @return {boolean}\n */\nFacade.prototype.enabled = function(integration) {\n  var allEnabled = this.proxy('options.providers.all');\n  if (typeof allEnabled !== 'boolean') allEnabled = this.proxy('options.all');\n  if (typeof allEnabled !== 'boolean') allEnabled = this.proxy('integrations.all');\n  if (typeof allEnabled !== 'boolean') allEnabled = true;\n\n  var enabled = allEnabled && isEnabled(integration);\n  var options = this.integrations();\n\n  // If the integration is explicitly enabled or disabled, use that\n  // First, check options.providers for backwards compatibility\n  if (options.providers && options.providers.hasOwnProperty(integration)) {\n    enabled = options.providers[integration];\n  }\n\n  // Next, check for the integration's existence in 'options' to enable it.\n  // If the settings are a boolean, use that, otherwise it should be enabled.\n  if (options.hasOwnProperty(integration)) {\n    var settings = options[integration];\n    if (typeof settings === 'boolean') {\n      enabled = settings;\n    } else {\n      enabled = true;\n    }\n  }\n\n  return !!enabled;\n};\n\n/**\n * Get all `integration` options.\n *\n * @ignore\n * @param {string} integration\n * @return {Object}\n */\nFacade.prototype.integrations = function() {\n  return this.obj.integrations || this.proxy('options.providers') || this.options();\n};\n\n/**\n * Check whether the user is active.\n *\n * @return {boolean}\n */\nFacade.prototype.active = function() {\n  var active = this.proxy('options.active');\n  if (active === null || active === undefined) active = true;\n  return active;\n};\n\n/**\n * Get `sessionId / anonymousId`.\n *\n * @return {*}\n */\nFacade.prototype.anonymousId = function() {\n  return this.field('anonymousId') || this.field('sessionId');\n};\n\n/**\n * An alias for {@link Facade#anonymousId}.\n *\n * @function\n * @return {string}\n */\nFacade.prototype.sessionId = Facade.prototype.anonymousId;\n\n/**\n * Get `groupId` from `context.groupId`.\n *\n * @function\n * @return {string}\n */\nFacade.prototype.groupId = Facade.proxy('options.groupId');\n\n/**\n * Get the call's \"traits\". All event types can pass in traits, though {@link\n * Identify} and {@link Group} override this implementation.\n *\n * Traits are gotten from `options.traits`, augmented with a property `id` with\n * the event's `userId`.\n *\n * The parameter `aliases` is meant to transform keys in `options.traits` into\n * new keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx`\n * in the traits, and move it to `yyy`. If `xxx` is a method of this facade,\n * it'll be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { options: { traits: { foo: \"bar\" } }, anonymousId: \"xxx\" }\n * var facade = new Facade(obj)\n *\n * facade.traits() // { \"foo\": \"bar\" }\n * facade.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * facade.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nFacade.prototype.traits = function(aliases) {\n  var ret = this.proxy('options.traits') || {};\n  var id = this.userId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (var alias in aliases) {\n    var value = this[alias] == null ? this.proxy('options.traits.' + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    delete ret[alias];\n  }\n\n  return ret;\n};\n\n/**\n * The library and version of the client used to produce the message.\n *\n * If the library name cannot be determined, it is set to `\"unknown\"`. If the\n * version cannot be determined, it is set to `null`.\n *\n * @return {{name: string, version: string}}\n */\nFacade.prototype.library = function() {\n  var library = this.proxy('options.library');\n  if (!library) return { name: 'unknown', version: null };\n  if (typeof library === 'string') return { name: library, version: null };\n  return library;\n};\n\n/**\n * Return the device information, falling back to an empty object.\n *\n * Interesting values of `type` are `\"ios\"` and `\"android\"`, but other values\n * are possible if the client is doing something unusual with `context.device`.\n *\n * @return {{type: string}}\n */\nFacade.prototype.device = function() {\n  var device = this.proxy('context.device');\n  if (type(device) !== 'object') device = {};\n  var library = this.library().name;\n  if (device.type) return device;\n\n  if (library.indexOf('ios') > -1) device.type = 'ios';\n  if (library.indexOf('android') > -1) device.type = 'android';\n  return device;\n};\n\n/**\n * Get the User-Agent from `context.userAgent`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nFacade.prototype.userAgent = Facade.proxy('context.userAgent');\n\n/**\n * Get the timezone from `context.timezone`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nFacade.prototype.timezone = Facade.proxy('context.timezone');\n\n/**\n * Get the timestamp from `context.timestamp`.\n *\n * @function\n * @return string\n */\nFacade.prototype.timestamp = Facade.field('timestamp');\n\n/**\n * Get the channel from `channel`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nFacade.prototype.channel = Facade.field('channel');\n\n/**\n * Get the IP address from `context.ip`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nFacade.prototype.ip = Facade.proxy('context.ip');\n\n/**\n * Get the user ID from `userId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return string\n */\nFacade.prototype.userId = Facade.field('userId');\n\n/**\n * Get the ZIP/Postal code from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name zip\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\n/**\n * Get the country from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name country\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\n/**\n * Get the street from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name street\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\n/**\n * Get the state from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name state\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\n/**\n * Get the city from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name city\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\n/**\n * Get the region from `traits`, `traits.address`, `properties`, or\n * `properties.address`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @name region\n * @function\n * @memberof Facade.prototype\n * @return {string}\n */\n\naddress(Facade.prototype);\n\n/**\n * Return the cloned and traversed object\n *\n * @ignore\n * @param {*} obj\n * @return {*}\n */\nfunction transform(obj) {\n  return clone(obj);\n}\n\nmodule.exports = Facade;\n", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar Facade = require('./facade');\n\n/**\n * Initialize a new `Alias` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.from] - The previous ID of the user.\n * @param {string} [dictionary.to] - The new ID of the user.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Alias(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Alias, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"alias\"`.\n *\n * @return {string}\n */\nAlias.prototype.action = function() {\n  return 'alias';\n};\n\n/**\n * An alias for {@link Alias#action}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.type = Alias.prototype.action;\n\n/**\n * Get the user's previous ID from `previousId` or `from`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nAlias.prototype.previousId = function() {\n  return this.field('previousId') || this.field('from');\n};\n\n/**\n * An alias for {@link Alias#previousId}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.from = Alias.prototype.previousId;\n\n/**\n * Get the user's new ID from `userId` or `to`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nAlias.prototype.userId = function() {\n  return this.field('userId') || this.field('to');\n};\n\n/**\n * An alias for {@link Alias#userId}.\n *\n * @function\n * @return {string}\n */\nAlias.prototype.to = Alias.prototype.userId;\n\nmodule.exports = Alias;\n", "\nmodule.exports = function isEmail (string) {\n    return (/.+\\@.+\\..+/).test(string);\n};", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar isEmail = require('is-email');\nvar newDate = require('new-date');\nvar Facade = require('./facade');\n\n/**\n * Initialize a new `Group` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.userId] - The user to add to the group.\n * @param {string} [dictionary.groupId] - The ID of the group.\n * @param {Object} [dictionary.traits] - The traits of the group.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Group(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Group, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"group\"`.\n *\n * @return {string}\n */\nGroup.prototype.action = function() {\n  return 'group';\n};\n\n/**\n * An alias for {@link Group#action}.\n *\n * @function\n * @return {string}\n */\nGroup.prototype.type = Group.prototype.action;\n\n/**\n * Get the group ID from `groupId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nGroup.prototype.groupId = Facade.field('groupId');\n\n/**\n * Get the time of creation of the group from `traits.createdAt`,\n * `traits.created`, `properties.createdAt`, or `properties.created`.\n *\n * @return {Date}\n */\nGroup.prototype.created = function() {\n  var created = this.proxy('traits.createdAt')\n    || this.proxy('traits.created')\n    || this.proxy('properties.createdAt')\n    || this.proxy('properties.created');\n\n  if (created) return newDate(created);\n};\n\n/**\n * Get the group's email from `traits.email`, falling back to `groupId` only if\n * it looks like a valid email.\n *\n * @return {string}\n */\nGroup.prototype.email = function() {\n  var email = this.proxy('traits.email');\n  if (email) return email;\n  var groupId = this.groupId();\n  if (isEmail(groupId)) return groupId;\n};\n\n/**\n * Get the group's traits. This is identical to how {@link Facade#traits}\n * works, except it looks at `traits.*` instead of `options.traits.*`.\n *\n * Traits are gotten from `traits`, augmented with a property `id` with\n * the event's `groupId`.\n *\n * The parameter `aliases` is meant to transform keys in `traits` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { traits: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * var group = new Group(obj)\n *\n * group.traits() // { \"foo\": \"bar\" }\n * group.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * group.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nGroup.prototype.traits = function(aliases) {\n  var ret = this.properties();\n  var id = this.groupId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (var alias in aliases) {\n    var value = this[alias] == null ? this.proxy('traits.' + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    delete ret[alias];\n  }\n\n  return ret;\n};\n\n/**\n * Get the group's name from `traits.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nGroup.prototype.name = Facade.proxy('traits.name');\n\n/**\n * Get the group's industry from `traits.industry`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nGroup.prototype.industry = Facade.proxy('traits.industry');\n\n/**\n * Get the group's employee count from `traits.employees`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nGroup.prototype.employees = Facade.proxy('traits.employees');\n\n/**\n * Get the group's properties from `traits` or `properties`, falling back to\n * simply an empty object.\n *\n * @return {Object}\n */\nGroup.prototype.properties = function() {\n  // TODO remove this function\n  return this.field('traits') || this.field('properties') || {};\n};\n\nmodule.exports = Group;\n", "exports = module.exports = trim;\n\nfunction trim(str){\n  if (str.trim) return str.trim();\n  return exports.right(exports.left(str));\n}\n\nexports.left = function(str){\n  if (str.trimLeft) return str.trimLeft();\n\n  return str.replace(/^\\s\\s*/, '');\n};\n\nexports.right = function(str){\n  if (str.trimRight) return str.trimRight();\n\n  var whitespace_pattern = /\\s/,\n      i = str.length;\n  while (whitespace_pattern.test(str.charAt(--i)));\n\n  return str.slice(0, i + 1);\n};\n", "'use strict';\n\nvar Facade = require('./facade');\nvar get = require('obj-case');\nvar inherit = require('./utils').inherit;\nvar isEmail = require('is-email');\nvar newDate = require('new-date');\nvar trim = require('trim');\nvar type = require('./utils').type;\n\n/**\n * Initialize a new `Identify` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.userId] - The ID of the user.\n * @param {string} [dictionary.anonymousId] - The anonymous ID of the user.\n * @param {string} [dictionary.traits] - The user's traits.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Identify(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Identify, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"identify\"`.\n *\n * @return {string}\n */\nIdentify.prototype.action = function() {\n  return 'identify';\n};\n\n/**\n * An alias for {@link Identify#action}.\n *\n * @function\n * @return {string}\n */\nIdentify.prototype.type = Identify.prototype.action;\n\n/**\n * Get the user's traits. This is identical to how {@link Facade#traits} works,\n * except it looks at `traits.*` instead of `options.traits.*`.\n *\n * Traits are gotten from `traits`, augmented with a property `id` with\n * the event's `userId`.\n *\n * The parameter `aliases` is meant to transform keys in `traits` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { traits: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * var identify = new Identify(obj)\n *\n * identify.traits() // { \"foo\": \"bar\" }\n * identify.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * identify.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nIdentify.prototype.traits = function(aliases) {\n  var ret = this.field('traits') || {};\n  var id = this.userId();\n  aliases = aliases || {};\n\n  if (id) ret.id = id;\n\n  for (var alias in aliases) {\n    var value = this[alias] == null ? this.proxy('traits.' + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    if (alias !== aliases[alias]) delete ret[alias];\n  }\n\n  return ret;\n};\n\n/**\n * Get the user's email from `traits.email`, falling back to `userId` only if\n * it looks like a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.email = function() {\n  var email = this.proxy('traits.email');\n  if (email) return email;\n\n  var userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the time of creation of the user from `traits.created` or\n * `traits.createdAt`.\n *\n * @return {Date}\n */\nIdentify.prototype.created = function() {\n  var created = this.proxy('traits.created') || this.proxy('traits.createdAt');\n  if (created) return newDate(created);\n};\n\n/**\n * Get the time of creation of the user's company from `traits.company.created`\n * or `traits.company.createdAt`.\n *\n * @return {Date}\n */\nIdentify.prototype.companyCreated = function() {\n  var created = this.proxy('traits.company.created') || this.proxy('traits.company.createdAt');\n\n  if (created) {\n    return newDate(created);\n  }\n};\n\n/**\n * Get the user's company name from `traits.company.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.companyName = function() {\n  return this.proxy('traits.company.name');\n};\n\n/**\n * Get the user's name `traits.name`, falling back to combining {@link\n * Identify#firstName} and {@link Identify#lastName} if possible.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.name = function() {\n  var name = this.proxy('traits.name');\n  if (typeof name === 'string') {\n    return trim(name);\n  }\n\n  var firstName = this.firstName();\n  var lastName = this.lastName();\n  if (firstName && lastName) {\n    return trim(firstName + ' ' + lastName);\n  }\n};\n\n/**\n * Get the user's first name from `traits.firstName`, optionally splitting it\n * out of a the full name if that's all that was provided.\n *\n * Splitting the full name works on the assumption that the full name is of the\n * form \"FirstName LastName\"; it will not work for non-Western names.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.firstName = function() {\n  var firstName = this.proxy('traits.firstName');\n  if (typeof firstName === 'string') {\n    return trim(firstName);\n  }\n\n  var name = this.proxy('traits.name');\n  if (typeof name === 'string') {\n    return trim(name).split(' ')[0];\n  }\n};\n\n/**\n * Get the user's last name from `traits.lastName`, optionally splitting it out\n * of a the full name if that's all that was provided.\n *\n * Splitting the full name works on the assumption that the full name is of the\n * form \"FirstName LastName\"; it will not work for non-Western names.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.lastName = function() {\n  var lastName = this.proxy('traits.lastName');\n  if (typeof lastName === 'string') {\n    return trim(lastName);\n  }\n\n  var name = this.proxy('traits.name');\n  if (typeof name !== 'string') {\n    return;\n  }\n\n  var space = trim(name).indexOf(' ');\n  if (space === -1) {\n    return;\n  }\n\n  return trim(name.substr(space + 1));\n};\n\n/**\n * Get the user's \"unique id\" from `userId`, `traits.username`, or\n * `traits.email`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.uid = function() {\n  return this.userId() || this.username() || this.email();\n};\n\n/**\n * Get the user's description from `traits.description` or `traits.background`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.description = function() {\n  return this.proxy('traits.description') || this.proxy('traits.background');\n};\n\n/**\n * Get the user's age from `traits.age`, falling back to computing it from\n * `traits.birthday` and the current time.\n *\n * @return {number}\n */\nIdentify.prototype.age = function() {\n  var date = this.birthday();\n  var age = get(this.traits(), 'age');\n  if (age != null) return age;\n  if (type(date) !== 'date') return;\n  var now = new Date();\n  return now.getFullYear() - date.getFullYear();\n};\n\n/**\n * Get the URL of the user's avatar from `traits.avatar`, `traits.photoUrl`, or\n * `traits.avatarUrl`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.avatar = function() {\n  var traits = this.traits();\n  return get(traits, 'avatar') || get(traits, 'photoUrl') || get(traits, 'avatarUrl');\n};\n\n/**\n * Get the user's job position from `traits.position` or `traits.jobTitle`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nIdentify.prototype.position = function() {\n  var traits = this.traits();\n  return get(traits, 'position') || get(traits, 'jobTitle');\n};\n\n/**\n * Get the user's username from `traits.username`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nIdentify.prototype.username = Facade.proxy('traits.username');\n\n/**\n * Get the user's website from `traits.website`, or if there are multiple in\n * `traits.websites`, return the first one.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nIdentify.prototype.website = Facade.one('traits.website');\n\n/**\n * Get the user's websites from `traits.websites`, or if there is only one in\n * `traits.website`, then wrap it in an array.\n *\n * This *should* be an array of strings, but may not be if the client isn't\n * adhering to the spec.\n *\n * @function\n * @return {array}\n */\nIdentify.prototype.websites = Facade.multi('traits.website');\n\n/**\n * Get the user's phone number from `traits.phone`, or if there are multiple in\n * `traits.phones`, return the first one.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nIdentify.prototype.phone = Facade.one('traits.phone');\n\n/**\n * Get the user's phone numbers from `traits.phones`, or if there is only one\n * in `traits.phone`, then wrap it in an array.\n *\n * This *should* be an array of strings, but may not be if the client isn't\n * adhering to the spec.\n *\n * @function\n * @return {array}\n */\nIdentify.prototype.phones = Facade.multi('traits.phone');\n\n/**\n * Get the user's address from `traits.address`.\n *\n * This *should* be an object, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {object}\n */\nIdentify.prototype.address = Facade.proxy('traits.address');\n\n/**\n * Get the user's gender from `traits.gender`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nIdentify.prototype.gender = Facade.proxy('traits.gender');\n\n/**\n * Get the user's birthday from `traits.birthday`.\n *\n * This *should* be a Date if `opts.traverse` was enabled (it is by default)\n * when constructing this Identify. Otherwise, it should be a string. But it\n * may be neither if the client isn't adhering to the spec.\n * spec.\n *\n * @function\n * @return {object}\n */\nIdentify.prototype.birthday = Facade.proxy('traits.birthday');\n\nmodule.exports = Identify;\n", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar type = require('./utils').type;\nvar Facade = require('./facade');\nvar Identify = require('./identify');\nvar isEmail = require('is-email');\nvar get = require('obj-case');\n\n/**\n * Initialize a new `Track` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.event] - The name of the event being tracked.\n * @param {string} [dictionary.userId] - The ID of the user being tracked.\n * @param {string} [dictionary.anonymousId] - The anonymous ID of the user.\n * @param {string} [dictionary.properties] - Properties of the track event.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Track(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Track, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"track\"`.\n *\n * @return {string}\n */\nTrack.prototype.action = function() {\n  return 'track';\n};\n\n/**\n * An alias for {@link Track#action}.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.type = Track.prototype.action;\n\n/**\n * Get the event name from `event`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.event = Facade.field('event');\n\n/**\n * Get the event value, usually the monetary value, from `properties.value`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.value = Facade.proxy('properties.value');\n\n/**\n * Get the event cateogry from `properties.category`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.category = Facade.proxy('properties.category');\n\n/**\n * Get the event ID from `properties.id`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.id = Facade.proxy('properties.id');\n\n/**\n * Get the product ID from `properties.productId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.productId = function() {\n  return this.proxy('properties.product_id') || this.proxy('properties.productId');\n};\n\n/**\n * Get the promotion ID from `properties.promotionId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.promotionId = function() {\n  return this.proxy('properties.promotion_id') || this.proxy('properties.promotionId');\n};\n\n/**\n * Get the cart ID from `properties.cartId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.cartId = function() {\n  return this.proxy('properties.cart_id') || this.proxy('properties.cartId');\n};\n\n/**\n * Get the checkout ID from `properties.checkoutId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.checkoutId = function() {\n  return this.proxy('properties.checkout_id') || this.proxy('properties.checkoutId');\n};\n\n/**\n * Get the payment ID from `properties.paymentId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.paymentId = function() {\n  return this.proxy('properties.payment_id') || this.proxy('properties.paymentId');\n};\n\n/**\n * Get the coupon ID from `properties.couponId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.couponId = function() {\n  return this.proxy('properties.coupon_id') || this.proxy('properties.couponId');\n};\n\n/**\n * Get the wishlist ID from `properties.wishlistId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.wishlistId = function() {\n  return this.proxy('properties.wishlist_id') || this.proxy('properties.wishlistId');\n};\n\n/**\n * Get the review ID from `properties.reviewId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.reviewId = function() {\n  return this.proxy('properties.review_id') || this.proxy('properties.reviewId');\n};\n\n/**\n * Get the order ID from `properties.id` or `properties.orderId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.orderId = function() {\n  // doesn't follow above convention since this fallback order was how it used to be\n  return this.proxy('properties.id')\n    || this.proxy('properties.order_id')\n    || this.proxy('properties.orderId');\n};\n\n/**\n * Get the SKU from `properties.sku`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.sku = Facade.proxy('properties.sku');\n\n/**\n * Get the amount of tax for this purchase from `properties.tax`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.tax = Facade.proxy('properties.tax');\n\n/**\n * Get the name of this event from `properties.name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.name = Facade.proxy('properties.name');\n\n/**\n * Get the price of this purchase from `properties.price`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.price = Facade.proxy('properties.price');\n\n/**\n * Get the total for this purchase from `properties.total`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.total = Facade.proxy('properties.total');\n\n/**\n * Whether this is a repeat purchase from `properties.repeat`.\n *\n * This *should* be a boolean, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {boolean}\n */\nTrack.prototype.repeat = Facade.proxy('properties.repeat');\n\n/**\n * Get the coupon for this purchase from `properties.coupon`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.coupon = Facade.proxy('properties.coupon');\n\n/**\n * Get the shipping for this purchase from `properties.shipping`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.shipping = Facade.proxy('properties.shipping');\n\n/**\n * Get the discount for this purchase from `properties.discount`.\n *\n * This *should* be a number, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {number}\n */\nTrack.prototype.discount = Facade.proxy('properties.discount');\n\n/**\n * Get the shipping method for this purchase from `properties.shippingMethod`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.shippingMethod = function() {\n  return this.proxy('properties.shipping_method') || this.proxy('properties.shippingMethod');\n};\n\n/**\n * Get the payment method for this purchase from `properties.paymentMethod`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.paymentMethod = function() {\n  return this.proxy('properties.payment_method') || this.proxy('properties.paymentMethod');\n};\n\n/**\n * Get a description for this event from `properties.description`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.description = Facade.proxy('properties.description');\n\n/**\n * Get a plan, as in the plan the user is on, for this event from\n * `properties.plan`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string}\n */\nTrack.prototype.plan = Facade.proxy('properties.plan');\n\n/**\n * Get the subtotal for this purchase from `properties.subtotal`.\n *\n * If `properties.subtotal` isn't available, then fall back to computing the\n * total from `properties.total` or `properties.revenue`, and then subtracting\n * tax, shipping, and discounts.\n *\n * If neither subtotal, total, nor revenue are available, then return 0.\n *\n * @return {number}\n */\nTrack.prototype.subtotal = function() {\n  var subtotal = get(this.properties(), 'subtotal');\n  var total = this.total() || this.revenue();\n\n  if (subtotal) return subtotal;\n  if (!total) return 0;\n\n  if (this.total()) {\n    var n = this.tax();\n    if (n) total -= n;\n    n = this.shipping();\n    if (n) total -= n;\n    n = this.discount();\n    if (n) total += n;\n  }\n\n  return total;\n};\n\n/**\n * Get the products for this event from `properties.products` if it's an\n * array, falling back to an empty array.\n *\n * @return {Array}\n */\nTrack.prototype.products = function() {\n  var props = this.properties();\n  var products = get(props, 'products');\n  return type(products) === 'array' ? products : [];\n};\n\n/**\n * Get the quantity for this event from `properties.quantity`, falling back to\n * a quantity of one.\n *\n * @return {number}\n */\nTrack.prototype.quantity = function() {\n  var props = this.obj.properties || {};\n  return props.quantity || 1;\n};\n\n/**\n * Get the currency for this event from `properties.currency`, falling back to\n * \"USD\".\n *\n * @return {string}\n */\nTrack.prototype.currency = function() {\n  var props = this.obj.properties || {};\n  return props.currency || 'USD';\n};\n\n/**\n * Get the referrer for this event from `context.referrer.url`,\n * `context.page.referrer`, or `properties.referrer`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nTrack.prototype.referrer = function() {\n  // TODO re-examine whether this function is necessary\n  return this.proxy('context.referrer.url')\n    || this.proxy('context.page.referrer')\n    || this.proxy('properties.referrer');\n};\n\n/**\n * Get the query for this event from `options.query`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @function\n * @return {string|object}\n */\nTrack.prototype.query = Facade.proxy('options.query');\n\n/**\n * Get the page's properties. This is identical to how {@link Facade#traits}\n * works, except it looks at `properties.*` instead of `options.traits.*`.\n *\n * Properties are gotten from `properties`.\n *\n * The parameter `aliases` is meant to transform keys in `properties` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { properties: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * var track = new Track(obj)\n *\n * track.traits() // { \"foo\": \"bar\" }\n * track.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * track.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nTrack.prototype.properties = function(aliases) {\n  var ret = this.field('properties') || {};\n  aliases = aliases || {};\n\n  for (var alias in aliases) {\n    var value = this[alias] == null ? this.proxy('properties.' + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    delete ret[alias];\n  }\n\n  return ret;\n};\n\n/**\n * Get the username of the user for this event from `traits.username`,\n * `properties.username`, `userId`, or `anonymousId`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string|undefined}\n */\nTrack.prototype.username = function() {\n  return this.proxy('traits.username')\n    || this.proxy('properties.username')\n    || this.userId()\n    || this.sessionId();\n};\n\n/**\n * Get the email of the user for this event from `trais.email`,\n * `properties.email`, or `options.traits.email`, falling back to `userId` if\n * it looks like a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string|undefined}\n */\nTrack.prototype.email = function() {\n  var email = this.proxy('traits.email')\n    || this.proxy('properties.email')\n    || this.proxy('options.traits.email');\n  if (email) return email;\n\n  var userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the revenue for this event.\n *\n * If this is an \"Order Completed\" event, this will be the `properties.total`\n * falling back to the `properties.revenue`. For all other events, this is\n * simply taken from `properties.revenue`.\n *\n * If there are dollar signs in these properties, they will be removed. The\n * result will be parsed into a number.\n *\n * @return {number}\n */\nTrack.prototype.revenue = function() {\n  var revenue = this.proxy('properties.revenue');\n  var event = this.event();\n  var orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;\n\n  // it's always revenue, unless it's called during an order completion.\n  if (!revenue && event && event.match(orderCompletedRegExp)) {\n    revenue = this.proxy('properties.total');\n  }\n\n  return currency(revenue);\n};\n\n/**\n * Get the revenue for this event in \"cents\" -- in other words, multiply the\n * {@link Track#revenue} by 100, or return 0 if there isn't a numerical revenue\n * for this event.\n *\n * @return {number}\n */\nTrack.prototype.cents = function() {\n  var revenue = this.revenue();\n  return typeof revenue !== 'number' ? this.value() || 0 : revenue * 100;\n};\n\n/**\n * Convert this event into an {@link Identify} facade.\n *\n * This works by taking this event's underlying object and creating an Identify\n * from it. This event's traits, taken from `options.traits`, will be used as\n * the Identify's traits.\n *\n * @return {Identify}\n */\nTrack.prototype.identify = function() {\n  // TODO: remove me.\n  var json = this.json();\n  json.traits = this.traits();\n  return new Identify(json, this.opts);\n};\n\n/**\n * Get float from currency value.\n *\n * @ignore\n * @param {*} val\n * @return {number}\n */\nfunction currency(val) {\n  if (!val) return;\n  if (typeof val === 'number') {\n    return val;\n  }\n  if (typeof val !== 'string') {\n    return;\n  }\n\n  val = val.replace(/\\$/g, '');\n  val = parseFloat(val);\n\n  if (!isNaN(val)) {\n    return val;\n  }\n}\n\nmodule.exports = Track;\n", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar Facade = require('./facade');\nvar Track = require('./track');\nvar isEmail = require('is-email');\n\n/**\n * Initialize a new `Page` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The page category.\n * @param {string} [dictionary.name] - The page name.\n * @param {string} [dictionary.properties] - The page properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Page(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Page, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"page\"`.\n *\n * @return {string}\n */\nPage.prototype.action = function() {\n  return 'page';\n};\n\n/**\n * An alias for {@link Page#action}.\n *\n * @function\n * @return {string}\n */\nPage.prototype.type = Page.prototype.action;\n\n/**\n * Get the page category from `category`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.category = Facade.field('category');\n\n/**\n * Get the page name from `name`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.name = Facade.field('name');\n\n/**\n * Get the page title from `properties.title`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.title = Facade.proxy('properties.title');\n\n/**\n * Get the page path from `properties.path`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.path = Facade.proxy('properties.path');\n\n/**\n * Get the page URL from `properties.url`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.url = Facade.proxy('properties.url');\n\n/**\n * Get the HTTP referrer from `context.referrer.url`, `context.page.referrer`,\n * or `properties.referrer`.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.referrer = function() {\n  return this.proxy('context.referrer.url')\n    || this.proxy('context.page.referrer')\n    || this.proxy('properties.referrer');\n};\n\n/**\n * Get the page's properties. This is identical to how {@link Facade#traits}\n * works, except it looks at `properties.*` instead of `options.traits.*`.\n *\n * Properties are gotten from `properties`, augmented with the page's `name`\n * and `category`.\n *\n * The parameter `aliases` is meant to transform keys in `properties` into new\n * keys. Each alias like `{ \"xxx\": \"yyy\" }` will take whatever is at `xxx` in\n * the traits, and move it to `yyy`. If `xxx` is a method of this facade, it'll\n * be called as a function instead of treated as a key into the traits.\n *\n * @example\n * var obj = { properties: { foo: \"bar\" }, anonymousId: \"xxx\" }\n * var page = new Page(obj)\n *\n * page.traits() // { \"foo\": \"bar\" }\n * page.traits({ \"foo\": \"asdf\" }) // { \"asdf\": \"bar\" }\n * page.traits({ \"sessionId\": \"rofl\" }) // { \"rofl\": \"xxx\" }\n *\n * @param {Object} aliases - A mapping from keys to the new keys they should be\n * transformed to.\n * @return {Object}\n */\nPage.prototype.properties = function(aliases) {\n  var props = this.field('properties') || {};\n  var category = this.category();\n  var name = this.name();\n  aliases = aliases || {};\n\n  if (category) props.category = category;\n  if (name) props.name = name;\n\n  for (var alias in aliases) {\n    var value = this[alias] == null\n      ? this.proxy('properties.' + alias)\n      : this[alias]();\n    if (value == null) continue;\n    props[aliases[alias]] = value;\n    if (alias !== aliases[alias]) delete props[alias];\n  }\n\n  return props;\n};\n\n/**\n * Get the user's email from `context.traits.email` or `properties.email`,\n * falling back to `userId` if it's a valid email.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.email = function() {\n  var email = this.proxy('context.traits.email') || this.proxy('properties.email');\n  if (email) return email;\n\n  var userId = this.userId();\n  if (isEmail(userId)) return userId;\n};\n\n/**\n * Get the page fullName. This is `$category $name` if both are present, and\n * just `name` otherwiser.\n *\n * This *should* be a string, but may not be if the client isn't adhering to\n * the spec.\n *\n * @return {string}\n */\nPage.prototype.fullName = function() {\n  var category = this.category();\n  var name = this.name();\n  return name && category\n    ? category + ' ' + name\n    : name;\n};\n\n/**\n * Get an event name from this page call. If `name` is present, this will be\n * `Viewed $name Page`; otherwise, it will be `Loaded a Page`.\n *\n * @param {string} name - The name of this page.\n * @return {string}\n */\nPage.prototype.event = function(name) {\n  return name\n    ? 'Viewed ' + name + ' Page'\n    : 'Loaded a Page';\n};\n\n/**\n * Convert this Page to a {@link Track} facade. The inputted `name` will be\n * converted to the Track's event name via {@link Page#event}.\n *\n * @param {string} name\n * @return {Track}\n */\nPage.prototype.track = function(name) {\n  var json = this.json();\n  json.event = this.event(name);\n  json.timestamp = this.timestamp();\n  json.properties = this.properties();\n  return new Track(json, this.opts);\n};\n\nmodule.exports = Page;\n", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar Page = require('./page');\nvar Track = require('./track');\n\n/**\n * Initialize a new `Screen` facade with a `dictionary` of arguments.\n *\n * Note that this class extends {@link Page}, so its methods are available to\n * instances of this class as well.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The page category.\n * @param {string} [dictionary.name] - The page name.\n * @param {string} [dictionary.properties] - The page properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Page\n */\nfunction Screen(dictionary, opts) {\n  Page.call(this, dictionary, opts);\n}\n\ninherit(Screen, Page);\n\n/**\n * Return the type of facade this is. This will always return `\"screen\"`.\n *\n * @return {string}\n */\nScreen.prototype.action = function() {\n  return 'screen';\n};\n\n/**\n * An alias for {@link Screen#action}.\n *\n * @function\n * @return {string}\n */\nScreen.prototype.type = Screen.prototype.action;\n\n/**\n * Get an event name from this screen call. If `name` is present, this will be\n * `Viewed $name Screen`; otherwise, it will be `Loaded a Screen`.\n *\n * @param {string} name - The name of this screen.\n * @return {string}\n */\nScreen.prototype.event = function(name) {\n  return name ? 'Viewed ' + name + ' Screen' : 'Loaded a Screen';\n};\n\n/**\n * Convert this Screen to a {@link Track} facade. The inputted `name` will be\n * converted to the Track's event name via {@link Screen#event}.\n *\n * @param {string} name\n * @return {Track}\n */\nScreen.prototype.track = function(name) {\n  var json = this.json();\n  json.event = this.event(name);\n  json.timestamp = this.timestamp();\n  json.properties = this.properties();\n  return new Track(json, this.opts);\n};\n\nmodule.exports = Screen;\n", "'use strict';\n\nvar inherit = require('./utils').inherit;\nvar Facade = require('./facade');\n\n/**\n * Initialize a new `Delete` facade with a `dictionary` of arguments.\n *\n * @param {Object} dictionary - The object to wrap.\n * @param {string} [dictionary.category] - The delete category.\n * @param {string} [dictionary.name] - The delete name.\n * @param {string} [dictionary.properties] - The delete properties.\n * @param {Object} opts - Options about what kind of Facade to create.\n *\n * @augments Facade\n */\nfunction Delete(dictionary, opts) {\n  Facade.call(this, dictionary, opts);\n}\n\ninherit(Delete, Facade);\n\n/**\n * Return the type of facade this is. This will always return `\"delete\"`.\n *\n * @return {string}\n */\nDelete.prototype.type = function() {\n  return 'delete';\n};\n\nmodule.exports = Delete;\n", "'use strict';\n\nvar Facade = require('./facade');\n\nFacade.Alias = require('./alias');\nFacade.Group = require('./group');\nFacade.Identify = require('./identify');\nFacade.Track = require('./track');\nFacade.Page = require('./page');\nFacade.Screen = require('./screen');\nFacade.Delete = require('./delete');\n\nmodule.exports = Facade;\n", "\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n", "'use strict';\nvar Facade = require('segmentio-facade');\nmodule.exports.SourceMiddlewareChain = function SourceMiddlewareChain() {\n    var apply = middlewareChain(this);\n    this.applyMiddlewares = function (facade, integrations, callback) {\n        return apply(function (mw, payload, next) {\n            mw({\n                integrations: integrations,\n                next: next,\n                payload: payload\n            });\n        }, facade, callback);\n    };\n};\nmodule.exports.IntegrationMiddlewareChain = function IntegrationMiddlewareChain() {\n    var apply = middlewareChain(this);\n    this.applyMiddlewares = function (facade, integration, callback) {\n        return apply(function (mw, payload, next) {\n            mw(payload, integration, next);\n        }, facade, callback);\n    };\n};\nmodule.exports.DestinationMiddlewareChain = function DestinationMiddlewareChain() {\n    var apply = middlewareChain(this);\n    this.applyMiddlewares = function (facade, integration, callback) {\n        return apply(function (mw, payload, next) {\n            mw({ payload: payload, integration: integration, next: next });\n        }, facade, callback);\n    };\n};\n// Chain is essentially a linked list of middlewares to run in order.\nfunction middlewareChain(dest) {\n    var middlewares = [];\n    // Return a copy to prevent external mutations.\n    dest.getMiddlewares = function () {\n        return middlewares.slice();\n    };\n    dest.add = function (middleware) {\n        if (typeof middleware !== 'function')\n            throw new Error('attempted to add non-function middleware');\n        // Check for identical object references - bug check.\n        if (middlewares.indexOf(middleware) !== -1)\n            throw new Error('middleware is already registered');\n        middlewares.push(middleware);\n    };\n    // fn is the callback to be run once all middlewares have been applied.\n    return function applyMiddlewares(run, facade, callback) {\n        if (typeof facade !== 'object')\n            throw new Error('applyMiddlewares requires a payload object');\n        if (typeof callback !== 'function')\n            throw new Error('applyMiddlewares requires a function callback');\n        // Attach callback to the end of the chain.\n        var middlewaresToApply = middlewares.slice();\n        middlewaresToApply.push(callback);\n        executeChain(run, facade, middlewaresToApply, 0);\n    };\n}\n// Go over all middlewares until all have been applied.\nfunction executeChain(run, payload, middlewares, index) {\n    // If the facade has been nullified, immediately skip to the final middleware.\n    if (payload === null) {\n        middlewares[middlewares.length - 1](null);\n        return;\n    }\n    // Check if the payload is still a Facade. If not, convert it to one.\n    if (!(payload instanceof Facade)) {\n        payload = new Facade(payload);\n    }\n    var mw = middlewares[index];\n    if (mw) {\n        // If there's another middleware, continue down the chain. Otherwise, call the final function.\n        if (middlewares[index + 1]) {\n            run(mw, payload, function (result) {\n                executeChain(run, result, middlewares, ++index);\n            });\n        }\n        else {\n            mw(payload);\n        }\n    }\n}\nmodule.exports.middlewareChain = middlewareChain;\n", "/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n", "'use strict';\n\nvar bind = require('component-bind');\n\nfunction bindAll(obj) {\n  // eslint-disable-next-line guard-for-in\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'function') {\n      obj[key] = bind(obj, obj[key]);\n    }\n  }\n  return obj;\n}\n\nmodule.exports = bindAll;\n", "'use strict';\nvar type = require('component-type');\n/**\n * Deeply clone an object.\n *\n * @param {*} obj Any object.\n *\n * COPYRIGHT: https://github.com/ndhoule/clone/blob/master/LICENSE.md\n * The MIT License (MIT)\n * Copyright (c) 2015 Nathan Houle\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar clone = function clone(obj) {\n    var t = type(obj);\n    var copy;\n    if (t === 'object') {\n        copy = {};\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                copy[key] = clone(obj[key]);\n            }\n        }\n        return copy;\n    }\n    if (t === 'array') {\n        copy = new Array(obj.length);\n        for (var i = 0, l = obj.length; i < l; i++) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n    if (t === 'regexp') {\n        // from millermedeiros/amd-utils - MIT\n        var flags = '';\n        flags += obj.multiline ? 'm' : '';\n        flags += obj.global ? 'g' : '';\n        flags += obj.ignoreCase ? 'i' : '';\n        return new RegExp(obj.source, flags);\n    }\n    if (t === 'date') {\n        return new Date(obj.getTime());\n    }\n    // string, number, boolean, etc.\n    return obj;\n};\nmodule.exports = clone;\n", "'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n", "/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options) {\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (value == null) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date() + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.sameSite) str += '; SameSite=' + options.sameSite;\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if (pairs[0] == '') return obj; // eslint-disable-line eqeqeq\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value) {\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e);\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e);\n  }\n}\n", "'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array composed of all but the first `n` elements of an input `collection`.\n *\n * @name drop\n * @api public\n * @param {number} count The number of elements to drop.\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * drop(0, [1, 2, 3]); // => [1, 2, 3]\n * drop(1, [1, 2, 3]); // => [2, 3]\n * drop(2, [1, 2, 3]); // => [3]\n * drop(3, [1, 2, 3]); // => []\n * drop(4, [1, 2, 3]); // => []\n */\nvar drop = function drop(count, collection) {\n  var length = collection ? collection.length : 0;\n\n  if (!length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var toDrop = max(Number(count) || 0, 0);\n  var resultsLength = max(length - toDrop, 0);\n  var results = new Array(resultsLength);\n\n  for (var i = 0; i < resultsLength; i += 1) {\n    results[i] = collection[i + toDrop];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = drop;\n", "'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array by passing each value in the input `collection` through a transformative\n * `iterator` function. The `iterator` function is passed three arguments:\n * `(value, index, collection)`.\n *\n * @name rest\n * @api public\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * rest([1, 2, 3]); // => [2, 3]\n */\nvar rest = function rest(collection) {\n  if (collection == null || !collection.length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var results = new Array(max(collection.length - 2, 0));\n\n  for (var i = 1; i < collection.length; i += 1) {\n    results[i - 1] = collection[i];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = rest;\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar drop = require('@ndhoule/drop');\nvar rest = require('@ndhoule/rest');\n\nvar has = Object.prototype.hasOwnProperty;\nvar objToString = Object.prototype.toString;\n\n/**\n * Returns `true` if a value is an object, otherwise `false`.\n *\n * @name isObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isObject = function isObject(value) {\n  return Boolean(value) && typeof value === 'object';\n};\n\n/**\n * Returns `true` if a value is a plain object, otherwise `false`.\n *\n * @name isPlainObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isPlainObject = function isPlainObject(value) {\n  return Boolean(value) && objToString.call(value) === '[object Object]';\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined.\n *\n * @name shallowCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n */\nvar shallowCombiner = function shallowCombiner(target, source, value, key) {\n  if (has.call(source, key) && target[key] === undefined) {\n    target[key] = value;\n  }\n  return source;\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined; also merges objects recursively.\n *\n * @name deepCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n * @return {Object}\n */\nvar deepCombiner = function(target, source, value, key) {\n  if (has.call(source, key)) {\n    if (isPlainObject(target[key]) && isPlainObject(value)) {\n        target[key] = defaultsDeep(target[key], value);\n    } else if (target[key] === undefined) {\n        target[key] = value;\n    }\n  }\n\n  return source;\n};\n\n/**\n * TODO: Document\n *\n * @name defaultsWith\n * @api private\n * @param {Function} combiner\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} Return the input `target`.\n */\nvar defaultsWith = function(combiner, target /*, ...sources */) {\n  if (!isObject(target)) {\n    return target;\n  }\n\n  combiner = combiner || shallowCombiner;\n  var sources = drop(2, arguments);\n\n  for (var i = 0; i < sources.length; i += 1) {\n    for (var key in sources[i]) {\n      combiner(target, sources[i], sources[i][key], key);\n    }\n  }\n\n  return target;\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n * Recurses on objects.\n *\n * @name defaultsDeep\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} The input `target`.\n */\nvar defaultsDeep = function defaultsDeep(target /*, sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [deepCombiner, target].concat(rest(arguments)));\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n *\n * @name defaults\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object}\n * @example\n * var a = { a: 1 };\n * var b = { a: 2, b: 2 };\n *\n * defaults(a, b);\n * console.log(a); //=> { a: 1, b: 2 }\n */\nvar defaults = function(target /*, ...sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [null, target].concat(rest(arguments)));\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = defaults;\nmodule.exports.deep = defaultsDeep;\n", "\n/**\n * Parse the given `url`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(url){\n  var a = document.createElement('a');\n  a.href = url;\n  return {\n    href: a.href,\n    host: a.host || location.host,\n    port: ('0' === a.port || '' === a.port) ? port(a.protocol) : a.port,\n    hash: a.hash,\n    hostname: a.hostname || location.hostname,\n    pathname: a.pathname.charAt(0) != '/' ? '/' + a.pathname : a.pathname,\n    protocol: !a.protocol || ':' == a.protocol ? location.protocol : a.protocol,\n    search: a.search,\n    query: a.search.slice(1)\n  };\n};\n\n/**\n * Check if `url` is absolute.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isAbsolute = function(url){\n  return 0 == url.indexOf('//') || !!~url.indexOf('://');\n};\n\n/**\n * Check if `url` is relative.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isRelative = function(url){\n  return !exports.isAbsolute(url);\n};\n\n/**\n * Check if `url` is cross domain.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isCrossDomain = function(url){\n  url = exports.parse(url);\n  var location = exports.parse(window.location.href);\n  return url.hostname !== location.hostname\n    || url.port !== location.port\n    || url.protocol !== location.protocol;\n};\n\n/**\n * Return default port for `protocol`.\n *\n * @param  {String} protocol\n * @return {String}\n * @api private\n */\nfunction port (protocol){\n  switch (protocol) {\n    case 'http:':\n      return 80;\n    case 'https:':\n      return 443;\n    default:\n      return location.port;\n  }\n}\n", "\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar parse = require('component-url').parse;\nvar cookie = require('component-cookie');\n\n/**\n * Get the top domain.\n *\n * The function constructs the levels of domain and attempts to set a global\n * cookie on each one when it succeeds it returns the top level domain.\n *\n * The method returns an empty string when the hostname is an ip or `localhost`.\n *\n * Example levels:\n *\n *      domain.levels('http://www.google.co.uk');\n *      // => [\"co.uk\", \"google.co.uk\", \"www.google.co.uk\"]\n *\n * Example:\n *\n *      domain('http://localhost:3000/baz');\n *      // => ''\n *      domain('http://dev:3000/baz');\n *      // => ''\n *      domain('http://127.0.0.1:3000/baz');\n *      // => ''\n *      domain('http://segment.io/baz');\n *      // => 'segment.io'\n *\n * @param {string} url\n * @return {string}\n * @api public\n */\nfunction domain(url) {\n  var cookie = exports.cookie;\n  var levels = exports.levels(url);\n\n  // Lookup the real top level one.\n  for (var i = 0; i < levels.length; ++i) {\n    var cname = '__tld__';\n    var domain = levels[i];\n    var opts = { domain: '.' + domain };\n\n    cookie(cname, 1, opts);\n    if (cookie(cname)) {\n      cookie(cname, null, opts);\n      return domain;\n    }\n  }\n\n  return '';\n}\n\n/**\n * Levels returns all levels of the given url.\n *\n * @param {string} url\n * @return {Array}\n * @api public\n */\ndomain.levels = function(url) {\n  var host = parse(url).hostname;\n  var parts = host.split('.');\n  var last = parts[parts.length - 1];\n  var levels = [];\n\n  // Ip address.\n  if (parts.length === 4 && last === parseInt(last, 10)) {\n    return levels;\n  }\n\n  // Localhost.\n  if (parts.length <= 1) {\n    return levels;\n  }\n\n  // Create levels.\n  for (var i = parts.length - 2; i >= 0; --i) {\n    levels.push(parts.slice(i).join('.'));\n  }\n\n  return levels;\n};\n\n/**\n * Expose cookie on domain.\n */\ndomain.cookie = cookie;\n\n/*\n * Exports.\n */\n\nexports = module.exports = domain;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Module dependencies.\n */\nvar bindAll = require('bind-all');\nvar clone = require('./utils/clone');\nvar cookie = require('@segment/cookie');\nvar debug = require('debug')('analytics.js:cookie');\nvar defaults = require('@ndhoule/defaults');\nvar topDomain = require('@segment/top-domain');\n/**\n * Initialize a new `Cookie` with `options`.\n *\n * @param {Object} options\n */\nfunction Cookie(options) {\n    this.options(options);\n}\n/**\n * Get or set the cookie options.\n */\nCookie.prototype.options = function (options) {\n    if (arguments.length === 0)\n        return this._options;\n    options = options || {};\n    var domain = '.' + topDomain(window.location.href);\n    if (domain === '.')\n        domain = null;\n    this._options = defaults(options, {\n        // default to a year\n        maxage: 31536000000,\n        path: '/',\n        domain: domain,\n        sameSite: 'Lax'\n    });\n    // http://curl.haxx.se/rfc/cookie_spec.html\n    // https://publicsuffix.org/list/effective_tld_names.dat\n    //\n    // try setting a dummy cookie with the options\n    // if the cookie isn't set, it probably means\n    // that the domain is on the public suffix list\n    // like myapp.herokuapp.com or localhost / ip.\n    this.set('ajs:test', true);\n    if (!this.get('ajs:test')) {\n        debug('fallback to domain=null');\n        this._options.domain = null;\n    }\n    this.remove('ajs:test');\n};\n/**\n * Set a `key` and `value` in our cookie.\n */\nCookie.prototype.set = function (key, value) {\n    try {\n        value = window.JSON.stringify(value);\n        cookie(key, value === 'null' ? null : value, clone(this._options));\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n};\n/**\n * Get a value from our cookie by `key`.\n */\nCookie.prototype.get = function (key) {\n    try {\n        var value = cookie(key);\n        value = value ? window.JSON.parse(value) : null;\n        return value;\n    }\n    catch (e) {\n        return null;\n    }\n};\n/**\n * Remove a value from our cookie by `key`.\n */\nCookie.prototype.remove = function (key) {\n    try {\n        cookie(key, null, clone(this._options));\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n};\n/**\n * Expose the cookie singleton.\n */\nmodule.exports = bindAll(new Cookie());\n/**\n * Expose the `Cookie` constructor.\n */\nmodule.exports.Cookie = Cookie;\n", "/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root.Object());\n    exports || (exports = root.Object());\n\n    // Native constructor aliases.\n    var Number = context.Number || root.Number,\n        String = context.String || root.String,\n        Object = context.Object || root.Object,\n        Date = context.Date || root.Date,\n        SyntaxError = context.SyntaxError || root.SyntaxError,\n        TypeError = context.TypeError || root.TypeError,\n        Math = context.Math || root.Math,\n        nativeJSON = context.JSON || root.JSON;\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty = objectProto.hasOwnProperty,\n        undefined;\n\n    // Internal: Contains `try...catch` logic used by other functions.\n    // This prevents other functions from being deoptimized.\n    function attempt(func, errorFunc) {\n      try {\n        func();\n      } catch (exception) {\n        if (errorFunc) {\n          errorFunc();\n        }\n      }\n    }\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    attempt(function () {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    });\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] != null) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"date-serialization\") && has(\"json-parse\");\n      } else if (name == \"date-serialization\") {\n        // Indicates whether `Date`s can be serialized accurately by `JSON.stringify`.\n        isSupported = has(\"json-stringify\") && isExtended;\n        if (isSupported) {\n          var stringify = exports.stringify;\n          attempt(function () {\n            isSupported =\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          });\n        }\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\";\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            attempt(function () {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undefined &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undefined) === undefined &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undefined &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undefined]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undefined, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\";\n            }, function () {\n              stringifySupported = false;\n            });\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse, parseSupported;\n          if (typeof parse == \"function\") {\n            attempt(function () {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  attempt(function () {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  });\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    });\n                  }\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    });\n                  }\n                }\n              }\n            }, function () {\n              parseSupported = false;\n            });\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n    has[\"bug-string-char-index\"] = has[\"date-serialization\"] = has[\"json\"] = has[\"json-stringify\"] = has[\"json-parse\"] = null;\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      var forOwn = function (object, callback) {\n        var size = 0, Properties, dontEnums, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        dontEnums = new Properties();\n        for (property in dontEnums) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(dontEnums, property)) {\n            size++;\n          }\n        }\n        Properties = dontEnums = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          dontEnums = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = dontEnums.length; property = dontEnums[--length];) {\n              if (hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forOwn(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\") && !has(\"date-serialization\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Serializes a date object.\n        var serializeDate = function (value) {\n          var getData, year, month, date, time, hours, minutes, seconds, milliseconds;\n          // Define additional utility methods if the `Date` methods are buggy.\n          if (!isExtended) {\n            var floor = Math.floor;\n            // A mapping between the months of the year and the number of days between\n            // January 1st and the first of the respective month.\n            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n            // Internal: Calculates the number of days between the Unix epoch and the\n            // first day of the given month.\n            var getDay = function (year, month) {\n              return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n            };\n            getData = function (value) {\n              // Manually compute the year, month, date, hours, minutes,\n              // seconds, and milliseconds if the `getUTC*` methods are\n              // buggy. Adapted from @Yaffle's `date-shim` project.\n              date = floor(value / 864e5);\n              for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n              for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n              date = 1 + date - getDay(year, month);\n              // The `time` value specifies the time within the day (see ES\n              // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n              // to compute `A modulo B`, as the `%` operator does not\n              // correspond to the `modulo` operation for negative numbers.\n              time = (value % 864e5 + 864e5) % 864e5;\n              // The hours, minutes, seconds, and milliseconds are obtained by\n              // decomposing the time within the day. See section 15.9.1.10.\n              hours = floor(time / 36e5) % 24;\n              minutes = floor(time / 6e4) % 60;\n              seconds = floor(time / 1e3) % 60;\n              milliseconds = time % 1e3;\n            };\n          } else {\n            getData = function (value) {\n              year = value.getUTCFullYear();\n              month = value.getUTCMonth();\n              date = value.getUTCDate();\n              hours = value.getUTCHours();\n              minutes = value.getUTCMinutes();\n              seconds = value.getUTCSeconds();\n              milliseconds = value.getUTCMilliseconds();\n            };\n          }\n          serializeDate = function (value) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              getData(value);\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n              \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n              // Months, dates, hours, minutes, and seconds should have two\n              // digits; milliseconds should have three.\n              \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n              // Milliseconds are optional in ES 5.0, but required in 5.1.\n              \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              year = month = date = hours = minutes = seconds = milliseconds = null;\n            } else {\n              value = null;\n            }\n            return value;\n          };\n          return serializeDate(value);\n        };\n\n        // For environments with `JSON.stringify` but buggy date serialization,\n        // we override the native `Date#toJSON` implementation with a\n        // spec-compliant one.\n        if (has(\"json-stringify\") && !has(\"date-serialization\")) {\n          // Internal: the `Date#toJSON` implementation used to override the native one.\n          function dateToJSON (key) {\n            return serializeDate(this);\n          }\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          var nativeStringify = exports.stringify;\n          exports.stringify = function (source, filter, width) {\n            var nativeToJSON = Date.prototype.toJSON;\n            Date.prototype.toJSON = dateToJSON;\n            var result = nativeStringify(source, filter, width);\n            Date.prototype.toJSON = nativeToJSON;\n            return result;\n          }\n        } else {\n          // Internal: Double-quotes a string `value`, replacing all ASCII control\n          // characters (characters with code unit values between 0 and 31) with\n          // their escaped equivalents. This is an implementation of the\n          // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n          var unicodePrefix = \"\\\\u00\";\n          var escapeChar = function (character) {\n            var charCode = character.charCodeAt(0), escaped = Escapes[charCode];\n            if (escaped) {\n              return escaped;\n            }\n            return unicodePrefix + toPaddedString(2, charCode.toString(16));\n          };\n          var reEscape = /[\\x00-\\x1f\\x22\\x5c]/g;\n          var quote = function (value) {\n            reEscape.lastIndex = 0;\n            return '\"' +\n              (\n                reEscape.test(value)\n                  ? value.replace(reEscape, escapeChar)\n                  : value\n              ) +\n              '\"';\n          };\n\n          // Internal: Recursively serializes an object. Implements the\n          // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n          var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n            var value, type, className, results, element, index, length, prefix, result;\n            attempt(function () {\n              // Necessary for host object support.\n              value = object[property];\n            });\n            if (typeof value == \"object\" && value) {\n              if (value.getUTCFullYear && getClass.call(value) == dateClass && value.toJSON === Date.prototype.toJSON) {\n                value = serializeDate(value);\n              } else if (typeof value.toJSON == \"function\") {\n                value = value.toJSON(property);\n              }\n            }\n            if (callback) {\n              // If a replacement function was provided, call it to obtain the value\n              // for serialization.\n              value = callback.call(object, property, value);\n            }\n            // Exit early if value is `undefined` or `null`.\n            if (value == undefined) {\n              return value === undefined ? value : \"null\";\n            }\n            type = typeof value;\n            // Only call `getClass` if the value is an object.\n            if (type == \"object\") {\n              className = getClass.call(value);\n            }\n            switch (className || type) {\n              case \"boolean\":\n              case booleanClass:\n                // Booleans are represented literally.\n                return \"\" + value;\n              case \"number\":\n              case numberClass:\n                // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n                // `\"null\"`.\n                return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n              case \"string\":\n              case stringClass:\n                // Strings are double-quoted and escaped.\n                return quote(\"\" + value);\n            }\n            // Recursively serialize objects and arrays.\n            if (typeof value == \"object\") {\n              // Check for cyclic structures. This is a linear search; performance\n              // is inversely proportional to the number of unique nested objects.\n              for (length = stack.length; length--;) {\n                if (stack[length] === value) {\n                  // Cyclic structures cannot be serialized by `JSON.stringify`.\n                  throw TypeError();\n                }\n              }\n              // Add the object to the stack of traversed objects.\n              stack.push(value);\n              results = [];\n              // Save the current indentation level and indent one additional level.\n              prefix = indentation;\n              indentation += whitespace;\n              if (className == arrayClass) {\n                // Recursively serialize array elements.\n                for (index = 0, length = value.length; index < length; index++) {\n                  element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                  results.push(element === undefined ? \"null\" : element);\n                }\n                result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n              } else {\n                // Recursively serialize object members. Members are selected from\n                // either a user-specified list of property names, or the object\n                // itself.\n                forOwn(properties || value, function (property) {\n                  var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                  if (element !== undefined) {\n                    // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                    // is not the empty string, let `member` {quote(property) + \":\"}\n                    // be the concatenation of `member` and the `space` character.\"\n                    // The \"`space` character\" refers to the literal space\n                    // character, not the `space` {width} argument provided to\n                    // `JSON.stringify`.\n                    results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                  }\n                });\n                result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n              }\n              // Remove the object from the traversed object stack.\n              stack.pop();\n              return result;\n            }\n          };\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          exports.stringify = function (source, filter, width) {\n            var whitespace, callback, properties, className;\n            if (objectTypes[typeof filter] && filter) {\n              className = getClass.call(filter);\n              if (className == functionClass) {\n                callback = filter;\n              } else if (className == arrayClass) {\n                // Convert the property names array into a makeshift set.\n                properties = {};\n                for (var index = 0, length = filter.length, value; index < length;) {\n                  value = filter[index++];\n                  className = getClass.call(value);\n                  if (className == \"[object String]\" || className == \"[object Number]\") {\n                    properties[value] = 1;\n                  }\n                }\n              }\n            }\n            if (width) {\n              className = getClass.call(width);\n              if (className == numberClass) {\n                // Convert the `width` to an integer and create a string containing\n                // `width` number of space characters.\n                if ((width -= width % 1) > 0) {\n                  if (width > 10) {\n                    width = 10;\n                  }\n                  for (whitespace = \"\"; whitespace.length < width;) {\n                    whitespace += \" \";\n                  }\n                }\n              } else if (className == stringClass) {\n                whitespace = width.length <= 10 ? width : width.slice(0, 10);\n              }\n            }\n            // Opera <= 7.54u2 discards the values associated with empty string keys\n            // (`\"\"`) only if they are used directly within an object member list\n            // (e.g., `!(\"\" in { \"\": 1})`).\n            return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n          };\n        }\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                var temp = source.slice(Index, Index + 4);\n                if (temp == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (temp == \"fals\" && source.charCodeAt(Index + 4 ) == 101) {\n                  Index += 5;\n                  return false;\n                } else if (temp == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;;) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;;) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undefined) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forOwn` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(getClass, forOwn, value, length, callback);\n              }\n            } else {\n              forOwn(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports.runInContext = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root.JSON3,\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root.JSON3 = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root.JSON3 = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n", "module.exports = encode;\n\nfunction encode(string) {\n    string = string.replace(/\\r\\n/g, \"\\n\");\n    var utftext = \"\";\n\n    for (var n = 0; n < string.length; n++) {\n\n        var c = string.charCodeAt(n);\n\n        if (c < 128) {\n            utftext += String.fromCharCode(c);\n        }\n        else if ((c > 127) && (c < 2048)) {\n            utftext += String.fromCharCode((c >> 6) | 192);\n            utftext += String.fromCharCode((c & 63) | 128);\n        }\n        else {\n            utftext += String.fromCharCode((c >> 12) | 224);\n            utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n            utftext += String.fromCharCode((c & 63) | 128);\n        }\n\n    }\n\n    return utftext;\n}", "var utf8Encode = require('utf8-encode');\nvar keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nmodule.exports = encode;\nfunction encode(input) {\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = utf8Encode(input);\n\n    while (i < input.length) {\n\n        chr1 = input.charCodeAt(i++);\n        chr2 = input.charCodeAt(i++);\n        chr3 = input.charCodeAt(i++);\n\n        enc1 = chr1 >> 2;\n        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n        enc4 = chr3 & 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n\n        output = output +\n            keyStr.charAt(enc1) + keyStr.charAt(enc2) +\n            keyStr.charAt(enc3) + keyStr.charAt(enc4);\n\n    }\n\n    return output;\n}", "\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n", "/**\n * Module dependencies\n */\n\nvar debug = require('debug')('jsonp');\n\n/**\n * Module exports.\n */\n\nmodule.exports = jsonp;\n\n/**\n * Callback index.\n */\n\nvar count = 0;\n\n/**\n * Noop function.\n */\n\nfunction noop(){}\n\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n * @param {Function} optional callback\n */\n\nfunction jsonp(url, opts, fn){\n  if ('function' == typeof opts) {\n    fn = opts;\n    opts = {};\n  }\n  if (!opts) opts = {};\n\n  var prefix = opts.prefix || '__jp';\n\n  // use the callback name that was passed if one was provided.\n  // otherwise generate a unique name by incrementing our counter.\n  var id = opts.name || (prefix + (count++));\n\n  var param = opts.param || 'callback';\n  var timeout = null != opts.timeout ? opts.timeout : 60000;\n  var enc = encodeURIComponent;\n  var target = document.getElementsByTagName('script')[0] || document.head;\n  var script;\n  var timer;\n\n\n  if (timeout) {\n    timer = setTimeout(function(){\n      cleanup();\n      if (fn) fn(new Error('Timeout'));\n    }, timeout);\n  }\n\n  function cleanup(){\n    if (script.parentNode) script.parentNode.removeChild(script);\n    window[id] = noop;\n    if (timer) clearTimeout(timer);\n  }\n\n  function cancel(){\n    if (window[id]) {\n      cleanup();\n    }\n  }\n\n  window[id] = function(data){\n    debug('jsonp got', data);\n    cleanup();\n    if (fn) fn(null, data);\n  };\n\n  // add qs component\n  url += (~url.indexOf('?') ? '&' : '?') + param + '=' + enc(id);\n  url = url.replace('?&', '?');\n\n  debug('jsonp req \"%s\"', url);\n\n  // create script\n  script = document.createElement('script');\n  script.src = url;\n  target.parentNode.insertBefore(script, target);\n\n  return cancel;\n}\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar JSON = require('json3');\nvar base64encode = require('@segment/base64-encode');\nvar cors = require('has-cors');\nvar jsonp = require('jsonp');\n\n/*\n * Exports.\n */\n\nexports = module.exports = cors ? json : base64;\n\n/**\n * Expose `callback`\n */\n\nexports.callback = 'callback';\n\n/**\n * Expose `prefix`\n */\n\nexports.prefix = 'data';\n\n/**\n * Expose `json`.\n */\n\nexports.json = json;\n\n/**\n * Expose `base64`.\n */\n\nexports.base64 = base64;\n\n/**\n * Expose `type`\n */\n\nexports.type = cors ? 'xhr' : 'jsonp';\n\n/**\n * Send the given `obj` to `url` with `fn(err, req)`.\n *\n * @param {String} url\n * @param {Object} obj\n * @param {Object} headers\n * @param {Function} fn\n * @api private\n */\n\nfunction json(url, obj, headers, fn) {\n  if (arguments.length === 3) fn = headers, headers = {};\n\n  var req = new XMLHttpRequest;\n  req.onerror = fn;\n  req.onreadystatechange = done;\n  req.open('POST', url, true);\n\n  // TODO: Remove this eslint disable\n  // eslint-disable-next-line guard-for-in\n  for (var k in headers) {\n    req.setRequestHeader(k, headers[k]);\n  }\n  req.send(JSON.stringify(obj));\n\n  function done() {\n    if (req.readyState === 4) {\n      return fn(null, req);\n    }\n  }\n}\n\n/**\n * Send the given `obj` to `url` with `fn(err, req)`.\n *\n * @param {String} url\n * @param {Object} obj\n * @param {Function} fn\n * @api private\n */\n\nfunction base64(url, obj, _, fn) {\n  if (arguments.length === 3) fn = _;\n\n  var prefix = exports.prefix;\n  var data = encode(obj);\n  url += '?' + prefix + '=' + data;\n  jsonp(url, { param: exports.callback }, function(err, obj) {\n    if (err) return fn(err);\n    fn(null, {\n      url: url,\n      body: obj\n    });\n  });\n}\n\n/**\n * Encodes `obj`.\n *\n * @param {Object} obj\n */\n\nfunction encode(obj) {\n  var str = '';\n  str = JSON.stringify(obj);\n  str = base64encode(str);\n  str = str.replace(/\\+/g, '-').replace(/\\//g, '_');\n  return encodeURIComponent(str);\n}\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bindAll = require('bind-all');\nvar send = require('@segment/send-json');\nvar debug = require('debug')('analytics.js:metrics');\nfunction Metrics(options) {\n    this.options(options);\n}\n/**\n * Set the metrics options.\n */\nMetrics.prototype.options = function (options) {\n    options = options || {};\n    this.host = options.host || 'api.segment.io/v1';\n    this.sampleRate = options.sampleRate || 0; // disable metrics by default.\n    this.flushTimer = options.flushTimer || 30 * 1000 /* 30s */;\n    this.maxQueueSize = options.maxQueueSize || 20;\n    this.queue = [];\n    if (this.sampleRate > 0) {\n        var self = this;\n        setInterval(function () {\n            self._flush();\n        }, this.flushTimer);\n    }\n};\n/**\n * Increments the counter identified by name and tags by one.\n */\nMetrics.prototype.increment = function (metric, tags) {\n    if (Math.random() > this.sampleRate) {\n        return;\n    }\n    if (this.queue.length >= this.maxQueueSize) {\n        return;\n    }\n    this.queue.push({ type: 'Counter', metric: metric, value: 1, tags: tags });\n    // Trigger a flush if this is an error metric.\n    if (metric.indexOf('error') > 0) {\n        this._flush();\n    }\n};\n/**\n * Flush all queued metrics.\n */\nMetrics.prototype._flush = function () {\n    var self = this;\n    if (self.queue.length <= 0) {\n        return;\n    }\n    var payload = { series: this.queue };\n    var headers = { 'Content-Type': 'text/plain' };\n    self.queue = [];\n    // This endpoint does not support jsonp, so only proceed if the browser\n    // supports xhr.\n    if (send.type !== 'xhr')\n        return;\n    send('https://' + this.host + '/m', payload, headers, function (err, res) {\n        debug('sent %O, received %O', payload, [err, res]);\n    });\n};\n/**\n * Expose the metrics singleton.\n */\nmodule.exports = bindAll(new Metrics());\n/**\n * Expose the `Metrics` constructor.\n */\nmodule.exports.Metrics = Metrics;\n", "'use strict';\n\nvar hop = Object.prototype.hasOwnProperty;\nvar strCharAt = String.prototype.charAt;\nvar toStr = Object.prototype.toString;\n\n/**\n * Returns the character at a given index.\n *\n * @param {string} str\n * @param {number} index\n * @return {string|undefined}\n */\n// TODO: Move to a library\nvar charAt = function(str, index) {\n  return strCharAt.call(str, index);\n};\n\n/**\n * hasOwnProperty, wrapped as a function.\n *\n * @name has\n * @api private\n * @param {*} context\n * @param {string|number} prop\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar has = function has(context, prop) {\n  return hop.call(context, prop);\n};\n\n/**\n * Returns true if a value is a string, otherwise false.\n *\n * @name isString\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar isString = function isString(val) {\n  return toStr.call(val) === '[object String]';\n};\n\n/**\n * Returns true if a value is array-like, otherwise false. Array-like means a\n * value is not null, undefined, or a function, and has a numeric `length`\n * property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (typeof val !== 'function' && typeof val.length === 'number');\n};\n\n\n/**\n * indexKeys\n *\n * @name indexKeys\n * @api private\n * @param {} target\n * @param {Function} pred\n * @return {Array}\n */\nvar indexKeys = function indexKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var i = 0, len = target.length; i < len; i += 1) {\n    if (pred(target, i)) {\n      results.push(String(i));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Returns an array of an object's owned keys.\n *\n * @name objectKeys\n * @api private\n * @param {*} target\n * @param {Function} pred Predicate function used to include/exclude values from\n * the resulting array.\n * @return {Array}\n */\nvar objectKeys = function objectKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var key in target) {\n    if (pred(target, key)) {\n      results.push(String(key));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Creates an array composed of all keys on the input object. Ignores any non-enumerable properties.\n * More permissive than the native `Object.keys` function (non-objects will not throw errors).\n *\n * @name keys\n * @api public\n * @category Object\n * @param {Object} source The value to retrieve keys from.\n * @return {Array} An array containing all the input `source`'s keys.\n * @example\n * keys({ likes: 'avocado', hates: 'pineapple' });\n * //=> ['likes', 'pineapple'];\n *\n * // Ignores non-enumerable properties\n * var hasHiddenKey = { name: 'Tim' };\n * Object.defineProperty(hasHiddenKey, 'hidden', {\n *   value: 'i am not enumerable!',\n *   enumerable: false\n * })\n * keys(hasHiddenKey);\n * //=> ['name'];\n *\n * // Works on arrays\n * keys(['a', 'b', 'c']);\n * //=> ['0', '1', '2']\n *\n * // Skips unpopulated indices in sparse arrays\n * var arr = [1];\n * arr[4] = 4;\n * keys(arr);\n * //=> ['0', '4']\n */\nvar keys = function keys(source) {\n  if (source == null) {\n    return [];\n  }\n\n  // IE6-8 compatibility (string)\n  if (isString(source)) {\n    return indexKeys(source, charAt);\n  }\n\n  // IE6-8 compatibility (arguments)\n  if (isArrayLike(source)) {\n    return indexKeys(source, has);\n  }\n\n  return objectKeys(source);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = keys;\n", "'use strict';\n/*\n * The MIT License (MIT)\n * Copyright (c) 2015 Nathan Houle\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/*\n * Module dependencies.\n */\nvar keys = require('@ndhoule/keys');\nvar objToString = Object.prototype.toString;\n/**\n * Tests if a value is a number.\n *\n * @name isNumber\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if `val` is a number, otherwise `false`.\n */\nvar isNumber = function isNumber(val) {\n    var type = typeof val;\n    return (type === 'number' ||\n        (type === 'object' && objToString.call(val) === '[object Number]'));\n};\n/**\n * Tests if a value is an array.\n *\n * @name isArray\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if the value is an array, otherwise `false`.\n */\nvar isArray = typeof Array.isArray === 'function'\n    ? Array.isArray\n    : function isArray(val) {\n        return objToString.call(val) === '[object Array]';\n    };\n/**\n * Tests if a value is array-like. Array-like means the value is not a function and has a numeric\n * `.length` property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\nvar isArrayLike = function isArrayLike(val) {\n    return (val != null &&\n        (isArray(val) || (val !== 'function' && isNumber(val.length))));\n};\n/**\n * Internal implementation of `each`. Works on arrays and array-like data structures.\n *\n * @name arrayEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array} array The array(-like) structure to iterate over.\n * @return {undefined}\n */\nvar arrayEach = function arrayEach(iterator, array) {\n    for (var i = 0; i < array.length; i += 1) {\n        // Break iteration early if `iterator` returns `false`\n        if (iterator(array[i], i, array) === false) {\n            break;\n        }\n    }\n};\n/**\n * Internal implementation of `each`. Works on objects.\n *\n * @name baseEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Object} object The object to iterate over.\n * @return {undefined}\n */\nvar baseEach = function baseEach(iterator, object) {\n    var ks = keys(object);\n    for (var i = 0; i < ks.length; i += 1) {\n        // Break iteration early if `iterator` returns `false`\n        if (iterator(object[ks[i]], ks[i], object) === false) {\n            break;\n        }\n    }\n};\n/**\n * Iterate over an input collection, invoking an `iterator` function for each element in the\n * collection and passing to it three arguments: `(value, index, collection)`. The `iterator`\n * function can end iteration early by returning `false`.\n *\n * @name each\n * @api public\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array|Object|string} collection The collection to iterate over.\n * @return {undefined} Because `each` is run only for side effects, always returns `undefined`.\n * @example\n * var log = console.log.bind(console);\n *\n * each(log, ['a', 'b', 'c']);\n * //-> 'a', 0, ['a', 'b', 'c']\n * //-> 'b', 1, ['a', 'b', 'c']\n * //-> 'c', 2, ['a', 'b', 'c']\n * //=> undefined\n *\n * each(log, 'tim');\n * //-> 't', 2, 'tim'\n * //-> 'i', 1, 'tim'\n * //-> 'm', 0, 'tim'\n * //=> undefined\n *\n * // Note: Iteration order not guaranteed across environments\n * each(log, { name: 'tim', occupation: 'enchanter' });\n * //-> 'tim', 'name', { name: 'tim', occupation: 'enchanter' }\n * //-> 'enchanter', 'occupation', { name: 'tim', occupation: 'enchanter' }\n * //=> undefined\n */\nvar each = function each(iterator, collection) {\n    return (isArrayLike(collection) ? arrayEach : baseEach).call(this, iterator, collection);\n};\n/*\n * Exports.\n */\nmodule.exports = each;\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Copy the properties of one or more `objects` onto a destination object. Input objects are iterated over\n * in left-to-right order, so duplicate properties on later objects will overwrite those from\n * erevious ones. Only enumerable and own properties of the input objects are copied onto the\n * resulting object.\n *\n * @name extend\n * @api public\n * @category Object\n * @param {Object} dest The destination object.\n * @param {...Object} sources The source objects.\n * @return {Object} `dest`, extended with the properties of all `sources`.\n * @example\n * var a = { a: 'a' };\n * var b = { b: 'b' };\n * var c = { c: 'c' };\n *\n * extend(a, b, c);\n * //=> { a: 'a', b: 'b', c: 'c' };\n */\nvar extend = function extend(dest /*, sources */) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  for (var i = 0; i < sources.length; i += 1) {\n    for (var key in sources[i]) {\n      if (has.call(sources[i], key)) {\n        dest[key] = sources[i][key];\n      }\n    }\n  }\n\n  return dest;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = extend;\n", "'use strict';\n/*\n * Module Dependencies.\n */\nvar bindAll = require('bind-all');\nvar clone = require('./utils/clone');\n/**\n * HOP.\n */\nvar has = Object.prototype.hasOwnProperty;\n/**\n * Expose `Memory`\n */\nmodule.exports = bindAll(new Memory());\n/**\n * Initialize `Memory` store\n */\nfunction Memory() {\n    this.store = {};\n}\n/**\n * Set a `key` and `value`.\n */\nMemory.prototype.set = function (key, value) {\n    this.store[key] = clone(value);\n    return true;\n};\n/**\n * Get a `key`.\n */\nMemory.prototype.get = function (key) {\n    if (!has.call(this.store, key))\n        return;\n    return clone(this.store[key]);\n};\n/**\n * Remove a `key`.\n */\nMemory.prototype.remove = function (key) {\n    delete this.store[key];\n    return true;\n};\n", "\"use strict\"\n\nvar JSON = require('json3');\n\nmodule.exports = (function() {\n\t// Store.js\n\tvar store = {},\n\t\twin = (typeof window != 'undefined' ? window : global),\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.20'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {\n\t\tvar ret = {}\n\t\tstore.forEach(function(key, val) {\n\t\t\tret[key] = val\n\t\t})\n\t\treturn ret\n\t}\n\tstore.forEach = function() {}\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc && doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tvar ieKeyFix = function(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\t\tstorage.removeAttribute(attributes[i].name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\t\n\treturn store\n}())\n", "'use strict';\n/*\n * Module dependencies.\n */\nvar bindAll = require('bind-all');\nvar defaults = require('@ndhoule/defaults');\nvar store = require('@segment/store');\n/**\n * Initialize a new `Store` with `options`.\n *\n * @param {Object} options\n */\nfunction Store(options) {\n    this.options(options);\n}\n/**\n * Set the `options` for the store.\n */\nStore.prototype.options = function (options) {\n    if (arguments.length === 0)\n        return this._options;\n    options = options || {};\n    defaults(options, { enabled: true });\n    this.enabled = options.enabled && store.enabled;\n    this._options = options;\n};\n/**\n * Set a `key` and `value` in local storage.\n */\nStore.prototype.set = function (key, value) {\n    if (!this.enabled)\n        return false;\n    return store.set(key, value);\n};\n/**\n * Get a value from local storage by `key`.\n */\nStore.prototype.get = function (key) {\n    if (!this.enabled)\n        return null;\n    return store.get(key);\n};\n/**\n * Remove a value from local storage by `key`.\n */\nStore.prototype.remove = function (key) {\n    if (!this.enabled)\n        return false;\n    return store.remove(key);\n};\n/**\n * Expose the store singleton.\n */\nmodule.exports = bindAll(new Store());\n/**\n * Expose the `Store` constructor.\n */\nmodule.exports.Store = Store;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies.\n */\nvar clone = require('./utils/clone');\nvar cookie = require('./cookie');\nvar debug = require('debug')('analytics:entity');\nvar defaults = require('@ndhoule/defaults');\nvar extend = require('@ndhoule/extend');\nvar memory = require('./memory');\nvar store = require('./store');\nvar isodateTraverse = require('@segment/isodate-traverse');\n/**\n * Expose `Entity`\n */\nmodule.exports = Entity;\n/**\n * Initialize new `Entity` with `options`.\n */\nfunction Entity(options) {\n    this.options(options);\n    this.initialize();\n}\n/**\n * Initialize picks the storage.\n *\n * Checks to see if cookies can be set\n * otherwise fallsback to localStorage.\n */\nEntity.prototype.initialize = function () {\n    cookie.set('ajs:cookies', true);\n    // cookies are enabled.\n    if (cookie.get('ajs:cookies')) {\n        cookie.remove('ajs:cookies');\n        this._storage = cookie;\n        return;\n    }\n    // localStorage is enabled.\n    if (store.enabled) {\n        this._storage = store;\n        return;\n    }\n    // fallback to memory storage.\n    debug('warning using memory store both cookies and localStorage are disabled');\n    this._storage = memory;\n};\n/**\n * Get the storage.\n */\nEntity.prototype.storage = function () {\n    return this._storage;\n};\n/**\n * Get or set storage `options`.\n */\nEntity.prototype.options = function (options) {\n    if (arguments.length === 0)\n        return this._options;\n    this._options = defaults(options || {}, this.defaults || {});\n};\n/**\n * Get or set the entity's `id`.\n */\nEntity.prototype.id = function (id) {\n    switch (arguments.length) {\n        case 0:\n            return this._getId();\n        case 1:\n            return this._setId(id);\n        default:\n        // No default case\n    }\n};\n/**\n * Get the entity's id.\n */\nEntity.prototype._getId = function () {\n    if (!this._options.persist) {\n        return this._id === undefined ? null : this._id;\n    }\n    // Check cookies.\n    var cookieId = this._getIdFromCookie();\n    if (cookieId) {\n        return cookieId;\n    }\n    // Check localStorage.\n    var lsId = this._getIdFromLocalStorage();\n    if (lsId) {\n        // Copy the id to cookies so we can read it directly from cookies next time.\n        this._setIdInCookies(lsId);\n        return lsId;\n    }\n    return null;\n};\n/**\n * Get the entity's id from cookies.\n */\n// FIXME `options.cookie` is an optional field, so `this._options.cookie.key`\n// can thrown an exception.\nEntity.prototype._getIdFromCookie = function () {\n    return this.storage().get(this._options.cookie.key);\n};\n/**\n * Get the entity's id from cookies.\n */\nEntity.prototype._getIdFromLocalStorage = function () {\n    if (!this._options.localStorageFallbackDisabled) {\n        return store.get(this._options.cookie.key);\n    }\n    return null;\n};\n/**\n * Set the entity's `id`.\n */\nEntity.prototype._setId = function (id) {\n    if (this._options.persist) {\n        this._setIdInCookies(id);\n        this._setIdInLocalStorage(id);\n    }\n    else {\n        this._id = id;\n    }\n};\n/**\n * Set the entity's `id` in cookies.\n */\nEntity.prototype._setIdInCookies = function (id) {\n    this.storage().set(this._options.cookie.key, id);\n};\n/**\n * Set the entity's `id` in local storage.\n */\nEntity.prototype._setIdInLocalStorage = function (id) {\n    if (!this._options.localStorageFallbackDisabled) {\n        store.set(this._options.cookie.key, id);\n    }\n};\n/**\n * Get or set the entity's `traits`.\n *\n * BACKWARDS COMPATIBILITY: aliased to `properties`\n */\nEntity.prototype.properties = Entity.prototype.traits = function (traits) {\n    switch (arguments.length) {\n        case 0:\n            return this._getTraits();\n        case 1:\n            return this._setTraits(traits);\n        default:\n        // No default case\n    }\n};\n/**\n * Get the entity's traits. Always convert ISO date strings into real dates,\n * since they aren't parsed back from local storage.\n */\nEntity.prototype._getTraits = function () {\n    var ret = this._options.persist\n        ? store.get(this._options.localStorage.key)\n        : this._traits;\n    return ret ? isodateTraverse(clone(ret)) : {};\n};\n/**\n * Set the entity's `traits`.\n */\nEntity.prototype._setTraits = function (traits) {\n    traits = traits || {};\n    if (this._options.persist) {\n        store.set(this._options.localStorage.key, traits);\n    }\n    else {\n        this._traits = traits;\n    }\n};\n/**\n * Identify the entity with an `id` and `traits`. If we it's the same entity,\n * extend the existing `traits` instead of overwriting.\n */\nEntity.prototype.identify = function (id, traits) {\n    traits = traits || {};\n    var current = this.id();\n    if (current === null || current === id)\n        traits = extend(this.traits(), traits);\n    if (id)\n        this.id(id);\n    this.debug('identify %o, %o', id, traits);\n    this.traits(traits);\n    this.save();\n};\n/**\n * Save the entity to local storage and the cookie.\n */\nEntity.prototype.save = function () {\n    if (!this._options.persist)\n        return false;\n    this._setId(this.id());\n    this._setTraits(this.traits());\n    return true;\n};\n/**\n * Log the entity out, reseting `id` and `traits` to defaults.\n */\nEntity.prototype.logout = function () {\n    this.id(null);\n    this.traits({});\n    this.storage().remove(this._options.cookie.key);\n    store.remove(this._options.cookie.key);\n    store.remove(this._options.localStorage.key);\n};\n/**\n * Reset all entity state, logging out and returning options to defaults.\n */\nEntity.prototype.reset = function () {\n    this.logout();\n    this.options({});\n};\n/**\n * Load saved entity `id` or `traits` from storage.\n */\nEntity.prototype.load = function () {\n    this.id(this.id());\n    this.traits(this.traits());\n};\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies.\n */\nvar Entity = require('./entity');\nvar bindAll = require('bind-all');\nvar debug = require('debug')('analytics:group');\nvar inherit = require('inherits');\n/**\n * Group defaults\n */\nGroup.defaults = {\n    persist: true,\n    cookie: {\n        key: 'ajs_group_id'\n    },\n    localStorage: {\n        key: 'ajs_group_properties'\n    }\n};\n/**\n * Initialize a new `Group` with `options`.\n */\nfunction Group(options) {\n    this.defaults = Group.defaults;\n    this.debug = debug;\n    Entity.call(this, options);\n}\n/**\n * Inherit `Entity`\n */\ninherit(Group, Entity);\n/**\n * Expose the group singleton.\n */\nmodule.exports = bindAll(new Group());\n/**\n * Expose the `Group` constructor.\n */\nmodule.exports.Group = Group;\n", "/* globals window, HTMLElement */\n\n'use strict';\n\n/**!\n * is\n * the definitive JavaScript type testing library\n *\n * @copyright 2013-2014 Enrico Marino / Jordan Harband\n * @license MIT\n */\n\nvar objProto = Object.prototype;\nvar owns = objProto.hasOwnProperty;\nvar toStr = objProto.toString;\nvar symbolValueOf;\nif (typeof Symbol === 'function') {\n  symbolValueOf = Symbol.prototype.valueOf;\n}\nvar bigIntValueOf;\nif (typeof BigInt === 'function') {\n  bigIntValueOf = BigInt.prototype.valueOf;\n}\nvar isActualNaN = function (value) {\n  return value !== value;\n};\nvar NON_HOST_TYPES = {\n  'boolean': 1,\n  number: 1,\n  string: 1,\n  undefined: 1\n};\n\nvar base64Regex = /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;\nvar hexRegex = /^[A-Fa-f0-9]+$/;\n\n/**\n * Expose `is`\n */\n\nvar is = {};\n\n/**\n * Test general.\n */\n\n/**\n * is.type\n * Test if `value` is a type of `type`.\n *\n * @param {*} value value to test\n * @param {String} type type\n * @return {Boolean} true if `value` is a type of `type`, false otherwise\n * @api public\n */\n\nis.a = is.type = function (value, type) {\n  return typeof value === type;\n};\n\n/**\n * is.defined\n * Test if `value` is defined.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is defined, false otherwise\n * @api public\n */\n\nis.defined = function (value) {\n  return typeof value !== 'undefined';\n};\n\n/**\n * is.empty\n * Test if `value` is empty.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is empty, false otherwise\n * @api public\n */\n\nis.empty = function (value) {\n  var type = toStr.call(value);\n  var key;\n\n  if (type === '[object Array]' || type === '[object Arguments]' || type === '[object String]') {\n    return value.length === 0;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (owns.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return !value;\n};\n\n/**\n * is.equal\n * Test if `value` is equal to `other`.\n *\n * @param {*} value value to test\n * @param {*} other value to compare with\n * @return {Boolean} true if `value` is equal to `other`, false otherwise\n */\n\nis.equal = function equal(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  var type = toStr.call(value);\n  var key;\n\n  if (type !== toStr.call(other)) {\n    return false;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (!is.equal(value[key], other[key]) || !(key in other)) {\n        return false;\n      }\n    }\n    for (key in other) {\n      if (!is.equal(value[key], other[key]) || !(key in value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Array]') {\n    key = value.length;\n    if (key !== other.length) {\n      return false;\n    }\n    while (key--) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Function]') {\n    return value.prototype === other.prototype;\n  }\n\n  if (type === '[object Date]') {\n    return value.getTime() === other.getTime();\n  }\n\n  return false;\n};\n\n/**\n * is.hosted\n * Test if `value` is hosted by `host`.\n *\n * @param {*} value to test\n * @param {*} host host to test with\n * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n * @api public\n */\n\nis.hosted = function (value, host) {\n  var type = typeof host[value];\n  return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * is.instance\n * Test if `value` is an instance of `constructor`.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an instance of `constructor`\n * @api public\n */\n\nis.instance = is['instanceof'] = function (value, constructor) {\n  return value instanceof constructor;\n};\n\n/**\n * is.nil / is.null\n * Test if `value` is null.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is null, false otherwise\n * @api public\n */\n\nis.nil = is['null'] = function (value) {\n  return value === null;\n};\n\n/**\n * is.undef / is.undefined\n * Test if `value` is undefined.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is undefined, false otherwise\n * @api public\n */\n\nis.undef = is.undefined = function (value) {\n  return typeof value === 'undefined';\n};\n\n/**\n * Test arguments.\n */\n\n/**\n * is.args\n * Test if `value` is an arguments object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.args = is.arguments = function (value) {\n  var isStandardArguments = toStr.call(value) === '[object Arguments]';\n  var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n  return isStandardArguments || isOldArguments;\n};\n\n/**\n * Test array.\n */\n\n/**\n * is.array\n * Test if 'value' is an array.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an array, false otherwise\n * @api public\n */\n\nis.array = Array.isArray || function (value) {\n  return toStr.call(value) === '[object Array]';\n};\n\n/**\n * is.arguments.empty\n * Test if `value` is an empty arguments object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n * @api public\n */\nis.args.empty = function (value) {\n  return is.args(value) && value.length === 0;\n};\n\n/**\n * is.array.empty\n * Test if `value` is an empty array.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an empty array, false otherwise\n * @api public\n */\nis.array.empty = function (value) {\n  return is.array(value) && value.length === 0;\n};\n\n/**\n * is.arraylike\n * Test if `value` is an arraylike object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arraylike = function (value) {\n  return !!value && !is.bool(value)\n    && owns.call(value, 'length')\n    && isFinite(value.length)\n    && is.number(value.length)\n    && value.length >= 0;\n};\n\n/**\n * Test boolean.\n */\n\n/**\n * is.bool\n * Test if `value` is a boolean.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a boolean, false otherwise\n * @api public\n */\n\nis.bool = is['boolean'] = function (value) {\n  return toStr.call(value) === '[object Boolean]';\n};\n\n/**\n * is.false\n * Test if `value` is false.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is false, false otherwise\n * @api public\n */\n\nis['false'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === false;\n};\n\n/**\n * is.true\n * Test if `value` is true.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is true, false otherwise\n * @api public\n */\n\nis['true'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === true;\n};\n\n/**\n * Test date.\n */\n\n/**\n * is.date\n * Test if `value` is a date.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a date, false otherwise\n * @api public\n */\n\nis.date = function (value) {\n  return toStr.call(value) === '[object Date]';\n};\n\n/**\n * is.date.valid\n * Test if `value` is a valid date.\n *\n * @param {*} value value to test\n * @returns {Boolean} true if `value` is a valid date, false otherwise\n */\nis.date.valid = function (value) {\n  return is.date(value) && !isNaN(Number(value));\n};\n\n/**\n * Test element.\n */\n\n/**\n * is.element\n * Test if `value` is an html element.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an HTML Element, false otherwise\n * @api public\n */\n\nis.element = function (value) {\n  return value !== undefined\n    && typeof HTMLElement !== 'undefined'\n    && value instanceof HTMLElement\n    && value.nodeType === 1;\n};\n\n/**\n * Test error.\n */\n\n/**\n * is.error\n * Test if `value` is an error object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an error object, false otherwise\n * @api public\n */\n\nis.error = function (value) {\n  return toStr.call(value) === '[object Error]';\n};\n\n/**\n * Test function.\n */\n\n/**\n * is.fn / is.function (deprecated)\n * Test if `value` is a function.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a function, false otherwise\n * @api public\n */\n\nis.fn = is['function'] = function (value) {\n  var isAlert = typeof window !== 'undefined' && value === window.alert;\n  if (isAlert) {\n    return true;\n  }\n  var str = toStr.call(value);\n  return str === '[object Function]' || str === '[object GeneratorFunction]' || str === '[object AsyncFunction]';\n};\n\n/**\n * Test number.\n */\n\n/**\n * is.number\n * Test if `value` is a number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a number, false otherwise\n * @api public\n */\n\nis.number = function (value) {\n  return toStr.call(value) === '[object Number]';\n};\n\n/**\n * is.infinite\n * Test if `value` is positive or negative infinity.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n * @api public\n */\nis.infinite = function (value) {\n  return value === Infinity || value === -Infinity;\n};\n\n/**\n * is.decimal\n * Test if `value` is a decimal number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a decimal number, false otherwise\n * @api public\n */\n\nis.decimal = function (value) {\n  return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n};\n\n/**\n * is.divisibleBy\n * Test if `value` is divisible by `n`.\n *\n * @param {Number} value value to test\n * @param {Number} n dividend\n * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n * @api public\n */\n\nis.divisibleBy = function (value, n) {\n  var isDividendInfinite = is.infinite(value);\n  var isDivisorInfinite = is.infinite(n);\n  var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n  return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n};\n\n/**\n * is.integer\n * Test if `value` is an integer.\n *\n * @param value to test\n * @return {Boolean} true if `value` is an integer, false otherwise\n * @api public\n */\n\nis.integer = is['int'] = function (value) {\n  return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n};\n\n/**\n * is.maximum\n * Test if `value` is greater than 'others' values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is greater than `others` values\n * @api public\n */\n\nis.maximum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value < others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.minimum\n * Test if `value` is less than `others` values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is less than `others` values\n * @api public\n */\n\nis.minimum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value > others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\n\nis.nan = function (value) {\n  return !is.number(value) || value !== value;\n};\n\n/**\n * is.even\n * Test if `value` is an even number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an even number, false otherwise\n * @api public\n */\n\nis.even = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n};\n\n/**\n * is.odd\n * Test if `value` is an odd number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an odd number, false otherwise\n * @api public\n */\n\nis.odd = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n};\n\n/**\n * is.ge\n * Test if `value` is greater than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.ge = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value >= other;\n};\n\n/**\n * is.gt\n * Test if `value` is greater than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.gt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value > other;\n};\n\n/**\n * is.le\n * Test if `value` is less than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if 'value' is less than or equal to 'other'\n * @api public\n */\n\nis.le = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value <= other;\n};\n\n/**\n * is.lt\n * Test if `value` is less than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if `value` is less than `other`\n * @api public\n */\n\nis.lt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value < other;\n};\n\n/**\n * is.within\n * Test if `value` is within `start` and `finish`.\n *\n * @param {Number} value value to test\n * @param {Number} start lower bound\n * @param {Number} finish upper bound\n * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n * @api public\n */\nis.within = function (value, start, finish) {\n  if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n    throw new TypeError('all arguments must be numbers');\n  }\n  var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n  return isAnyInfinite || (value >= start && value <= finish);\n};\n\n/**\n * Test object.\n */\n\n/**\n * is.object\n * Test if `value` is an object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an object, false otherwise\n * @api public\n */\nis.object = function (value) {\n  return toStr.call(value) === '[object Object]';\n};\n\n/**\n * is.primitive\n * Test if `value` is a primitive.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a primitive, false otherwise\n * @api public\n */\nis.primitive = function isPrimitive(value) {\n  if (!value) {\n    return true;\n  }\n  if (typeof value === 'object' || is.object(value) || is.fn(value) || is.array(value)) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * is.hash\n * Test if `value` is a hash - a plain object literal.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a hash, false otherwise\n * @api public\n */\n\nis.hash = function (value) {\n  return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n};\n\n/**\n * Test regexp.\n */\n\n/**\n * is.regexp\n * Test if `value` is a regular expression.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a regexp, false otherwise\n * @api public\n */\n\nis.regexp = function (value) {\n  return toStr.call(value) === '[object RegExp]';\n};\n\n/**\n * Test string.\n */\n\n/**\n * is.string\n * Test if `value` is a string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a string, false otherwise\n * @api public\n */\n\nis.string = function (value) {\n  return toStr.call(value) === '[object String]';\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.base64\n * Test if `value` is a valid base64 encoded string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a base64 encoded string, false otherwise\n * @api public\n */\n\nis.base64 = function (value) {\n  return is.string(value) && (!value.length || base64Regex.test(value));\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.hex\n * Test if `value` is a valid hex encoded string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a hex encoded string, false otherwise\n * @api public\n */\n\nis.hex = function (value) {\n  return is.string(value) && (!value.length || hexRegex.test(value));\n};\n\n/**\n * is.symbol\n * Test if `value` is an ES6 Symbol\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a Symbol, false otherise\n * @api public\n */\n\nis.symbol = function (value) {\n  return typeof Symbol === 'function' && toStr.call(value) === '[object Symbol]' && typeof symbolValueOf.call(value) === 'symbol';\n};\n\n/**\n * is.bigint\n * Test if `value` is an ES-proposed BigInt\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a BigInt, false otherise\n * @api public\n */\n\nis.bigint = function (value) {\n  // eslint-disable-next-line valid-typeof\n  return typeof BigInt === 'function' && toStr.call(value) === '[object BigInt]' && typeof bigIntValueOf.call(value) === 'bigint';\n};\n\nmodule.exports = is;\n", "'use strict';\n\nfunction isMeta(e) {\n  if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey) {\n    return true;\n  }\n\n  // Logic that handles checks for the middle mouse button, based\n  // on [jQuery](https://github.com/jquery/jquery/blob/master/src/event.js#L466).\n  var which = e.which;\n  var button = e.button;\n  if (!which && button !== undefined) {\n    // eslint-disable-next-line no-bitwise, no-extra-parens\n    return (!button & 1) && (!button & 2) && (button & 4);\n  } else if (which === 2) {\n    return true;\n  }\n\n  return false;\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = isMeta;\n", "'use strict';\n\nvar callable, byObserver;\n\ncallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nbyObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, i = 0;\n\tnew Observer(function () {\n\t\tvar data;\n\t\tif (!queue) return;\n\t\tdata = queue;\n\t\tqueue = null;\n\t\tif (typeof data === 'function') {\n\t\t\tdata();\n\t\t\treturn;\n\t\t}\n\t\tdata.forEach(function (fn) { fn(); });\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tcallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process !== 'undefined') && process &&\n\t\t\t(typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// MutationObserver=\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') {\n\t\t\treturn byObserver(MutationObserver);\n\t\t}\n\t\tif (typeof WebKitMutationObserver === 'function') {\n\t\t\treturn byObserver(WebKitMutationObserver);\n\t\t}\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(callable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif (typeof setTimeout === 'function') {\n\t\treturn function (cb) { setTimeout(callable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar keys = require('@ndhoule/keys');\n\nvar objToString = Object.prototype.toString;\n\n/**\n * Tests if a value is a number.\n *\n * @name isNumber\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if `val` is a number, otherwise `false`.\n */\n// TODO: Move to library\nvar isNumber = function isNumber(val) {\n  var type = typeof val;\n  return type === 'number' || (type === 'object' && objToString.call(val) === '[object Number]');\n};\n\n/**\n * Tests if a value is an array.\n *\n * @name isArray\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if the value is an array, otherwise `false`.\n */\n// TODO: Move to library\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function isArray(val) {\n  return objToString.call(val) === '[object Array]';\n};\n\n/**\n * Tests if a value is array-like. Array-like means the value is not a function and has a numeric\n * `.length` property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (isArray(val) || (val !== 'function' && isNumber(val.length)));\n};\n\n/**\n * Internal implementation of `each`. Works on arrays and array-like data structures.\n *\n * @name arrayEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array} array The array(-like) structure to iterate over.\n * @return {undefined}\n */\nvar arrayEach = function arrayEach(iterator, array) {\n  for (var i = 0; i < array.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(array[i], i, array) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Internal implementation of `each`. Works on objects.\n *\n * @name baseEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Object} object The object to iterate over.\n * @return {undefined}\n */\nvar baseEach = function baseEach(iterator, object) {\n  var ks = keys(object);\n\n  for (var i = 0; i < ks.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(object[ks[i]], ks[i], object) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Iterate over an input collection, invoking an `iterator` function for each element in the\n * collection and passing to it three arguments: `(value, index, collection)`. The `iterator`\n * function can end iteration early by returning `false`.\n *\n * @name each\n * @api public\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array|Object|string} collection The collection to iterate over.\n * @return {undefined} Because `each` is run only for side effects, always returns `undefined`.\n * @example\n * var log = console.log.bind(console);\n *\n * each(log, ['a', 'b', 'c']);\n * //-> 'a', 0, ['a', 'b', 'c']\n * //-> 'b', 1, ['a', 'b', 'c']\n * //-> 'c', 2, ['a', 'b', 'c']\n * //=> undefined\n *\n * each(log, 'tim');\n * //-> 't', 2, 'tim'\n * //-> 'i', 1, 'tim'\n * //-> 'm', 0, 'tim'\n * //=> undefined\n *\n * // Note: Iteration order not guaranteed across environments\n * each(log, { name: 'tim', occupation: 'enchanter' });\n * //-> 'tim', 'name', { name: 'tim', occupation: 'enchanter' }\n * //-> 'enchanter', 'occupation', { name: 'tim', occupation: 'enchanter' }\n * //=> undefined\n */\nvar each = function each(iterator, collection) {\n  return (isArrayLike(collection) ? arrayEach : baseEach).call(this, iterator, collection);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = each;\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar each = require('@ndhoule/each');\n\nvar strIndexOf = String.prototype.indexOf;\n\n/**\n * Object.is/sameValueZero polyfill.\n *\n * @api private\n * @param {*} value1\n * @param {*} value2\n * @return {boolean}\n */\n// TODO: Move to library\nvar sameValueZero = function sameValueZero(value1, value2) {\n  // Normal values and check for 0 / -0\n  if (value1 === value2) {\n    return value1 !== 0 || 1 / value1 === 1 / value2;\n  }\n  // NaN\n  return value1 !== value1 && value2 !== value2;\n};\n\n/**\n * Searches a given `collection` for a value, returning true if the collection\n * contains the value and false otherwise. Can search strings, arrays, and\n * objects.\n *\n * @name includes\n * @api public\n * @param {*} searchElement The element to search for.\n * @param {Object|Array|string} collection The collection to search.\n * @return {boolean}\n * @example\n * includes(2, [1, 2, 3]);\n * //=> true\n *\n * includes(4, [1, 2, 3]);\n * //=> false\n *\n * includes(2, { a: 1, b: 2, c: 3 });\n * //=> true\n *\n * includes('a', { a: 1, b: 2, c: 3 });\n * //=> false\n *\n * includes('abc', 'xyzabc opq');\n * //=> true\n *\n * includes('nope', 'xyzabc opq');\n * //=> false\n */\nvar includes = function includes(searchElement, collection) {\n  var found = false;\n\n  // Delegate to String.prototype.indexOf when `collection` is a string\n  if (typeof collection === 'string') {\n    return strIndexOf.call(collection, searchElement) !== -1;\n  }\n\n  // Iterate through enumerable/own array elements and object properties.\n  each(function(value) {\n    if (sameValueZero(value, searchElement)) {\n      found = true;\n      // Exit iteration early when found\n      return false;\n    }\n  }, collection);\n\n  return found;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = includes;\n", "'use strict';\n/*\n * The MIT License (MIT)\n * Copyright (c) 2015 Nathan Houle\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/*\n * Module dependencies.\n */\nvar each = require('./each');\n/**\n * Produce a new array by passing each value in the input `collection` through a transformative\n * `iterator` function. The `iterator` function is passed three arguments:\n * `(value, index, collection)`.\n *\n * @name map\n * @api public\n * @param {Function} iterator The transformer function to invoke per iteration.\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing the results of each `iterator` invocation.\n * @example\n * var square = function(x) { return x * x; };\n *\n * map(square, [1, 2, 3]);\n * //=> [1, 4, 9]\n */\nvar map = function map(iterator, collection) {\n    if (typeof iterator !== 'function') {\n        throw new TypeError('Expected a function but received a ' + typeof iterator);\n    }\n    var result = [];\n    each(function (val, i, collection) {\n        result.push(iterator(val, i, collection));\n    }, collection);\n    return result;\n};\n/*\n * Exports.\n */\nmodule.exports = map;\n", "// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n", "/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n", "var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n", "(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function ff(a, b, c, d, x, s, t) {\n        return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n    }\n\n    function gg(a, b, c, d, x, s, t) {\n        return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n    }\n\n    function hh(a, b, c, d, x, s, t) {\n        return cmn(b ^ c ^ d, a, b, x, s, t);\n    }\n\n    function ii(a, b, c, d, x, s, t) {\n        return cmn(c ^ (b | (~d)), a, b, x, s, t);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a = ff(a, b, c, d, k[0], 7, -680876936);\n        d = ff(d, a, b, c, k[1], 12, -389564586);\n        c = ff(c, d, a, b, k[2], 17, 606105819);\n        b = ff(b, c, d, a, k[3], 22, -1044525330);\n        a = ff(a, b, c, d, k[4], 7, -176418897);\n        d = ff(d, a, b, c, k[5], 12, 1200080426);\n        c = ff(c, d, a, b, k[6], 17, -1473231341);\n        b = ff(b, c, d, a, k[7], 22, -45705983);\n        a = ff(a, b, c, d, k[8], 7, 1770035416);\n        d = ff(d, a, b, c, k[9], 12, -1958414417);\n        c = ff(c, d, a, b, k[10], 17, -42063);\n        b = ff(b, c, d, a, k[11], 22, -1990404162);\n        a = ff(a, b, c, d, k[12], 7, 1804603682);\n        d = ff(d, a, b, c, k[13], 12, -40341101);\n        c = ff(c, d, a, b, k[14], 17, -1502002290);\n        b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n        a = gg(a, b, c, d, k[1], 5, -165796510);\n        d = gg(d, a, b, c, k[6], 9, -1069501632);\n        c = gg(c, d, a, b, k[11], 14, 643717713);\n        b = gg(b, c, d, a, k[0], 20, -373897302);\n        a = gg(a, b, c, d, k[5], 5, -701558691);\n        d = gg(d, a, b, c, k[10], 9, 38016083);\n        c = gg(c, d, a, b, k[15], 14, -660478335);\n        b = gg(b, c, d, a, k[4], 20, -405537848);\n        a = gg(a, b, c, d, k[9], 5, 568446438);\n        d = gg(d, a, b, c, k[14], 9, -1019803690);\n        c = gg(c, d, a, b, k[3], 14, -187363961);\n        b = gg(b, c, d, a, k[8], 20, 1163531501);\n        a = gg(a, b, c, d, k[13], 5, -1444681467);\n        d = gg(d, a, b, c, k[2], 9, -51403784);\n        c = gg(c, d, a, b, k[7], 14, 1735328473);\n        b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n        a = hh(a, b, c, d, k[5], 4, -378558);\n        d = hh(d, a, b, c, k[8], 11, -2022574463);\n        c = hh(c, d, a, b, k[11], 16, 1839030562);\n        b = hh(b, c, d, a, k[14], 23, -35309556);\n        a = hh(a, b, c, d, k[1], 4, -1530992060);\n        d = hh(d, a, b, c, k[4], 11, 1272893353);\n        c = hh(c, d, a, b, k[7], 16, -155497632);\n        b = hh(b, c, d, a, k[10], 23, -1094730640);\n        a = hh(a, b, c, d, k[13], 4, 681279174);\n        d = hh(d, a, b, c, k[0], 11, -358537222);\n        c = hh(c, d, a, b, k[3], 16, -722521979);\n        b = hh(b, c, d, a, k[6], 23, 76029189);\n        a = hh(a, b, c, d, k[9], 4, -640364487);\n        d = hh(d, a, b, c, k[12], 11, -421815835);\n        c = hh(c, d, a, b, k[15], 16, 530742520);\n        b = hh(b, c, d, a, k[2], 23, -995338651);\n\n        a = ii(a, b, c, d, k[0], 6, -198630844);\n        d = ii(d, a, b, c, k[7], 10, 1126891415);\n        c = ii(c, d, a, b, k[14], 15, -1416354905);\n        b = ii(b, c, d, a, k[5], 21, -57434055);\n        a = ii(a, b, c, d, k[12], 6, 1700485571);\n        d = ii(d, a, b, c, k[3], 10, -1894986606);\n        c = ii(c, d, a, b, k[10], 15, -1051523);\n        b = ii(b, c, d, a, k[1], 21, -2054922799);\n        a = ii(a, b, c, d, k[8], 6, 1873313359);\n        d = ii(d, a, b, c, k[15], 10, -30611744);\n        c = ii(c, d, a, b, k[6], 15, -1560198380);\n        b = ii(b, c, d, a, k[13], 21, 1309151649);\n        a = ii(a, b, c, d, k[4], 6, -145523070);\n        d = ii(d, a, b, c, k[11], 10, -1120210379);\n        c = ii(c, d, a, b, k[2], 15, 718787259);\n        b = ii(b, c, d, a, k[9], 21, -343485551);\n\n        x[0] = add32(a, x[0]);\n        x[1] = add32(b, x[1]);\n        x[2] = add32(c, x[2]);\n        x[3] = add32(d, x[3]);\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Module Dependencies.\n */\nvar debug = require('debug')('analytics.js:normalize');\nvar defaults = require('@ndhoule/defaults');\nvar each = require('./utils/each');\nvar includes = require('@ndhoule/includes');\nvar map = require('./utils/map');\nvar type = require('component-type');\nvar uuid = require('uuid/v4');\nvar md5 = require('spark-md5').hash;\n/**\n * HOP.\n */\nvar has = Object.prototype.hasOwnProperty;\n/**\n * Expose `normalize`\n */\nmodule.exports = normalize;\n/**\n * Toplevel properties.\n */\nvar toplevel = ['integrations', 'anonymousId', 'timestamp', 'context'];\nfunction normalize(msg, list) {\n    var lower = map(function (s) {\n        return s.toLowerCase();\n    }, list);\n    var opts = msg.options || {};\n    var integrations = opts.integrations || {};\n    var providers = opts.providers || {};\n    var context = opts.context || {};\n    var ret = {};\n    debug('<-', msg);\n    // integrations.\n    each(function (value, key) {\n        if (!integration(key))\n            return;\n        if (!has.call(integrations, key))\n            integrations[key] = value;\n        delete opts[key];\n    }, opts);\n    // providers.\n    delete opts.providers;\n    each(function (value, key) {\n        if (!integration(key))\n            return;\n        if (type(integrations[key]) === 'object')\n            return;\n        if (has.call(integrations, key) && typeof providers[key] === 'boolean')\n            return;\n        integrations[key] = value;\n    }, providers);\n    // move all toplevel options to msg\n    // and the rest to context.\n    each(function (_value, key) {\n        if (includes(key, toplevel)) {\n            ret[key] = opts[key];\n        }\n        else {\n            context[key] = opts[key];\n        }\n    }, opts);\n    // generate and attach a messageId to msg\n    msg.messageId = 'ajs-' + md5(window.JSON.stringify(msg) + uuid());\n    // cleanup\n    delete msg.options;\n    ret.integrations = integrations;\n    ret.context = context;\n    ret = defaults(ret, msg);\n    debug('->', ret);\n    return ret;\n    function integration(name) {\n        return !!(includes(name, list) ||\n            name.toLowerCase() === 'all' ||\n            includes(name.toLowerCase(), lower));\n    }\n}\n", "var bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};", "'use strict';\n\n/**\n * Get the current page's canonical URL.\n *\n * @return {string|undefined}\n */\nfunction canonical() {\n  var tags = document.getElementsByTagName('link');\n  // eslint-disable-next-line no-cond-assign\n  for (var i = 0, tag; tag = tags[i]; i++) {\n    if (tag.getAttribute('rel') === 'canonical') {\n      return tag.getAttribute('href');\n    }\n  }\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = canonical;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies.\n */\nvar canonical = require('@segment/canonical');\nvar includes = require('@ndhoule/includes');\nvar url = require('component-url');\n/**\n * Return a default `options.context.page` object.\n *\n * https://segment.com/docs/spec/page/#properties\n */\nfunction pageDefaults() {\n    return {\n        path: canonicalPath(),\n        referrer: document.referrer,\n        search: location.search,\n        title: document.title,\n        url: canonicalUrl(location.search)\n    };\n}\n/**\n * Return the canonical path for the page.\n */\nfunction canonicalPath() {\n    var canon = canonical();\n    if (!canon)\n        return window.location.pathname;\n    var parsed = url.parse(canon);\n    return parsed.pathname;\n}\n/**\n * Return the canonical URL for the page concat the given `search`\n * and strip the hash.\n */\nfunction canonicalUrl(search) {\n    var canon = canonical();\n    if (canon)\n        return includes('?', canon) ? canon : canon + search;\n    var url = window.location.href;\n    var i = url.indexOf('#');\n    return i === -1 ? url : url.slice(0, i);\n}\n/*\n * Exports.\n */\nmodule.exports = pageDefaults;\n", "'use strict';\n\nvar objToString = Object.prototype.toString;\n\n// TODO: Move to lib\nvar existy = function(val) {\n  return val != null;\n};\n\n// TODO: Move to lib\nvar isArray = function(val) {\n  return objToString.call(val) === '[object Array]';\n};\n\n// TODO: Move to lib\nvar isString = function(val) {\n   return typeof val === 'string' || objToString.call(val) === '[object String]';\n};\n\n// TODO: Move to lib\nvar isObject = function(val) {\n  return val != null && typeof val === 'object';\n};\n\n/**\n * Returns a copy of the new `object` containing only the specified properties.\n *\n * @name pick\n * @api public\n * @param {string|string[]} props The property or properties to keep.\n * @param {Object} object The object to iterate over.\n * @return {Object} A new object containing only the specified properties from `object`.\n * @example\n * var person = { name: 'Tim', occupation: 'enchanter', fears: 'rabbits' };\n *\n * pick('name', person);\n * //=> { name: 'Tim' }\n *\n * pick(['name', 'fears'], person);\n * //=> { name: 'Tim', fears: 'rabbits' }\n */\nvar pick = function pick(props, object) {\n  if (!existy(object) || !isObject(object)) {\n    return {};\n  }\n\n  if (isString(props)) {\n    props = [props];\n  }\n\n  if (!isArray(props)) {\n    props = [];\n  }\n\n  var result = {};\n\n  for (var i = 0; i < props.length; i += 1) {\n    if (isString(props[i]) && props[i] in object) {\n      result[props[i]] = object[props[i]];\n    }\n  }\n\n  return result;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = pick;\n", "'use strict';\n\n/**\n * Prevent default on a given event.\n *\n * @param {Event} e\n * @example\n * anchor.onclick = prevent;\n * anchor.onclick = function(e){\n *   if (something) return prevent(e);\n * };\n */\n\nfunction preventDefault(e) {\n  e = e || window.event;\n  return e.preventDefault ? e.preventDefault() : e.returnValue = false;\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = preventDefault;\n", "var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n", "var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Entity = require('./entity');\nvar bindAll = require('bind-all');\nvar cookie = require('./cookie');\nvar debug = require('debug')('analytics:user');\nvar inherit = require('inherits');\nvar rawCookie = require('@segment/cookie');\nvar uuid = require('uuid');\nvar localStorage = require('./store');\nUser.defaults = {\n    persist: true,\n    cookie: {\n        key: 'ajs_user_id',\n        oldKey: 'ajs_user'\n    },\n    localStorage: {\n        key: 'ajs_user_traits'\n    }\n};\n/**\n * Initialize a new `User` with `options`.\n */\nfunction User(options) {\n    this.defaults = User.defaults;\n    this.debug = debug;\n    Entity.call(this, options);\n}\n/**\n * Inherit `Entity`\n */\ninherit(User, Entity);\n/**\n * Set/get the user id.\n *\n * When the user id changes, the method will reset his anonymousId to a new one.\n *\n * @example\n * // didn't change because the user didn't have previous id.\n * anonymousId = user.anonymousId();\n * user.id('foo');\n * assert.equal(anonymousId, user.anonymousId());\n *\n * // didn't change because the user id changed to null.\n * anonymousId = user.anonymousId();\n * user.id('foo');\n * user.id(null);\n * assert.equal(anonymousId, user.anonymousId());\n *\n * // change because the user had previous id.\n * anonymousId = user.anonymousId();\n * user.id('foo');\n * user.id('baz'); // triggers change\n * user.id('baz'); // no change\n * assert.notEqual(anonymousId, user.anonymousId());\n */\nUser.prototype.id = function (id) {\n    var prev = this._getId();\n    var ret = Entity.prototype.id.apply(this, arguments);\n    if (prev == null)\n        return ret;\n    // FIXME: We're relying on coercion here (1 == \"1\"), but our API treats these\n    // two values differently. Figure out what will break if we remove this and\n    // change to strict equality\n    /* eslint-disable eqeqeq */\n    if (prev != id && id)\n        this.anonymousId(null);\n    /* eslint-enable eqeqeq */\n    return ret;\n};\n/**\n * Set / get / remove anonymousId.\n *\n * @param {String} anonymousId\n * @return {String|User}\n */\nUser.prototype.anonymousId = function (anonymousId) {\n    var store = this.storage();\n    // set / remove\n    if (arguments.length) {\n        store.set('ajs_anonymous_id', anonymousId);\n        this._setAnonymousIdInLocalStorage(anonymousId);\n        return this;\n    }\n    // new\n    anonymousId = store.get('ajs_anonymous_id');\n    if (anonymousId) {\n        // value exists in cookie, copy it to localStorage\n        this._setAnonymousIdInLocalStorage(anonymousId);\n        // refresh cookie to extend expiry\n        store.set('ajs_anonymous_id', anonymousId);\n        return anonymousId;\n    }\n    if (!this._options.localStorageFallbackDisabled) {\n        // if anonymousId doesn't exist in cookies, check localStorage\n        anonymousId = localStorage.get('ajs_anonymous_id');\n        if (anonymousId) {\n            // Write to cookies if available in localStorage but not cookies\n            store.set('ajs_anonymous_id', anonymousId);\n            return anonymousId;\n        }\n    }\n    // old - it is not stringified so we use the raw cookie.\n    anonymousId = rawCookie('_sio');\n    if (anonymousId) {\n        anonymousId = anonymousId.split('----')[0];\n        store.set('ajs_anonymous_id', anonymousId);\n        this._setAnonymousIdInLocalStorage(anonymousId);\n        store.remove('_sio');\n        return anonymousId;\n    }\n    // empty\n    anonymousId = uuid.v4();\n    store.set('ajs_anonymous_id', anonymousId);\n    this._setAnonymousIdInLocalStorage(anonymousId);\n    return store.get('ajs_anonymous_id');\n};\n/**\n * Set the user's `anonymousid` in local storage.\n */\nUser.prototype._setAnonymousIdInLocalStorage = function (id) {\n    if (!this._options.localStorageFallbackDisabled) {\n        localStorage.set('ajs_anonymous_id', id);\n    }\n};\n/**\n * Remove anonymous id on logout too.\n */\nUser.prototype.logout = function () {\n    Entity.prototype.logout.call(this);\n    this.anonymousId(null);\n};\n/**\n * Load saved user `id` or `traits` from storage.\n */\nUser.prototype.load = function () {\n    if (this._loadOldCookie())\n        return;\n    Entity.prototype.load.call(this);\n};\n/**\n * BACKWARDS COMPATIBILITY: Load the old user from the cookie.\n *\n * @api private\n */\nUser.prototype._loadOldCookie = function () {\n    var user = cookie.get(this._options.cookie.oldKey);\n    if (!user)\n        return false;\n    this.id(user.id);\n    this.traits(user.traits);\n    cookie.remove(this._options.cookie.oldKey);\n    return true;\n};\n/**\n * Expose the user singleton.\n */\nmodule.exports = bindAll(new User());\n/**\n * Expose the `User` constructor.\n */\nmodule.exports.User = User;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _analytics = global.analytics;\n/*\n * Module dependencies.\n */\nvar Alias = require('segmentio-facade').Alias;\nvar Emitter = require('component-emitter');\nvar Facade = require('segmentio-facade');\nvar Group = require('segmentio-facade').Group;\nvar Identify = require('segmentio-facade').Identify;\nvar SourceMiddlewareChain = require('./middleware').SourceMiddlewareChain;\nvar IntegrationMiddlewareChain = require('./middleware')\n    .IntegrationMiddlewareChain;\nvar DestinationMiddlewareChain = require('./middleware')\n    .DestinationMiddlewareChain;\nvar Page = require('segmentio-facade').Page;\nvar Track = require('segmentio-facade').Track;\nvar bindAll = require('bind-all');\nvar clone = require('./utils/clone');\nvar extend = require('extend');\nvar cookie = require('./cookie');\nvar metrics = require('./metrics');\nvar debug = require('debug');\nvar defaults = require('@ndhoule/defaults');\nvar each = require('./utils/each');\nvar group = require('./group');\nvar is = require('is');\nvar isMeta = require('@segment/is-meta');\nvar keys = require('@ndhoule/keys');\nvar memory = require('./memory');\nvar nextTick = require('next-tick');\nvar normalize = require('./normalize');\nvar on = require('component-event').bind;\nvar pageDefaults = require('./pageDefaults');\nvar pick = require('@ndhoule/pick');\nvar prevent = require('@segment/prevent-default');\nvar url = require('component-url');\nvar store = require('./store');\nvar user = require('./user');\nvar type = require('component-type');\n/**\n * Initialize a new `Analytics` instance.\n */\nfunction Analytics() {\n    this._options({});\n    this.Integrations = {};\n    this._sourceMiddlewares = new SourceMiddlewareChain();\n    this._integrationMiddlewares = new IntegrationMiddlewareChain();\n    this._destinationMiddlewares = {};\n    this._integrations = {};\n    this._readied = false;\n    this._timeout = 300;\n    // XXX: BACKWARDS COMPATIBILITY\n    this._user = user;\n    this.log = debug('analytics.js');\n    bindAll(this);\n    var self = this;\n    this.on('initialize', function (settings, options) {\n        if (options.initialPageview)\n            self.page();\n        self._parseQuery(window.location.search);\n    });\n}\n/**\n * Mix in event emitter.\n */\nEmitter(Analytics.prototype);\n/**\n * Use a `plugin`.\n */\nAnalytics.prototype.use = function (plugin) {\n    plugin(this);\n    return this;\n};\n/**\n * Define a new `Integration`.\n */\nAnalytics.prototype.addIntegration = function (Integration) {\n    var name = Integration.prototype.name;\n    if (!name)\n        throw new TypeError('attempted to add an invalid integration');\n    this.Integrations[name] = Integration;\n    return this;\n};\n/**\n * Define a new `SourceMiddleware`\n */\nAnalytics.prototype.addSourceMiddleware = function (middleware) {\n    this._sourceMiddlewares.add(middleware);\n    return this;\n};\n/**\n * Define a new `IntegrationMiddleware`\n * @deprecated\n */\nAnalytics.prototype.addIntegrationMiddleware = function (middleware) {\n    this._integrationMiddlewares.add(middleware);\n    return this;\n};\n/**\n * Define a new `DestinationMiddleware`\n * Destination Middleware is chained after integration middleware\n */\nAnalytics.prototype.addDestinationMiddleware = function (integrationName, middlewares) {\n    var self = this;\n    middlewares.forEach(function (middleware) {\n        if (!self._destinationMiddlewares[integrationName]) {\n            self._destinationMiddlewares[integrationName] = new DestinationMiddlewareChain();\n        }\n        self._destinationMiddlewares[integrationName].add(middleware);\n    });\n    return self;\n};\n/**\n * Initialize with the given integration `settings` and `options`.\n *\n * Aliased to `init` for convenience.\n */\nAnalytics.prototype.init = Analytics.prototype.initialize = function (settings, options) {\n    settings = settings || {};\n    options = options || {};\n    this._options(options);\n    this._readied = false;\n    // clean unknown integrations from settings\n    var self = this;\n    each(function (_opts, name) {\n        var Integration = self.Integrations[name];\n        if (!Integration)\n            delete settings[name];\n    }, settings);\n    // add integrations\n    each(function (opts, name) {\n        // Don't load disabled integrations\n        if (options.integrations) {\n            if (options.integrations[name] === false ||\n                (options.integrations.All === false && !options.integrations[name])) {\n                return;\n            }\n        }\n        var Integration = self.Integrations[name];\n        var clonedOpts = {};\n        extend(true, clonedOpts, opts); // deep clone opts\n        var integration = new Integration(clonedOpts);\n        self.log('initialize %o - %o', name, opts);\n        self.add(integration);\n    }, settings);\n    var integrations = this._integrations;\n    // load user now that options are set\n    user.load();\n    group.load();\n    // make ready callback\n    var readyCallCount = 0;\n    var integrationCount = keys(integrations).length;\n    var ready = function () {\n        readyCallCount++;\n        if (readyCallCount >= integrationCount) {\n            self._readied = true;\n            self.emit('ready');\n        }\n    };\n    // init if no integrations\n    if (integrationCount <= 0) {\n        ready();\n    }\n    // initialize integrations, passing ready\n    // create a list of any integrations that did not initialize - this will be passed with all events for replay support:\n    this.failedInitializations = [];\n    var initialPageSkipped = false;\n    each(function (integration) {\n        if (options.initialPageview &&\n            integration.options.initialPageview === false) {\n            // We've assumed one initial pageview, so make sure we don't count the first page call.\n            var page = integration.page;\n            integration.page = function () {\n                if (initialPageSkipped) {\n                    return page.apply(this, arguments);\n                }\n                initialPageSkipped = true;\n                return;\n            };\n        }\n        integration.analytics = self;\n        integration.once('ready', ready);\n        try {\n            metrics.increment('analytics_js.integration.invoke', {\n                method: 'initialize',\n                integration_name: integration.name\n            });\n            integration.initialize();\n        }\n        catch (e) {\n            var integrationName = integration.name;\n            metrics.increment('analytics_js.integration.invoke.error', {\n                method: 'initialize',\n                integration_name: integration.name\n            });\n            self.failedInitializations.push(integrationName);\n            self.log('Error initializing %s integration: %o', integrationName, e);\n            // Mark integration as ready to prevent blocking of anyone listening to analytics.ready()\n            integration.ready();\n        }\n    }, integrations);\n    // backwards compat with angular plugin and used for init logic checks\n    this.initialized = true;\n    this.emit('initialize', settings, options);\n    return this;\n};\n/**\n * Set the user's `id`.\n */\nAnalytics.prototype.setAnonymousId = function (id) {\n    this.user().anonymousId(id);\n    return this;\n};\n/**\n * Add an integration.\n */\nAnalytics.prototype.add = function (integration) {\n    this._integrations[integration.name] = integration;\n    return this;\n};\n/**\n * Identify a user by optional `id` and `traits`.\n *\n * @param {string} [id=user.id()] User ID.\n * @param {Object} [traits=null] User traits.\n * @param {Object} [options=null]\n * @param {Function} [fn]\n * @return {Analytics}\n */\nAnalytics.prototype.identify = function (id, traits, options, fn) {\n    // Argument reshuffling.\n    /* eslint-disable no-unused-expressions, no-sequences */\n    if (is.fn(options))\n        (fn = options), (options = null);\n    if (is.fn(traits))\n        (fn = traits), (options = null), (traits = null);\n    if (is.object(id))\n        (options = traits), (traits = id), (id = user.id());\n    /* eslint-enable no-unused-expressions, no-sequences */\n    // clone traits before we manipulate so we don't do anything uncouth, and take\n    // from `user` so that we carryover anonymous traits\n    user.identify(id, traits);\n    var msg = this.normalize({\n        options: options,\n        traits: user.traits(),\n        userId: user.id()\n    });\n    // Add the initialize integrations so the server-side ones can be disabled too\n    if (this.options.integrations) {\n        defaults(msg.integrations, this.options.integrations);\n    }\n    this._invoke('identify', new Identify(msg));\n    // emit\n    this.emit('identify', id, traits, options);\n    this._callback(fn);\n    return this;\n};\n/**\n * Return the current user.\n *\n * @return {Object}\n */\nAnalytics.prototype.user = function () {\n    return user;\n};\n/**\n * Identify a group by optional `id` and `traits`. Or, if no arguments are\n * supplied, return the current group.\n *\n * @param {string} [id=group.id()] Group ID.\n * @param {Object} [traits=null] Group traits.\n * @param {Object} [options=null]\n * @param {Function} [fn]\n * @return {Analytics|Object}\n */\nAnalytics.prototype.group = function (id, traits, options, fn) {\n    /* eslint-disable no-unused-expressions, no-sequences */\n    if (!arguments.length)\n        return group;\n    if (is.fn(options))\n        (fn = options), (options = null);\n    if (is.fn(traits))\n        (fn = traits), (options = null), (traits = null);\n    if (is.object(id))\n        (options = traits), (traits = id), (id = group.id());\n    /* eslint-enable no-unused-expressions, no-sequences */\n    // grab from group again to make sure we're taking from the source\n    group.identify(id, traits);\n    var msg = this.normalize({\n        options: options,\n        traits: group.traits(),\n        groupId: group.id()\n    });\n    // Add the initialize integrations so the server-side ones can be disabled too\n    if (this.options.integrations) {\n        defaults(msg.integrations, this.options.integrations);\n    }\n    this._invoke('group', new Group(msg));\n    this.emit('group', id, traits, options);\n    this._callback(fn);\n    return this;\n};\n/**\n * Track an `event` that a user has triggered with optional `properties`.\n *\n * @param {string} event\n * @param {Object} [properties=null]\n * @param {Object} [options=null]\n * @param {Function} [fn]\n * @return {Analytics}\n */\nAnalytics.prototype.track = function (event, properties, options, fn) {\n    // Argument reshuffling.\n    /* eslint-disable no-unused-expressions, no-sequences */\n    if (is.fn(options))\n        (fn = options), (options = null);\n    if (is.fn(properties))\n        (fn = properties), (options = null), (properties = null);\n    /* eslint-enable no-unused-expressions, no-sequences */\n    // figure out if the event is archived.\n    var plan = this.options.plan || {};\n    var events = plan.track || {};\n    var planIntegrationOptions = {};\n    // normalize\n    var msg = this.normalize({\n        properties: properties,\n        options: options,\n        event: event\n    });\n    // plan.\n    plan = events[event];\n    if (plan) {\n        this.log('plan %o - %o', event, plan);\n        if (plan.enabled === false) {\n            // Disabled events should always be sent to Segment.\n            planIntegrationOptions = { All: false, 'Segment.io': true };\n        }\n        else {\n            planIntegrationOptions = plan.integrations || {};\n        }\n    }\n    else {\n        var defaultPlan = events.__default || { enabled: true };\n        if (!defaultPlan.enabled) {\n            // Disabled events should always be sent to Segment.\n            planIntegrationOptions = { All: false, 'Segment.io': true };\n        }\n    }\n    // Add the initialize integrations so the server-side ones can be disabled too\n    defaults(msg.integrations, this._mergeInitializeAndPlanIntegrations(planIntegrationOptions));\n    this._invoke('track', new Track(msg));\n    this.emit('track', event, properties, options);\n    this._callback(fn);\n    return this;\n};\n/**\n * Helper method to track an outbound link that would normally navigate away\n * from the page before the analytics calls were sent.\n *\n * BACKWARDS COMPATIBILITY: aliased to `trackClick`.\n *\n * @param {Element|Array} links\n * @param {string|Function} event\n * @param {Object|Function} properties (optional)\n * @return {Analytics}\n */\nAnalytics.prototype.trackClick = Analytics.prototype.trackLink = function (links, event, properties) {\n    if (!links)\n        return this;\n    // always arrays, handles jquery\n    if (type(links) === 'element')\n        links = [links];\n    var self = this;\n    each(function (el) {\n        if (type(el) !== 'element') {\n            throw new TypeError('Must pass HTMLElement to `analytics.trackLink`.');\n        }\n        on(el, 'click', function (e) {\n            var ev = is.fn(event) ? event(el) : event;\n            var props = is.fn(properties) ? properties(el) : properties;\n            var href = el.getAttribute('href') ||\n                el.getAttributeNS('http://www.w3.org/1999/xlink', 'href') ||\n                el.getAttribute('xlink:href');\n            self.track(ev, props);\n            if (href && el.target !== '_blank' && !isMeta(e)) {\n                prevent(e);\n                self._callback(function () {\n                    window.location.href = href;\n                });\n            }\n        });\n    }, links);\n    return this;\n};\n/**\n * Helper method to track an outbound form that would normally navigate away\n * from the page before the analytics calls were sent.\n *\n * BACKWARDS COMPATIBILITY: aliased to `trackSubmit`.\n *\n * @param {Element|Array} forms\n * @param {string|Function} event\n * @param {Object|Function} properties (optional)\n * @return {Analytics}\n */\nAnalytics.prototype.trackSubmit = Analytics.prototype.trackForm = function (forms, event, properties) {\n    if (!forms)\n        return this;\n    // always arrays, handles jquery\n    if (type(forms) === 'element')\n        forms = [forms];\n    var self = this;\n    each(function (el) {\n        if (type(el) !== 'element')\n            throw new TypeError('Must pass HTMLElement to `analytics.trackForm`.');\n        function handler(e) {\n            prevent(e);\n            var ev = is.fn(event) ? event(el) : event;\n            var props = is.fn(properties) ? properties(el) : properties;\n            self.track(ev, props);\n            self._callback(function () {\n                el.submit();\n            });\n        }\n        // Support the events happening through jQuery or Zepto instead of through\n        // the normal DOM API, because `el.submit` doesn't bubble up events...\n        var $ = window.jQuery || window.Zepto;\n        if ($) {\n            $(el).submit(handler);\n        }\n        else {\n            on(el, 'submit', handler);\n        }\n    }, forms);\n    return this;\n};\n/**\n * Trigger a pageview, labeling the current page with an optional `category`,\n * `name` and `properties`.\n *\n * @param {string} [category]\n * @param {string} [name]\n * @param {Object|string} [properties] (or path)\n * @param {Object} [options]\n * @param {Function} [fn]\n * @return {Analytics}\n */\nAnalytics.prototype.page = function (category, name, properties, options, fn) {\n    // Argument reshuffling.\n    /* eslint-disable no-unused-expressions, no-sequences */\n    if (is.fn(options))\n        (fn = options), (options = null);\n    if (is.fn(properties))\n        (fn = properties), (options = properties = null);\n    if (is.fn(name))\n        (fn = name), (options = properties = name = null);\n    if (type(category) === 'object')\n        (options = name), (properties = category), (name = category = null);\n    if (type(name) === 'object')\n        (options = properties), (properties = name), (name = null);\n    if (type(category) === 'string' && type(name) !== 'string')\n        (name = category), (category = null);\n    /* eslint-enable no-unused-expressions, no-sequences */\n    properties = clone(properties) || {};\n    if (name)\n        properties.name = name;\n    if (category)\n        properties.category = category;\n    // Ensure properties has baseline spec properties.\n    // TODO: Eventually move these entirely to `options.context.page`\n    var defs = pageDefaults();\n    defaults(properties, defs);\n    // Mirror user overrides to `options.context.page` (but exclude custom properties)\n    // (Any page defaults get applied in `this.normalize` for consistency.)\n    // Weird, yeah--moving special props to `context.page` will fix this in the long term.\n    var overrides = pick(keys(defs), properties);\n    if (!is.empty(overrides)) {\n        options = options || {};\n        options.context = options.context || {};\n        options.context.page = overrides;\n    }\n    var msg = this.normalize({\n        properties: properties,\n        category: category,\n        options: options,\n        name: name\n    });\n    // Add the initialize integrations so the server-side ones can be disabled too\n    if (this.options.integrations) {\n        defaults(msg.integrations, this.options.integrations);\n    }\n    this._invoke('page', new Page(msg));\n    this.emit('page', category, name, properties, options);\n    this._callback(fn);\n    return this;\n};\n/**\n * FIXME: BACKWARDS COMPATIBILITY: convert an old `pageview` to a `page` call.\n * @api private\n */\nAnalytics.prototype.pageview = function (url) {\n    var properties = {};\n    if (url)\n        properties.path = url;\n    this.page(properties);\n    return this;\n};\n/**\n * Merge two previously unassociated user identities.\n *\n * @param {string} to\n * @param {string} from (optional)\n * @param {Object} options (optional)\n * @param {Function} fn (optional)\n * @return {Analytics}\n */\nAnalytics.prototype.alias = function (to, from, options, fn) {\n    // Argument reshuffling.\n    /* eslint-disable no-unused-expressions, no-sequences */\n    if (is.fn(options))\n        (fn = options), (options = null);\n    if (is.fn(from))\n        (fn = from), (options = null), (from = null);\n    if (is.object(from))\n        (options = from), (from = null);\n    /* eslint-enable no-unused-expressions, no-sequences */\n    var msg = this.normalize({\n        options: options,\n        previousId: from,\n        userId: to\n    });\n    // Add the initialize integrations so the server-side ones can be disabled too\n    if (this.options.integrations) {\n        defaults(msg.integrations, this.options.integrations);\n    }\n    this._invoke('alias', new Alias(msg));\n    this.emit('alias', to, from, options);\n    this._callback(fn);\n    return this;\n};\n/**\n * Register a `fn` to be fired when all the analytics services are ready.\n */\nAnalytics.prototype.ready = function (fn) {\n    if (is.fn(fn)) {\n        if (this._readied) {\n            nextTick(fn);\n        }\n        else {\n            this.once('ready', fn);\n        }\n    }\n    return this;\n};\n/**\n * Set the `timeout` (in milliseconds) used for callbacks.\n */\nAnalytics.prototype.timeout = function (timeout) {\n    this._timeout = timeout;\n};\n/**\n * Enable or disable debug.\n */\nAnalytics.prototype.debug = function (str) {\n    if (!arguments.length || str) {\n        debug.enable('analytics:' + (str || '*'));\n    }\n    else {\n        debug.disable();\n    }\n};\n/**\n * Apply options.\n * @api private\n */\nAnalytics.prototype._options = function (options) {\n    options = options || {};\n    this.options = options;\n    cookie.options(options.cookie);\n    metrics.options(options.metrics);\n    store.options(options.localStorage);\n    user.options(options.user);\n    group.options(options.group);\n    return this;\n};\n/**\n * Callback a `fn` after our defined timeout period.\n * @api private\n */\nAnalytics.prototype._callback = function (fn) {\n    if (is.fn(fn)) {\n        this._timeout ? setTimeout(fn, this._timeout) : nextTick(fn);\n    }\n    return this;\n};\n/**\n * Call `method` with `facade` on all enabled integrations.\n *\n * @param {string} method\n * @param {Facade} facade\n * @return {Analytics}\n * @api private\n */\nAnalytics.prototype._invoke = function (method, facade) {\n    var self = this;\n    try {\n        this._sourceMiddlewares.applyMiddlewares(extend(true, new Facade({}), facade), this._integrations, function (result) {\n            // A nullified payload should not be sent.\n            if (result === null) {\n                self.log('Payload with method \"%s\" was null and dropped by source a middleware.', method);\n                return;\n            }\n            // Check if the payload is still a Facade. If not, convert it to one.\n            if (!(result instanceof Facade)) {\n                result = new Facade(result);\n            }\n            self.emit('invoke', result);\n            metrics.increment('analytics_js.invoke', {\n                method: method\n            });\n            applyIntegrationMiddlewares(result);\n        });\n    }\n    catch (e) {\n        metrics.increment('analytics_js.invoke.error', {\n            method: method\n        });\n        self.log('Error invoking .%s method of %s integration: %o', method, name, e);\n    }\n    return this;\n    function applyIntegrationMiddlewares(facade) {\n        var failedInitializations = self.failedInitializations || [];\n        each(function (integration, name) {\n            var facadeCopy = extend(true, new Facade({}), facade);\n            if (!facadeCopy.enabled(name))\n                return;\n            // Check if an integration failed to initialize.\n            // If so, do not process the message as the integration is in an unstable state.\n            if (failedInitializations.indexOf(name) >= 0) {\n                self.log('Skipping invocation of .%s method of %s integration. Integration failed to initialize properly.', method, name);\n            }\n            else {\n                try {\n                    // Apply any integration middlewares that exist, then invoke the integration with the result.\n                    self._integrationMiddlewares.applyMiddlewares(facadeCopy, integration.name, function (result) {\n                        // A nullified payload should not be sent to an integration.\n                        if (result === null) {\n                            self.log('Payload to integration \"%s\" was null and dropped by a middleware.', name);\n                            return;\n                        }\n                        // Check if the payload is still a Facade. If not, convert it to one.\n                        if (!(result instanceof Facade)) {\n                            result = new Facade(result);\n                        }\n                        // apply destination middlewares\n                        // Apply any integration middlewares that exist, then invoke the integration with the result.\n                        if (self._destinationMiddlewares[integration.name]) {\n                            self._destinationMiddlewares[integration.name].applyMiddlewares(facadeCopy, integration.name, function (result) {\n                                // A nullified payload should not be sent to an integration.\n                                if (result === null) {\n                                    self.log('Payload to destination \"%s\" was null and dropped by a middleware.', name);\n                                    return;\n                                }\n                                // Check if the payload is still a Facade. If not, convert it to one.\n                                if (!(result instanceof Facade)) {\n                                    result = new Facade(result);\n                                }\n                                metrics.increment('analytics_js.integration.invoke', {\n                                    method: method,\n                                    integration_name: integration.name\n                                });\n                                integration.invoke.call(integration, method, result);\n                            });\n                        }\n                        else {\n                            metrics.increment('analytics_js.integration.invoke', {\n                                method: method,\n                                integration_name: integration.name\n                            });\n                            integration.invoke.call(integration, method, result);\n                        }\n                    });\n                }\n                catch (e) {\n                    metrics.increment('analytics_js.integration.invoke.error', {\n                        method: method,\n                        integration_name: integration.name\n                    });\n                    self.log('Error invoking .%s method of %s integration: %o', method, name, e);\n                }\n            }\n        }, self._integrations);\n    }\n};\n/**\n * Push `args`.\n *\n * @param {Array} args\n * @api private\n */\nAnalytics.prototype.push = function (args) {\n    var method = args.shift();\n    if (!this[method])\n        return;\n    this[method].apply(this, args);\n};\n/**\n * Reset group and user traits and id's.\n *\n * @api public\n */\nAnalytics.prototype.reset = function () {\n    this.user().logout();\n    this.group().logout();\n};\n/**\n * Parse the query string for callable methods.\n *\n * @api private\n */\nAnalytics.prototype._parseQuery = function (query) {\n    // Parse querystring to an object\n    var parsed = url.parse(query);\n    var q = parsed.query.split('&').reduce(function (acc, str) {\n        var _a = str.split('='), k = _a[0], v = _a[1];\n        acc[k] = decodeURI(v).replace('+', ' ');\n        return acc;\n    }, {});\n    // Create traits and properties objects, populate from querysting params\n    var traits = pickPrefix('ajs_trait_', q);\n    var props = pickPrefix('ajs_prop_', q);\n    // Trigger based on callable parameters in the URL\n    if (q.ajs_uid)\n        this.identify(q.ajs_uid, traits);\n    if (q.ajs_event)\n        this.track(q.ajs_event, props);\n    if (q.ajs_aid)\n        user.anonymousId(q.ajs_aid);\n    return this;\n    /**\n     * Create a shallow copy of an input object containing only the properties\n     * whose keys are specified by a prefix, stripped of that prefix\n     *\n     * @return {Object}\n     * @api private\n     */\n    function pickPrefix(prefix, object) {\n        var length = prefix.length;\n        var sub;\n        return Object.keys(object).reduce(function (acc, key) {\n            if (key.substr(0, length) === prefix) {\n                sub = key.substr(length);\n                acc[sub] = object[key];\n            }\n            return acc;\n        }, {});\n    }\n};\n/**\n * Normalize the given `msg`.\n */\nAnalytics.prototype.normalize = function (msg) {\n    msg = normalize(msg, keys(this._integrations));\n    if (msg.anonymousId)\n        user.anonymousId(msg.anonymousId);\n    msg.anonymousId = user.anonymousId();\n    // Ensure all outgoing requests include page data in their contexts.\n    msg.context.page = defaults(msg.context.page || {}, pageDefaults());\n    return msg;\n};\n/**\n * Merges the tracking plan and initialization integration options.\n *\n * @param  {Object} planIntegrations Tracking plan integrations.\n * @return {Object}                  The merged integrations.\n */\nAnalytics.prototype._mergeInitializeAndPlanIntegrations = function (planIntegrations) {\n    // Do nothing if there are no initialization integrations\n    if (!this.options.integrations) {\n        return planIntegrations;\n    }\n    // Clone the initialization integrations\n    var integrations = extend({}, this.options.integrations);\n    var integrationName;\n    // Allow the tracking plan to disable integrations that were explicitly\n    // enabled on initialization\n    if (planIntegrations.All === false) {\n        integrations = { All: false };\n    }\n    for (integrationName in planIntegrations) {\n        if (planIntegrations.hasOwnProperty(integrationName)) {\n            // Don't allow the tracking plan to re-enable disabled integrations\n            if (this.options.integrations[integrationName] !== false) {\n                integrations[integrationName] = planIntegrations[integrationName];\n            }\n        }\n    }\n    return integrations;\n};\n/**\n * No conflict support.\n */\nAnalytics.prototype.noConflict = function () {\n    window.analytics = _analytics;\n    return this;\n};\n/*\n * Exports.\n */\nmodule.exports = Analytics;\nmodule.exports.cookie = cookie;\nmodule.exports.memory = memory;\nmodule.exports.store = store;\nmodule.exports.metrics = metrics;\n", "'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Analytics.js\n *\n * (C) 2013-2016 Segment.io Inc.\n */\nvar Analytics = require('./analytics');\n// Create a new `analytics` singleton.\nvar analytics = new Analytics();\n// Expose `require`.\n// TODO(ndhoule): Look into deprecating, we no longer need to expose it in tests\nanalytics.require = require;\n// Expose package version.\nanalytics.VERSION = require('../package.json').version;\n/*\n * Exports.\n */\nmodule.exports = analytics;\n", "/**\n * Module dependencies.\n */\n\nvar type;\ntry {\n  type = require('component-type');\n} catch (_) {\n  type = require('type');\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = clone;\n\n/**\n * Clones objects.\n *\n * @param {Mixed} any object\n * @api public\n */\n\nfunction clone(obj){\n  switch (type(obj)) {\n    case 'object':\n      var copy = {};\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          copy[key] = clone(obj[key]);\n        }\n      }\n      return copy;\n\n    case 'array':\n      var copy = new Array(obj.length);\n      for (var i = 0, l = obj.length; i < l; i++) {\n        copy[i] = clone(obj[i]);\n      }\n      return copy;\n\n    case 'regexp':\n      // from millermedeiros/amd-utils - MIT\n      var flags = '';\n      flags += obj.multiline ? 'm' : '';\n      flags += obj.global ? 'g' : '';\n      flags += obj.ignoreCase ? 'i' : '';\n      return new RegExp(obj.source, flags);\n\n    case 'date':\n      return new Date(obj.getTime());\n\n    default: // string, number, boolean, \u2026\n      return obj;\n  }\n}\n", "\nvar type = require('component-type');\nvar clone = require('component-clone');\n\n\n/**\n * Expose `alias`.\n */\n\nmodule.exports = alias;\n\n\n/**\n * Alias an `object`.\n *\n * @param {Object} obj\n * @param {Mixed} method\n */\n\nfunction alias (obj, method) {\n  switch (type(method)) {\n    case 'object': return aliasByDictionary(clone(obj), method);\n    case 'function': return aliasByFunction(clone(obj), method);\n  }\n}\n\n\n/**\n * Convert the keys in an `obj` using a dictionary of `aliases`.\n *\n * @param {Object} obj\n * @param {Object} aliases\n */\n\nfunction aliasByDictionary (obj, aliases) {\n  for (var key in aliases) {\n    if (undefined === obj[key]) continue;\n    obj[aliases[key]] = obj[key];\n    delete obj[key];\n  }\n  return obj;\n}\n\n\n/**\n * Convert the keys in an `obj` using a `convert` function.\n *\n * @param {Object} obj\n * @param {Function} convert\n */\n\nfunction aliasByFunction (obj, convert) {\n  // have to create another object so that ie8 won't infinite loop on keys\n  var output = {};\n  for (var key in obj) output[convert(key)] = obj[key];\n  return output;\n}\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar clone = require('@ndhoule/clone');\nvar each = require('@ndhoule/each');\nvar type = require('component-type');\n\n/**\n * Recursively convert an `obj`'s dates to new values.\n *\n * @param {Object} obj\n * @param {Function} convert\n * @return {Object}\n */\nfunction convertDates(obj, convert) {\n  obj = clone(obj);\n  each(function(val, key) {\n    if (type(val) === 'date') {\n      obj[key] = convert(val);\n    }\n    if (type(val) === 'object' || type(val) === 'array') {\n      obj[key] = convertDates(val, convert);\n    }\n  }, obj);\n  return obj;\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = convertDates;\n", "\n/**\n * Generate a slug from the given `str`.\n *\n * example:\n *\n *        generate('foo bar');\n *        // > foo-bar\n *\n * @param {String} str\n * @param {Object} options\n * @config {String|RegExp} [replace] characters to replace, defaulted to `/[^a-z0-9]/g`\n * @config {String} [separator] separator to insert, defaulted to `-`\n * @return {String}\n */\n\nmodule.exports = function (str, options) {\n  options || (options = {});\n  return str.toLowerCase()\n    .replace(options.replace || /[^a-z0-9]/g, ' ')\n    .replace(/^ +| +$/g, '')\n    .replace(/ +/g, options.separator || '-')\n};\n", "'use strict';\n\nvar objToString = Object.prototype.toString;\n\n/**\n * Determine if a value is a function.\n *\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to lib\nvar isFunction = function(val) {\n  return typeof val === 'function';\n};\n\n/**\n * Determine if a value is a number.\n *\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to lib\nvar isNumber = function(val) {\n  var type = typeof val;\n  return type === 'number' || (type === 'object' && objToString.call(val) === '[object Number]');\n};\n\n /**\n  * Creates an array of generic, numbered argument names.\n  *\n  * @name createParams\n  * @api private\n  * @param {number} n\n  * @return {Array}\n  * @example\n  * argNames(2);\n  * //=> ['arg1', 'arg2']\n  */\nvar createParams = function createParams(n) {\n  var args = [];\n\n  for (var i = 1; i <= n; i += 1) {\n    args.push('arg' + i);\n  }\n\n  return args;\n};\n\n /**\n  * Dynamically construct a wrapper function of `n` arity that.\n  *\n  * If at all possible, prefer a function from the arity wrapper cache above to\n  * avoid allocating a new function at runtime.\n  *\n  * @name createArityWrapper\n  * @api private\n  * @param {number} n\n  * @return {Function(Function)}\n  */\nvar createArityWrapper = function createArityWrapper(n) {\n  var paramNames = createParams(n).join(', ');\n  var wrapperBody = ''.concat(\n    '  return function(', paramNames, ') {\\n',\n    '    return func.apply(this, arguments);\\n',\n    '  };'\n  );\n\n  /* eslint-disable no-new-func */\n  return new Function('func', wrapperBody);\n  /* eslint-enable no-new-func */\n};\n\n// Cache common arity wrappers to avoid constructing them at runtime\nvar arityWrapperCache = [\n  /* eslint-disable no-unused-vars */\n  function(fn) {\n    return function() {\n      return fn.apply(this, arguments);\n    };\n  },\n\n  function(fn) {\n    return function(arg1) {\n      return fn.apply(this, arguments);\n    };\n  },\n\n  function(fn) {\n    return function(arg1, arg2) {\n      return fn.apply(this, arguments);\n    };\n  },\n\n  function(fn) {\n    return function(arg1, arg2, arg3) {\n      return fn.apply(this, arguments);\n    };\n  },\n\n  function(fn) {\n    return function(arg1, arg2, arg3, arg4) {\n      return fn.apply(this, arguments);\n    };\n  },\n\n  function(fn) {\n    return function(arg1, arg2, arg3, arg4, arg5) {\n      return fn.apply(this, arguments);\n    };\n  }\n  /* eslint-enable no-unused-vars */\n];\n\n/**\n * Takes a function and an [arity](https://en.wikipedia.org/wiki/Arity) `n`, and returns a new\n * function that expects `n` arguments.\n *\n * @name arity\n * @api public\n * @category Function\n * @see {@link curry}\n * @param {Number} n The desired arity of the returned function.\n * @param {Function} fn The function to wrap.\n * @return {Function} A function of n arity, wrapping `fn`.\n * @example\n * var add = function(a, b) {\n *   return a + b;\n * };\n *\n * // Check the number of arguments this function expects by accessing `.length`:\n * add.length;\n * //=> 2\n *\n * var unaryAdd = arity(1, add);\n * unaryAdd.length;\n * //=> 1\n */\nvar arity = function arity(n, func) {\n  if (!isFunction(func)) {\n    throw new TypeError('Expected a function but got ' + typeof func);\n  }\n\n  n = Math.max(isNumber(n) ? n : 0, 0);\n\n  if (!arityWrapperCache[n]) {\n    arityWrapperCache[n] = createArityWrapper(n);\n  }\n\n  return arityWrapperCache[n](func);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = arity;\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar arity = require('@ndhoule/arity');\n\nvar objToString = Object.prototype.toString;\n\n/**\n * Determine if a value is a function.\n *\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to lib\nvar isFunction = function(val) {\n  return typeof val === 'function';\n};\n\n/**\n * Determine if a value is a number.\n *\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to lib\nvar isNumber = function(val) {\n  var type = typeof val;\n  return type === 'number' || (type === 'object' && objToString.call(val) === '[object Number]');\n};\n\n/**\n * Wrap a function `fn` in a function that will invoke `fn` when invoked `n` or\n * more times.\n *\n * @name after\n * @api public\n * @category Function\n * @param {Number} n The number of\n * @param {Function} fn The function to wrap.\n * @return {Function} A function that will call `fn` after `n` or more\n * invocations.\n * @example\n */\nvar after = function after(n, fn) {\n  if (!isNumber(n)) {\n    throw new TypeError('Expected a number but received ' + typeof n);\n  }\n\n  if (!isFunction(fn)) {\n    throw new TypeError('Expected a function but received ' + typeof fn);\n  }\n\n  var callCount = 0;\n\n  return arity(fn.length, function() {\n    callCount += 1;\n\n    if (callCount < n) {\n      return;\n    }\n\n    return fn.apply(this, arguments);\n  });\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = after;\n", "\nmodule.exports = {\n  // Promotions\n  promotionViewed: /^[ _]?promotion[ _]?viewed?[ _]?$/i,\n  viewedPromotion: /^[ _]?viewed[ _]?promotion?[ _]?$/i,\n  promotionClicked: /^[ _]?promotion[ _]?clicked?[ _]?$/i,\n  clickedPromotion: /^[ _]?clicked[ _]?promotion?[ _]?$/i,\n  // Browsing\n  productsSearched: /^[ _]?products[ _]?searched[ _]?$/i,\n  productListViewed: /^[ _]?product[ _]?list[ _]?viewed[ _]?$/i,\n  productListFiltered: /^[ _]?product[ _]?list[ _]?filtered[ _]?$/i,\n  viewedProductCategory: /^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,\n  viewedProductDetails: /^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,\n  // Core Ordering\n  productClicked: /^[ _]?product[ _]?clicked[ _]?$/i,\n  clickedProduct: /^[ _]?clicked[ _]?product[ _]?$/i,\n  productViewed: /^[ _]?product[ _]?viewed[ _]?$/i,\n  viewedProduct: /^[ _]?viewed[ _]?product[ _]?$/i,\n  productAdded: /^[ _]?product[ _]?added[ _]?$/i,\n  addedProduct: /^[ _]?added[ _]?product[ _]?$/i,\n  productRemoved: /^[ _]?product[ _]?removed[ _]?$/i,\n  removedProduct: /^[ _]?removed[ _]?product[ _]?$/i,\n  cartViewed: /^[ _]?cart[ _]?viewed[ _]?$/i,\n  orderStarted: /^[ _]?order[ _]?started[ _]?$/i,\n  startedOrder: /^[ _]?started[ _]?order[ _]?$/i,\n  orderUpdated: /^[ _]?order[ _]?updated[ _]?$/i,\n  updatedOrder: /^[ _]?updated[ _]?order[ _]?$/i,\n  orderCompleted: /^[ _]?order[ _]?completed[ _]?$/i,\n  completedOrder: /^[ _]?completed[ _]?order[ _]?$/i,\n  orderRefunded: /^[ _]?order[ _]?refunded[ _]?$/i,\n  refundedOrder: /^[ _]?refunded[ _]?order[ _]?$/i,\n  orderCancelled: /^[ _]?order[ _]?cancelled[ _]?$/i,\n  paymentInfoAdded: /^[ _]?payment[ _]?info[ _]?added[ _]?$/i,\n  checkoutStarted: /^[ _]?checkout[ _]?started[ _]?$/i,\n  checkoutStepViewed: /^[ _]?checkout[ _]?step[ _]?viewed[ _]?$/i,\n  viewedCheckoutStep: /^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,\n  checkoutStepCompleted: /^[ _]?checkout[ _]?step[ _]?completed[ _]?$/i,\n  completedCheckoutStep: /^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i,\n  // Coupons\n  couponEntered: /^[ _]?coupon[ _]?entered[ _]?$/i,\n  couponApplied: /^[ _]?coupon[ _]?applied[ _]?$/i,\n  couponDenied: /^[ _]?coupon[ _]?denied[ _]?$/i,\n  couponRemoved: /^[ _]?coupon[ _]?removed[ _]?$/i,\n  // Wishlisting\n  productAddedToWishlist: /^[ _]?product[ _]?added[ _]?to[ _]?wishlist[ _]?$/i,\n  wishlistProductRemoved: /^[ _]?wishlist[ _]?product[ _]?removed[ _]?$/i,\n  wishlistProductAddedToCart: /^[ _]?wishlist[ _]?product[ _]?added[ _]?to[ _]?cart[ _]?$/i,\n  // Sharing\n  productShared: /^[ _]?product[ _]?shared[ _]?$/i,\n  cartShared: /^[ _]?cart[ _]?shared[ _]?$/i,\n  // Reviewing\n  productRemoved: /^[ _]?product[ _]?removed[ _]?$/i,\n  // App Lifecycle\n  applicationInstalled: /^[ _]?application[ _]?installed[ _]?$/i,\n  applicationUpdated: /^[ _]?application[ _]?updated[ _]?$/i,\n  applicationOpened: /^[ _]?application[ _]?opened[ _]?$/i,\n  applicationBackgrounded: /^[ _]?application[ _]?backgrounded[ _]?$/i,\n  applicationUninstalled: /^[ _]?application[ _]?uninstalled[ _]?$/i,\n  // App Campaign and Referral Events\n  installAttributed: /^[ _]?install[ _]?attributed[ _]?$/i,\n  deepLinkOpened: /^[ _]?deep[ _]?link[ _]?opened[ _]?$/i,\n  pushNotificationReceived: /^[ _]?push[ _]?notification[ _]?received[ _]?$/i,\n  pushNotificationTapped: /^[ _]?push[ _]?notification[ _]?received[ _]?$/i,\n  pushNotificationBounced: /^[ _]?push[ _]?notification[ _]?bounced[ _]?$/i\n};\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar each = require('@ndhoule/each');\n\n/**\n * Check if a predicate function returns `true` for all values in a `collection`.\n * Checks owned, enumerable values and exits early when `predicate` returns\n * `false`.\n *\n * @name every\n * @param {Function} predicate The function used to test values.\n * @param {Array|Object|string} collection The collection to search.\n * @return {boolean} True if all values passes the predicate test, otherwise false.\n * @example\n * var isEven = function(num) { return num % 2 === 0; };\n *\n * every(isEven, []); // => true\n * every(isEven, [1, 2]); // => false\n * every(isEven, [2, 4, 6]); // => true\n */\nvar every = function every(predicate, collection) {\n  if (typeof predicate !== 'function') {\n    throw new TypeError('`predicate` must be a function but was a ' + typeof predicate);\n  }\n\n  var result = true;\n\n  each(function(val, key, collection) {\n    result = !!predicate(val, key, collection);\n\n    // Exit early\n    if (!result) {\n      return false;\n    }\n  }, collection);\n\n  return result;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = every;\n", "'use strict';\n\n// Stringifier\nvar toString = global.JSON && typeof JSON.stringify === 'function' ? JSON.stringify : String;\n\n/**\n * Format the given `str`.\n *\n * @param {string} str\n * @param {...*} [args]\n * @return {string}\n */\nfunction fmt(str) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  var j = 0;\n\n  return str.replace(/%([a-z])/gi, function(match, f) {\n    return fmt[f] ? fmt[f](args[j++]) : match + f;\n  });\n}\n\n// Formatters\nfmt.o = toString;\nfmt.s = String;\nfmt.d = parseInt;\n\n/*\n * Exports.\n */\n\nmodule.exports = fmt;\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar each = require('@ndhoule/each');\n\n/**\n * Reduces all the values in a collection down into a single value. Does so by iterating through the\n * collection from left to right, repeatedly calling an `iterator` function and passing to it four\n * arguments: `(accumulator, value, index, collection)`.\n *\n * Returns the final return value of the `iterator` function.\n *\n * @name foldl\n * @api public\n * @param {Function} iterator The function to invoke per iteration.\n * @param {*} accumulator The initial accumulator value, passed to the first invocation of `iterator`.\n * @param {Array|Object} collection The collection to iterate over.\n * @return {*} The return value of the final call to `iterator`.\n * @example\n * foldl(function(total, n) {\n *   return total + n;\n * }, 0, [1, 2, 3]);\n * //=> 6\n *\n * var phonebook = { bob: '555-111-2345', tim: '655-222-6789', sheila: '655-333-1298' };\n *\n * foldl(function(results, phoneNumber) {\n *  if (phoneNumber[0] === '6') {\n *    return results.concat(phoneNumber);\n *  }\n *  return results;\n * }, [], phonebook);\n * // => ['655-222-6789', '655-333-1298']\n */\nvar foldl = function foldl(iterator, accumulator, collection) {\n  if (typeof iterator !== 'function') {\n    throw new TypeError('Expected a function but received a ' + typeof iterator);\n  }\n\n  each(function(val, i, collection) {\n    accumulator = iterator(accumulator, val, i, collection);\n  }, collection);\n\n  return accumulator;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = foldl;\n", "\n// https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n\n/**\n * Invoke `fn(err)` when the given `el` script loads.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function(el, fn){\n  return el.addEventListener\n    ? add(el, fn)\n    : attach(el, fn);\n};\n\n/**\n * Add event listener to `el`, `fn()`.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction add(el, fn){\n  el.addEventListener('load', function(_, e){ fn(null, e); }, false);\n  el.addEventListener('error', function(e){\n    var err = new Error('script error \"' + el.src + '\"');\n    err.event = e;\n    fn(err);\n  }, false);\n}\n\n/**\n * Attach event.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction attach(el, fn){\n  el.attachEvent('onreadystatechange', function(e){\n    if (!/complete|loaded/.test(el.readyState)) return;\n    fn(null, e);\n  });\n  el.attachEvent('onerror', function(e){\n    var err = new Error('failed to load the script \"' + el.src + '\"');\n    err.event = e || window.event;\n    fn(err);\n  });\n}\n", "/**\n * Module dependencies.\n */\n\nvar is = require('is');\nvar onload = require('script-onload');\nvar tick = require('next-tick');\n\n/**\n * Expose `loadScript`.\n *\n * @param {Object} options\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function loadIframe(options, fn){\n  if (!options) throw new Error('Cant load nothing...');\n\n  // Allow for the simplest case, just passing a `src` string.\n  if (is.string(options)) options = { src : options };\n\n  var https = document.location.protocol === 'https:' ||\n              document.location.protocol === 'chrome-extension:';\n\n  // If you use protocol relative URLs, third-party scripts like Google\n  // Analytics break when testing with `file:` so this fixes that.\n  if (options.src && options.src.indexOf('//') === 0) {\n    options.src = https ? 'https:' + options.src : 'http:' + options.src;\n  }\n\n  // Allow them to pass in different URLs depending on the protocol.\n  if (https && options.https) options.src = options.https;\n  else if (!https && options.http) options.src = options.http;\n\n  // Make the `<iframe>` element and insert it before the first iframe on the\n  // page, which is guaranteed to exist since this Javaiframe is running.\n  var iframe = document.createElement('iframe');\n  iframe.src = options.src;\n  iframe.width = options.width || 1;\n  iframe.height = options.height || 1;\n  iframe.style.display = 'none';\n\n  // If we have a fn, attach event handlers, even in IE. Based off of\n  // the Third-Party Javascript script loading example:\n  // https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n  if (is.fn(fn)) {\n    onload(iframe, fn);\n  }\n\n  tick(function(){\n    // Append after event listeners are attached for IE.\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(iframe, firstScript);\n  });\n\n  // Return the iframe element in case they want to do anything special, like\n  // give it an ID or attributes.\n  return iframe;\n};\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar onload = require('script-onload');\nvar tick = require('next-tick');\nvar type = require('component-type');\n\n/**\n * Loads a script asynchronously.\n *\n * @param {Object} options\n * @param {Function} cb\n */\nfunction loadScript(options, cb) {\n  if (!options) {\n    throw new Error('Can\\'t load nothing...');\n  }\n\n  // Allow for the simplest case, just passing a `src` string.\n  if (type(options) === 'string') {\n    options = { src : options };\n  }\n\n  var https = document.location.protocol === 'https:' || document.location.protocol === 'chrome-extension:';\n\n  // If you use protocol relative URLs, third-party scripts like Google\n  // Analytics break when testing with `file:` so this fixes that.\n  if (options.src && options.src.indexOf('//') === 0) {\n    options.src = (https ? 'https:' : 'http:') + options.src;\n  }\n\n  // Allow them to pass in different URLs depending on the protocol.\n  if (https && options.https) {\n    options.src = options.https;\n  } else if (!https && options.http) {\n    options.src = options.http;\n  }\n\n  // Make the `<script>` element and insert it before the first script on the\n  // page, which is guaranteed to exist since this Javascript is running.\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.async = true;\n  script.src = options.src;\n\n  // If we have a cb, attach event handlers. Does not work on < IE9 because\n  // older browser versions don't register element.onerror\n  if (type(cb) === 'function') {\n    onload(script, cb);\n  }\n\n  tick(function() {\n    // Append after event listeners are attached for IE.\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(script, firstScript);\n  });\n\n  // Return the script element in case they want to do anything special, like\n  // give it an ID or attributes.\n  return script;\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = loadScript;\n", "\n/**\n * Expose `toNoCase`.\n */\n\nmodule.exports = toNoCase;\n\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/;\nvar hasSeparator = /[\\W_]/;\n\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase (string) {\n  if (hasSpace.test(string)) return string.toLowerCase();\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase();\n  return uncamelize(string).toLowerCase();\n}\n\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g;\n\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate (string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : '';\n  });\n}\n\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g;\n\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize (string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ');\n  });\n}", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar after = require('@ndhoule/after');\nvar each = require('@ndhoule/each');\nvar events = require('analytics-events');\nvar every = require('@ndhoule/every');\nvar fmt = require('@segment/fmt');\nvar foldl = require('@ndhoule/foldl');\nvar is = require('is');\nvar loadIframe = require('load-iframe');\nvar loadScript = require('@segment/load-script');\nvar nextTick = require('next-tick');\nvar normalize = require('to-no-case');\n\n/**\n * hasOwnProperty reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * No operation.\n */\n\nvar noop = function noop() {};\n\n/**\n * Window defaults.\n */\n\nvar onerror = window.onerror;\nvar onload = null;\n\n/**\n * Mixin emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Initialize.\n */\n\nexports.initialize = function() {\n  var ready = this.ready;\n  nextTick(ready);\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\n\nexports.loaded = function() {\n  return false;\n};\n\n/**\n * Page.\n *\n * @api public\n * @param {Page} page\n */\n\n/* eslint-disable no-unused-vars */\nexports.page = function(page) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Track.\n *\n * @api public\n * @param {Track} track\n */\n\n/* eslint-disable no-unused-vars */\nexports.track = function(track) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Get values from items in `options` that are mapped to `key`.\n * `options` is an integration setting which is a collection\n * of type 'map', 'array', or 'mixed'\n *\n * Use cases include mapping events to pixelIds (map), sending generic\n * conversion pixels only for specific events (array), or configuring dynamic\n * mappings of event properties to query string parameters based on event (mixed)\n *\n * @api public\n * @param {Object|Object[]|String[]} options An object, array of objects, or\n * array of strings pulled from settings.mapping.\n * @param {string} key The name of the item in options whose metadata\n * we're looking for.\n * @return {Array} An array of settings that match the input `key` name.\n * @example\n *\n * // 'Map'\n * var events = { my_event: 'a4991b88' };\n * .map(events, 'My Event');\n * // => [\"a4991b88\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Array'\n * * var events = ['Completed Order', 'My Event'];\n * .map(events, 'My Event');\n * // => [\"My Event\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Mixed'\n * var events = [{ key: 'my event', value: '9b5eb1fa' }];\n * .map(events, 'my_event');\n * // => [\"9b5eb1fa\"]\n * .map(events, 'whatever');\n * // => []\n */\n\nexports.map = function(options, key) {\n  var normalizedComparator = normalize(key);\n  var mappingType = getMappingType(options);\n\n  if (mappingType === 'unknown') {\n    return [];\n  }\n\n  return foldl(function(matchingValues, val, key) {\n    var compare;\n    var result;\n\n    if (mappingType === 'map') {\n      compare = key;\n      result = val;\n    }\n\n    if (mappingType === 'array') {\n      compare = val;\n      result = val;\n    }\n\n    if (mappingType === 'mixed') {\n      compare = val.key;\n      result = val.value;\n    }\n\n    if (normalize(compare) === normalizedComparator) {\n      matchingValues.push(result);\n    }\n\n    return matchingValues;\n  }, [], options);\n};\n\n/**\n * Invoke a `method` that may or may not exist on the prototype with `args`,\n * queueing or not depending on whether the integration is \"ready\". Don't\n * trust the method call, since it contains integration party code.\n *\n * @api private\n * @param {string} method\n * @param {...*} args\n */\n\nexports.invoke = function(method) {\n  if (!this[method]) return;\n  var args = Array.prototype.slice.call(arguments, 1);\n  if (!this._ready) return this.queue(method, args);\n\n  this.debug('%s with %o', method, args);\n  return this[method].apply(this, args);\n};\n\n/**\n * Queue a `method` with `args`. If the integration assumes an initial\n * pageview, then let the first call to `page` pass through.\n *\n * @api private\n * @param {string} method\n * @param {Array} args\n */\n\nexports.queue = function(method, args) {\n  if (method === 'page' && this._assumesPageview && !this._initialized) {\n    return this.page.apply(this, args);\n  }\n\n  this._queue.push({ method: method, args: args });\n};\n\n/**\n * Flush the internal queue.\n *\n * @api private\n */\n\nexports.flush = function() {\n  this._ready = true;\n  var self = this;\n\n  each(function(call) {\n    self[call.method].apply(self, call.args);\n  }, this._queue);\n\n  // Empty the queue.\n  this._queue.length = 0;\n};\n\n/**\n * Reset the integration, removing its global variables.\n *\n * @api private\n */\n\nexports.reset = function() {\n  for (var i = 0; i < this.globals.length; i++) {\n    window[this.globals[i]] = undefined;\n  }\n\n  window.onerror = onerror;\n  window.onload = onload;\n};\n\n/**\n * Load a tag by `name`.\n *\n * @param {string} name The name of the tag.\n * @param {Object} locals Locals used to populate the tag's template variables\n * (e.g. `userId` in '<img src=\"https://whatever.com/{{ userId }}\">').\n * @param {Function} [callback=noop] A callback, invoked when the tag finishes\n * loading.\n */\n\nexports.load = function(name, locals, callback) {\n  // Argument shuffling\n  if (typeof name === 'function') { callback = name; locals = null; name = null; }\n  if (name && typeof name === 'object') { callback = locals; locals = name; name = null; }\n  if (typeof locals === 'function') { callback = locals; locals = null; }\n\n  // Default arguments\n  name = name || 'library';\n  locals = locals || {};\n\n  locals = this.locals(locals);\n  var template = this.templates[name];\n  if (!template) throw new Error(fmt('template \"%s\" not defined.', name));\n  var attrs = render(template, locals);\n  callback = callback || noop;\n  var self = this;\n  var el;\n\n  switch (template.type) {\n  case 'img':\n    attrs.width = 1;\n    attrs.height = 1;\n    el = loadImage(attrs, callback);\n    break;\n  case 'script':\n    el = loadScript(attrs, function(err) {\n      if (!err) return callback();\n      self.debug('error loading \"%s\" error=\"%s\"', self.name, err);\n    });\n      // TODO: hack until refactoring load-script\n    delete attrs.src;\n    each(function(val, key) {\n      el.setAttribute(key, val);\n    }, attrs);\n    break;\n  case 'iframe':\n    el = loadIframe(attrs, callback);\n    break;\n  default:\n      // No default case\n  }\n\n  return el;\n};\n\n/**\n * Locals for tag templates.\n *\n * By default it includes a cache buster and all of the options.\n *\n * @param {Object} [locals]\n * @return {Object}\n */\n\nexports.locals = function(locals) {\n  locals = locals || {};\n  var cache = Math.floor(new Date().getTime() / 3600000);\n  if (!locals.hasOwnProperty('cache')) locals.cache = cache;\n  each(function(val, key) {\n    if (!locals.hasOwnProperty(key)) locals[key] = val;\n  }, this.options);\n  return locals;\n};\n\n/**\n * Simple way to emit ready.\n *\n * @api public\n */\n\nexports.ready = function() {\n  this.emit('ready');\n};\n\n/**\n * Wrap the initialize method in an exists check, so we don't have to do it for\n * every single integration.\n *\n * @api private\n */\n\nexports._wrapInitialize = function() {\n  var initialize = this.initialize;\n  this.initialize = function() {\n    this.debug('initialize');\n    this._initialized = true;\n    var ret = initialize.apply(this, arguments);\n    this.emit('initialize');\n    return ret;\n  };\n\n  if (this._assumesPageview) this.initialize = after(2, this.initialize);\n};\n\n/**\n * Wrap the page method to call `initialize` instead if the integration assumes\n * a pageview.\n *\n * @api private\n */\n\nexports._wrapPage = function() {\n  var page = this.page;\n  this.page = function() {\n    if (this._assumesPageview && !this._initialized) {\n      return this.initialize.apply(this, arguments);\n    }\n\n    return page.apply(this, arguments);\n  };\n};\n\n/**\n * Wrap the track method to call other ecommerce methods if available depending\n * on the `track.event()`.\n *\n * @api private\n */\n\nexports._wrapTrack = function() {\n  var t = this.track;\n  this.track = function(track) {\n    var event = track.event();\n    var called;\n    var ret;\n\n    for (var method in events) {\n      if (has.call(events, method)) {\n        var regexp = events[method];\n        if (!this[method]) continue;\n        if (!regexp.test(event)) continue;\n        ret = this[method].apply(this, arguments);\n        called = true;\n        break;\n      }\n    }\n\n    if (!called) ret = t.apply(this, arguments);\n    return ret;\n  };\n};\n\n/**\n * Determine the type of the option passed to `#map`\n *\n * @api private\n * @param {Object|Object[]} mapping\n * @return {String} mappingType\n */\n\nfunction getMappingType(mapping) {\n  if (is.array(mapping)) {\n    return every(isMixed, mapping) ? 'mixed' : 'array';\n  }\n  if (is.object(mapping)) return 'map';\n  return 'unknown';\n}\n\n/**\n * Determine if item in mapping array is a valid \"mixed\" type value\n *\n * Must be an object with properties \"key\" (of type string)\n * and \"value\" (of any type)\n *\n * @api private\n * @param {*} item\n * @return {Boolean}\n */\n\nfunction isMixed(item) {\n  if (!is.object(item)) return false;\n  if (!is.string(item.key)) return false;\n  if (!has.call(item, 'value')) return false;\n  return true;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Object} attrs\n * @param {Function} fn\n * @return {Image}\n */\n\nfunction loadImage(attrs, fn) {\n  fn = fn || function() {};\n  var img = new Image();\n  img.onerror = error(fn, 'failed to load pixel', img);\n  img.onload = function() { fn(); };\n  img.src = attrs.src;\n  img.width = 1;\n  img.height = 1;\n  return img;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Function} fn\n * @param {string} message\n * @param {Element} img\n * @return {Function}\n */\n\nfunction error(fn, message, img) {\n  return function(e) {\n    e = e || window.event;\n    var err = new Error(message);\n    err.event = e;\n    err.source = img;\n    fn(err);\n  };\n}\n\n/**\n * Render template + locals into an `attrs` object.\n *\n * @api private\n * @param {Object} template\n * @param {Object} locals\n * @return {Object}\n */\n\nfunction render(template, locals) {\n  return foldl(function(attrs, val, key) {\n    attrs[key] = val.replace(/\\{\\{\\ *(\\w+)\\ *\\}\\}/g, function(_, $1) {\n      return locals[$1];\n    });\n    return attrs;\n  }, {}, template.attrs);\n}\n", "\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = Object.prototype.hasOwnProperty.call(map, tag) ? map[tag] : map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar domify = require('domify');\nvar each = require('@ndhoule/each');\nvar includes = require('@ndhoule/includes');\n\n/**\n * Mix in emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Add a new option to the integration by `key` with default `value`.\n *\n * @api public\n * @param {string} key\n * @param {*} value\n * @return {Integration}\n */\n\nexports.option = function(key, value) {\n  this.prototype.defaults[key] = value;\n  return this;\n};\n\n/**\n * Add a new mapping option.\n *\n * This will create a method `name` that will return a mapping for you to use.\n *\n * @api public\n * @param {string} name\n * @return {Integration}\n * @example\n * Integration('My Integration')\n *   .mapping('events');\n *\n * new MyIntegration().track('My Event');\n *\n * .track = function(track){\n *   var events = this.events(track.event());\n *   each(send, events);\n *  };\n */\n\nexports.mapping = function(name) {\n  this.option(name, []);\n  this.prototype[name] = function(key) {\n    return this.map(this.options[name], key);\n  };\n  return this;\n};\n\n/**\n * Register a new global variable `key` owned by the integration, which will be\n * used to test whether the integration is already on the page.\n *\n * @api public\n * @param {string} key\n * @return {Integration}\n */\n\nexports.global = function(key) {\n  this.prototype.globals.push(key);\n  return this;\n};\n\n/**\n * Mark the integration as assuming an initial pageview, so to defer loading\n * the script until the first `page` call, noop the first `initialize`.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.assumesPageview = function() {\n  this.prototype._assumesPageview = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `load` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnLoad = function() {\n  this.prototype._readyOnLoad = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `initialize` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnInitialize = function() {\n  this.prototype._readyOnInitialize = true;\n  return this;\n};\n\n/**\n * Define a tag to be loaded.\n *\n * @api public\n * @param {string} [name='library'] A nicename for the tag, commonly used in\n * #load. Helpful when the integration has multiple tags and you need a way to\n * specify which of the tags you want to load at a given time.\n * @param {String} str DOM tag as string or URL.\n * @return {Integration}\n */\n\nexports.tag = function(name, tag) {\n  if (tag == null) {\n    tag = name;\n    name = 'library';\n  }\n  this.prototype.templates[name] = objectify(tag);\n  return this;\n};\n\n/**\n * Given a string, give back DOM attributes.\n *\n * Do it in a way where the browser doesn't load images or iframes. It turns\n * out domify will load images/iframes because whenever you construct those\n * DOM elements, the browser immediately loads them.\n *\n * @api private\n * @param {string} str\n * @return {Object}\n */\n\nfunction objectify(str) {\n  // replace `src` with `data-src` to prevent image loading\n  str = str.replace(' src=\"', ' data-src=\"');\n\n  var el = domify(str);\n  var attrs = {};\n\n  each(function(attr) {\n    // then replace it back\n    var name = attr.name === 'data-src' ? 'src' : attr.name;\n    if (!includes(attr.name + '=', str)) return;\n    attrs[name] = attr.value;\n  }, el.attributes);\n\n  return {\n    type: el.tagName.toLowerCase(),\n    attrs: attrs\n  };\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bind = require('component-bind');\nvar clone = require('@ndhoule/clone');\nvar debug = require('debug');\nvar defaults = require('@ndhoule/defaults');\nvar extend = require('@ndhoule/extend');\nvar slug = require('slug-component');\nvar protos = require('./protos');\nvar statics = require('./statics');\n\n/**\n * Create a new `Integration` constructor.\n *\n * @constructs Integration\n * @param {string} name\n * @return {Function} Integration\n */\n\nfunction createIntegration(name) {\n  /**\n   * Initialize a new `Integration`.\n   *\n   * @class\n   * @param {Object} options\n   */\n\n  function Integration(options) {\n    if (options && options.addIntegration) {\n      // plugin\n      return options.addIntegration(Integration);\n    }\n    this.debug = debug('analytics:integration:' + slug(name));\n    this.options = defaults(clone(options) || {}, this.defaults);\n    this._queue = [];\n    this.once('ready', bind(this, this.flush));\n\n    Integration.emit('construct', this);\n    this.ready = bind(this, this.ready);\n    this._wrapInitialize();\n    this._wrapPage();\n    this._wrapTrack();\n  }\n\n  Integration.prototype.defaults = {};\n  Integration.prototype.globals = [];\n  Integration.prototype.templates = {};\n  Integration.prototype.name = name;\n  extend(Integration, statics);\n  extend(Integration.prototype, protos);\n\n  return Integration;\n}\n\n/**\n * Exports.\n */\n\nmodule.exports = createIntegration;\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Identify = require('segmentio-facade').Identify;\nvar alias = require('@segment/alias');\nvar convertDates = require('@segment/convert-dates');\nvar integration = require('@segment/analytics.js-integration');\n\nvar MAX_YEAR_SUPPORTED_AS_UNIX = 1970;\n/**\n * Expose `Customerio` integration.\n */\n\nvar Customerio = (module.exports = integration('Customer.io')\n  .global('_cio')\n  .option('siteId', '')\n  .option('datacenter', '')\n  .tag(\n    'eu-tag',\n    '<script id=\"cio-tracker\" src=\"https://assets.customer.io/assets/track-eu.js\" data-site-id=\"{{ siteId }}\">'\n  )\n  .tag(\n    'global-tag',\n    '<script id=\"cio-tracker\" src=\"https://assets.customer.io/assets/track.js\" data-site-id=\"{{ siteId }}\">'\n  ));\n\n/**\n * Initialize.\n *\n * http://customer.io/docs/api/javascript.html\n *\n * @api public\n */\n\nCustomerio.prototype.initialize = function() {\n  window._cio = window._cio || [];\n  /* eslint-disable */\n  (function(){var a,b,c; a = function(f){return function(){window._cio.push([f].concat(Array.prototype.slice.call(arguments,0))); }; }; b = ['identify', 'track']; for (c = 0; c < b.length; c++) {window._cio[b[c]] = a(b[c]); } })();\n  /* eslint-enable */\n\n  if (this.options.datacenter === 'eu' && this.templates['eu-tag']) {\n    this.load('eu-tag', this.ready)\n  } else {\n    this.load('global-tag', this.ready);\n  }\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\n\nCustomerio.prototype.loaded = function() {\n  return !!(window._cio && window._cio.push !== Array.prototype.push);\n};\n\n/**\n * Page.\n *\n * https://learn.customer.io/api/#apipageview_event\n *\n * @api public\n * @param {Page} page\n */\n\nCustomerio.prototype.page = function(page) {\n  var name = page.name() || page.url();\n  window._cio.page(name, page.properties());\n};\n\n/**\n * Identify.\n *\n * http://customer.io/docs/api/javascript.html#section-Identify_customers\n *\n * @api public\n * @param {Identify} identify\n */\n\nCustomerio.prototype.identify = function(identify) {\n  if (!identify.userId()) return this.debug('user id required');\n  var traits = identify.traits({ createdAt: 'created' });\n  traits = alias(traits, { created: 'created_at' });\n  traits = convertDates(traits, convertDate);\n  window._cio.identify(traits);\n};\n\n/**\n * Group.\n *\n * @api public\n * @param {Group} group\n */\n\nCustomerio.prototype.group = function(group) {\n  var traits = group.traits();\n  var user = this.analytics.user();\n\n  traits = alias(traits, function(trait) {\n    return 'Group ' + trait;\n  });\n\n  this.identify(\n    new Identify({\n      userId: user.id(),\n      traits: traits\n    })\n  );\n};\n\n/**\n * Track.\n *\n * http://customer.io/docs/api/javascript.html#section-Track_a_custom_event\n *\n * @api public\n * @param {Track} track\n */\n\nCustomerio.prototype.track = function(track) {\n  var properties = track.properties();\n  properties = convertDates(properties, convertDate);\n  window._cio.track(track.event(), properties);\n};\n\n/**\n * Convert a date to the format Customer.io supports.\n *\n * @api private\n * @param {Date} date\n * @return {number}\n */\n\nfunction convertDate(date) {\n  if (date.getFullYear() < MAX_YEAR_SUPPORTED_AS_UNIX) {\n    return date.toISOString();\n  }\n  return Math.floor(date.getTime() / 1000);\n}\n", "'use strict';\n\n/**\n * Pad a `number` with a ten's place zero.\n *\n * @param {number} number\n * @return {string}\n */\nfunction pad(number) {\n  var n = number.toString();\n  return n.length === 1 ? '0' + n : n;\n}\n\n/**\n * Turn a `date` into an ISO string.\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\n *\n * @param {Date} date\n * @return {string}\n */\nfunction toISOString(date) {\n  return date.getUTCFullYear()\n    + '-' + pad(date.getUTCMonth() + 1)\n    + '-' + pad(date.getUTCDate())\n    + 'T' + pad(date.getUTCHours())\n    + ':' + pad(date.getUTCMinutes())\n    + ':' + pad(date.getUTCSeconds())\n    + '.' + String((date.getUTCMilliseconds()/1000).toFixed(3)).slice(2, 5)\n    + 'Z';\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = toISOString;\n", "module.exports = function(arr, obj){\n  if (arr.indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar alias = require('@segment/alias');\nvar dates = require('@segment/convert-dates');\nvar del = require('obj-case').del;\nvar includes = require('@ndhoule/includes');\nvar integration = require('@segment/analytics.js-integration');\nvar iso = require('@segment/to-iso-string');\nvar pick = require('@ndhoule/pick');\nvar is = require('is');\nvar indexOf = require('component-indexof');\n\n/**\n * Expose `Mixpanel` integration.\n */\n\nvar Mixpanel = (module.exports = integration('Mixpanel')\n  .global('mixpanel')\n  .option('eventIncrements', [])\n  .option('propIncrements', [])\n  .option('peopleProperties', [])\n  .option('superProperties', [])\n  .option('cookieName', '')\n  .option('crossSubdomainCookie', false)\n  .option('secureCookie', false)\n  .option('persistence', 'cookie')\n  .option('nameTag', true)\n  .option('pageview', false)\n  .option('people', false)\n  .option('token', '')\n  .option('setAllTraitsByDefault', true)\n  .option('consolidatedPageCalls', true)\n  .option('trackAllPages', false)\n  .option('trackNamedPages', false)\n  .option('trackCategorizedPages', false)\n  .option('groupIdentifierTraits', [])\n  .option('sourceName', '')\n  .option('enableEuropeanUnionEndpoint', false)\n  .tag('<script src=\"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js\">'));\n\n/**\n * Options aliases.\n */\n\nvar optionsAliases = {\n  cookieName: 'cookie_name',\n  crossSubdomainCookie: 'cross_subdomain_cookie',\n  secureCookie: 'secure_cookie'\n};\n\n/**\n * Initialize.\n *\n * https://mixpanel.com/help/reference/javascript#installing\n * https://mixpanel.com/help/reference/javascript-full-api-reference#mixpanel.init\n *\n * @api public\n */\n\nMixpanel.prototype.initialize = function() {\n  /* eslint-disable */\n  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+\"=([^&]*)\")))?l[1]:null};g&&c(g,\"state\")&&(i=JSON.parse(decodeURIComponent(c(g,\"state\"))),\"mpeditor\"===i.action&&(b.sessionStorage.setItem(\"_mpcehash\",g),history.replaceState(i.desiredHash||\"\",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(\".\");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,\n0)))}}var d=a;\"undefined\"!==typeof f?d=a[f]=[]:f=\"mixpanel\";d.people=d.people||[];d.toString=function(b){var a=\"mixpanel\";\"mixpanel\"!==f&&(a+=\".\"+f);b||(a+=\" (stub)\");return a};d.people.toString=function(){return d.toString(1)+\".people (stub)\"};k=\"disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user\".split(\" \");\nfor(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;}})(document,window.mixpanel||[]);\n  /* eslint-enable */\n  this.options.eventIncrements = lowercase(this.options.eventIncrements);\n  this.options.propIncrements = lowercase(this.options.propIncrements);\n  var options = alias(this.options, optionsAliases);\n  if (this.options.enableEuropeanUnionEndpoint) {\n    // https://developer.mixpanel.com/docs/implement-mixpanel#section-implementing-mixpanel-in-the-european-union-eu\n    options.api_host = 'https://api-eu.mixpanel.com';\n  }\n  // tag ajs requests with Segment by request from Mixpanel team for better mutual debugging\n  options.loaded = function(mixpanel) {\n    mixpanel.register({ mp_lib: 'Segment: web' });\n  };\n  window.mixpanel.init(options.token, options);\n  this.load(this.ready);\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\n\nMixpanel.prototype.loaded = function() {\n  return !!(window.mixpanel && window.mixpanel.config);\n};\n\n/**\n * Page.\n *\n * https://mixpanel.com/help/reference/javascript-full-api-reference#mixpanel.track_pageview\n *\n * @api public\n * @param {Page} page\n */\n\nMixpanel.prototype.page = function(page) {\n  var category = page.category();\n  var name = page.name();\n  var opts = this.options;\n\n  // consolidated Page Calls\n  if (opts.consolidatedPageCalls) {\n    this.track(page.track());\n    return;\n  }\n\n  // all pages\n  if (opts.trackAllPages) {\n    this.track(page.track());\n    return;\n  }\n\n  // categorized pages\n  if (opts.trackCategorizedPages && category) {\n    // If this option is checked and name was also passed, used the full name which includes both category & name\n    if (name) {\n      this.track(page.track(page.fullName()));\n      return;\n    }\n    this.track(page.track(category));\n    return;\n  }\n\n  // named pages\n  if (name && opts.trackNamedPages) {\n    this.track(page.track(name));\n  }\n};\n\n/**\n * Trait aliases.\n */\n\nvar traitAliases = {\n  created: '$created',\n  email: '$email',\n  firstName: '$first_name',\n  lastName: '$last_name',\n  lastSeen: '$last_seen',\n  name: '$name',\n  username: '$username',\n  phone: '$phone'\n};\n\n/**\n * Identify.\n *\n * https://mixpanel.com/help/reference/javascript#super-properties\n * https://mixpanel.com/help/reference/javascript#user-identity\n * https://mixpanel.com/help/reference/javascript#storing-user-profiles\n *\n * @api public\n * @param {Identify} identify\n */\n\nMixpanel.prototype.identify = function(identify) {\n  var username = identify.username();\n  var email = identify.email();\n  var id = identify.userId();\n  var setAllTraitsByDefault = this.options.setAllTraitsByDefault;\n  var people = this.options.people;\n  var peopleProperties = extendTraits(this.options.peopleProperties);\n  var superProperties = this.options.superProperties;\n\n  // id\n  if (id) window.mixpanel.identify(id);\n\n  // name tag\n  var nametag = email || username || id;\n  if (nametag) window.mixpanel.name_tag(nametag);\n\n  var traits = identify.traits(traitAliases);\n  if (traits.$created) del(traits, 'createdAt');\n  traits = dates(traits, iso);\n\n  // determine which traits to union to existing properties and which to set as new properties\n  var traitsToUnion = {};\n  var traitsToSet = {};\n  for (var key in traits) {\n    if (!traits.hasOwnProperty(key)) continue;\n\n    var trait = traits[key];\n    if (Array.isArray(trait) && trait.length > 0) {\n      traitsToUnion[key] = trait;\n      // since mixpanel doesn't offer a union method for super properties we have to do it manually by retrieving the existing list super property\n      // from mixpanel and manually unioning to it ourselves\n      var existingTrait = window.mixpanel.get_property(key);\n      if (existingTrait && Array.isArray(existingTrait)) {\n        traits[key] = unionArrays(existingTrait, trait);\n      }\n    } else {\n      traitsToSet[key] = trait;\n    }\n  }\n\n  if (setAllTraitsByDefault) {\n    window.mixpanel.register(traits);\n    if (people) {\n      window.mixpanel.people.set(traitsToSet);\n      window.mixpanel.people.union(traitsToUnion);\n    }\n  } else {\n    // explicitly set select traits as people and super properties\n    var mappedSuperProps = mapTraits(superProperties);\n    var superProps = pick(mappedSuperProps || [], traits);\n    if (!is.empty(superProps)) window.mixpanel.register(superProps);\n    if (people) {\n      var mappedPeopleProps = mapTraits(peopleProperties);\n      var peoplePropsToSet = pick(mappedPeopleProps || [], traitsToSet);\n      var peoplePropsToUnion = pick(mappedPeopleProps || [], traitsToUnion);\n      if (!is.empty(peoplePropsToSet))\n        window.mixpanel.people.set(peoplePropsToSet);\n      if (!is.empty(peoplePropsToUnion))\n        window.mixpanel.people.union(peoplePropsToUnion);\n    }\n  }\n};\n\n/**\n * Track.\n *\n * https://mixpanel.com/help/reference/javascript#sending-events\n * https://mixpanel.com/help/reference/javascript#tracking-revenue\n *\n * @api public\n * @param {Track} track\n */\n\nMixpanel.prototype.track = function(track) {\n  var eventIncrements = this.options.eventIncrements || this.options.increments; // TODO: remove settings.increments check, it's only here as we cutover from increments to eventIncrements\n  var propIncrements = this.options.propIncrements;\n  var eventLowercase = track.event().toLowerCase();\n  var people = this.options.people;\n  var props = track.properties();\n  var revenue = track.revenue();\n  // Don't map traits, clients should use identify instead.\n  var superProps = pick(this.options.superProperties, props);\n  var sourceName = this.options.sourceName;\n\n  if (sourceName) props.segment_source_name = sourceName;\n\n  // delete mixpanel's reserved properties, so they don't conflict\n  delete props.distinct_id;\n  delete props.ip;\n  delete props.mp_name_tag;\n  delete props.mp_note;\n  delete props.token;\n\n  props = dates(props, iso);\n  invertObjectArrays(props);\n\n  // Mixpanel People operations\n  if (people) {\n    // increment event count\n    if (includes(eventLowercase, eventIncrements)) {\n      window.mixpanel.people.increment(track.event());\n      window.mixpanel.people.set('Last ' + track.event(), new Date());\n    }\n    // increment property counts\n    for (var key in props) {\n      if (!Object.prototype.hasOwnProperty.call(props, key)) {\n        continue;\n      }\n      var prop = props[key];\n      if (includes(key.toLowerCase(), propIncrements)) {\n        window.mixpanel.people.increment(key, prop);\n      }\n    }\n    // track revenue\n    if (revenue) {\n      window.mixpanel.people.track_charge(revenue);\n    }\n  }\n\n  // track the event\n  var query;\n  if (props.link_query) {\n    query = props.link_query; // DOM query\n    delete props.link_query;\n    window.mixpanel.track_links(query, track.event(), props);\n  } else if (props.form_query) {\n    // DOM query\n    query = props.form_query;\n    delete props.form_query;\n    window.mixpanel.track_forms(query, track.event(), props);\n  } else {\n    window.mixpanel.track(track.event(), props);\n  }\n\n  // register super properties if present in context.mixpanel.superProperties\n  if (!is.empty(superProps)) {\n    window.mixpanel.register(superProps);\n  }\n};\n\n/**\n * Alias.\n *\n * https://mixpanel.com/help/reference/javascript#user-identity\n * https://mixpanel.com/help/reference/javascript-full-api-reference#mixpanel.alias\n *\n * @api public\n * @param {Alias} alias\n */\n\nMixpanel.prototype.alias = function(alias) {\n  var mp = window.mixpanel;\n  var to = alias.to();\n  if (mp.get_distinct_id && mp.get_distinct_id() === to) return;\n  // HACK: internal mixpanel API to ensure we don't overwrite\n  if (mp.get_property && mp.get_property('$people_distinct_id') === to) return;\n  // although undocumented, mixpanel takes an optional original id\n  mp.alias(to, alias.from());\n};\n\n/**\n *\n * @param {Group} group\n */\n\nMixpanel.prototype.group = function(group) {\n  var groupIdentifierTraits = this.options.groupIdentifierTraits;\n  var groupId = group.groupId();\n  var userId = this.analytics.user().id();\n  var traits = group.properties();\n  if (!groupId || !userId || !groupIdentifierTraits.length) {\n    return;\n  }\n\n  if (traits && Object.keys(traits).length) {\n    for (var ind = 0; ind < groupIdentifierTraits.length; ind++) {\n      window.mixpanel\n        .get_group(groupIdentifierTraits[ind], groupId)\n        .set_once(traits);\n    }\n  }\n  for (var i = 0; i < groupIdentifierTraits.length; i++) {\n    window.mixpanel.set_group(groupIdentifierTraits[i], [groupId]);\n  }\n};\n\n/**\n * Lowercase the given `arr`.\n *\n * @api private\n * @param {Array} arr\n * @return {Array}\n */\n\nfunction lowercase(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < arr.length; ++i) {\n    ret[i] = String(arr[i]).toLowerCase();\n  }\n\n  return ret;\n}\n\n/**\n * Map Special traits in the given `arr`.\n * From the TraitAliases for Mixpanel's special props\n *\n * @api private\n * @param {Array} arr\n * @return {Array}\n */\n\nfunction mapTraits(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < arr.length; ++i) {\n    if (traitAliases.hasOwnProperty(arr[i])) {\n      ret.push(traitAliases[arr[i]]);\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n\n  return ret;\n}\n\n/**\n * extend Mixpanel's special trait keys in the given `arr`.\n *\n * @api private\n * @param {Array} arr\n * @return {Array}\n */\n\nfunction extendTraits(arr) {\n  var keys = [];\n\n  for (var key in traitAliases) {\n    if (traitAliases.hasOwnProperty(key)) {\n      keys.push(key);\n    }\n  }\n\n  for (var i = 0; i < keys.length; ++i) {\n    if (indexOf(arr, keys[i]) < 0) {\n      arr.push(keys[i]);\n    }\n  }\n\n  return arr;\n}\n\n/**\n * Since Mixpanel doesn't support lists of objects, invert each list of objects to a set of lists of object properties.\n * Treats list transformation atomically, e.g. will only transform if EVERY item in list is an object\n *\n * @api private\n * @param {Object} props\n * @example\n * input: {products: [{sku: 32, revenue: 99}, {sku:2, revenue: 103}]}\n * output: {products_skus: [32, 2], products_revenues: [99, 103]}\n */\n\nfunction invertObjectArrays(props) {\n  var properties = props;\n  for (var propName in properties) {  // eslint-disable-line\n    var propValue = properties[propName];\n    if (!properties.hasOwnProperty(propName) || !Array.isArray(propValue)) {\n      continue;\n    }\n\n    var invertedArrays = invertObjectArray(propName, propValue);\n    if (Object.keys(invertedArrays).length !== 0) {\n      // make sure obj isn't empty\n      mergeArraysIntoObj(properties, invertedArrays);\n      delete properties[propName];\n    }\n  }\n}\n\n// Example:\n// input: 'products', [{sku: 32, revenue: 99}, {sku:2, revenue: 103}]\n// output: {products_skus: [32, 2], products_revenues: [99, 103]}\nfunction invertObjectArray(propName, arr) {\n  var invertedArrays = {};\n\n  // invert object lists and collect into invertedLists\n  for (var i = 0; i < arr.length; i++) {\n    var elem = arr[i];\n\n    // abort operation if non-object encountered in array\n    if (typeof elem !== 'object') {\n      return {};\n    }\n    for (var key in elem) {\n      if (!elem.hasOwnProperty(key)) {\n        continue;\n      }\n      var attrKey = propName + '_' + key + 's'; // e.g. products_skus\n\n      // append to list if it exists or create new one if not\n      if (attrKey in invertedArrays) {\n        invertedArrays[attrKey].push(elem[key]);\n      } else {\n        invertedArrays[attrKey] = [elem[key]];\n      }\n    }\n  }\n  return invertedArrays;\n}\n\nfunction mergeArraysIntoObj(destination, source) {\n  var d = destination;\n  for (var arrayName in source) {\n    if (source.hasOwnProperty(arrayName)) {\n      var arr = source[arrayName];\n      d[arrayName] = arrayName in d ? d[arrayName].concat(arr) : arr;\n    }\n  }\n}\n\n/**\n * Return union of two arrays\n * Pulled from https://stackoverflow.com/a/3629861\n *\n * @param {Array} x\n * @param {Array} y\n * @return {Array} res\n * @api private\n */\n\nfunction unionArrays(x, y) {\n  var obj = {};\n  // store items of each array as keys/values of obj, implicitly overwriting duplicates\n  var i;\n  for (i = 0; i < x.length; i++) {\n    obj[x[i]] = x[i];\n  }\n  for (i = 0; i < y.length; i++) {\n    obj[y[i]] = y[i];\n  }\n  return Object.keys(obj);\n}\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar keys = require('@ndhoule/keys');\n\n/**\n * Returns an array containing all enumerable values from a `source` object.\n *\n * @name values\n * @api public\n * @category Object\n * @param {Object} source The object to retrieve values from.\n * @return {Array} An array of all the `source` object's values.\n * @example\n * values({ a: 1, b: 2, c: 3 });\n * //=> [1, 2, 3]\n */\nvar values = function values(source) {\n  var ks = keys(source);\n  var results = new Array(ks.length);\n\n  for (var i = 0; i < ks.length; i += 1) {\n    results[i] = source[ks[i]];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = values;\n", "'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar each = require('@ndhoule/each');\n\n/**\n * Produce a new array by passing each value in the input `collection` through a transformative\n * `iterator` function. The `iterator` function is passed three arguments:\n * `(value, index, collection)`.\n *\n * @name map\n * @api public\n * @param {Function} iterator The transformer function to invoke per iteration.\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing the results of each `iterator` invocation.\n * @example\n * var square = function(x) { return x * x; };\n *\n * map(square, [1, 2, 3]);\n * //=> [1, 4, 9]\n */\nvar map = function map(iterator, collection) {\n  if (typeof iterator !== 'function') {\n    throw new TypeError('Expected a function but received a ' + typeof iterator);\n  }\n\n  var result = [];\n\n  each(function(val, i, collection) {\n    result.push(iterator(val, i, collection));\n  }, collection);\n\n  return result;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = map;\n", "'use strict';\n\n/**\n * Module Dependencies\n */\n\nvar map = require('@ndhoule/map');\nvar foldl = require('@ndhoule/foldl');\n\nvar eventMap = {\n  // Videos\n  videoPlaybackStarted: [{\n    object: 'video playback',\n    action: 'started'\n  }],\n  videoPlaybackPaused: [{\n    object: 'video playback',\n    action: 'paused'\n  }],\n  videoPlaybackInterrupted: [{\n    object: 'video playback',\n    action: 'interrupted'\n  }],\n  videoPlaybackResumed: [{\n    object: 'video playback',\n    action: 'resumed'\n  }],\n  videoPlaybackCompleted: [{\n    object: 'video playback',\n    action: 'completed'\n  }],\n  videoPlaybackExited: [{\n    object: 'video playback',\n    action: 'exited'\n  }],\n  videoPlaybackBufferStarted: [{\n    object: 'video playback buffer',\n    action: 'started'\n  }],\n  videoPlaybackBufferCompleted: [{\n    object: 'video playback buffer',\n    action: 'completed'\n  }],\n  videoPlaybackSeekStarted: [{\n    object: 'video playback seek',\n    action: 'started'\n  }],\n  videoPlaybackSeekCompleted: [{\n    object: 'video playback seek',\n    action: 'completed'\n  }],\n  videoContentStarted: [{\n    object: 'video content',\n    action: 'started'\n  }],\n  videoContentPlaying: [{\n    object: 'video content',\n    action: 'playing'\n  }],\n  videoContentCompleted: [{\n    object: 'video content',\n    action: 'completed'\n  }],\n  videoAdStarted: [{\n    object: 'video ad',\n    action: 'started'\n  }],\n  videoAdPlaying: [{\n    object: 'video ad',\n    action: 'playing'\n  }],\n  videoAdCompleted: [{\n    object: 'video ad',\n    action: 'completed'\n  }],\n  videoAdClicked: [{\n    object: 'video ad',\n    action: 'clicked'\n  }],\n  videoAdSkipped: [{\n    object: 'video ad',\n    action: 'skipped'\n  }],\n\n  // Promotions\n  promotionViewed: [{\n    object: 'promotion',\n    action: 'viewed'\n  }],\n  promotionClicked: [{\n    object: 'promotion',\n    action: 'clicked'\n  }],\n\n  // Browsing\n  productsSearched: [{\n    object: 'products',\n    action: 'searched'\n  }],\n  productListViewed: [{\n    object: 'product list',\n    action: 'viewed'\n  }, {\n    object: 'product category',\n    action: 'viewed'\n  }],\n  productListFiltered: [{\n    object: 'product list',\n    action: 'filtered'\n  }],\n\n  // Core Ordering\n  productClicked: [{\n    object: 'product',\n    action: 'clicked'\n  }],\n  productViewed: [{\n    object: 'product',\n    action: 'viewed'\n  }],\n  productAdded: [{\n    object: 'product',\n    action: 'added'\n  }],\n  productRemoved: [{\n    object: 'product',\n    action: 'removed'\n  }],\n  cartViewed: [{\n    object: 'cart',\n    action: 'viewed'\n  }],\n  orderUpdated: [{\n    object: 'order',\n    action: 'updated'\n  }],\n  orderCompleted: [{\n    object: 'order',\n    action: 'completed'\n  }],\n  orderRefunded: [{\n    object: 'order',\n    action: 'refunded'\n  }],\n  orderCancelled: [{\n    object: 'order',\n    action: 'cancelled'\n  }],\n  paymentInfoEntered: [{\n    object: 'payment info',\n    action: 'entered'\n  }],\n  checkoutStarted: [{\n    object: 'checkout',\n    action: 'started'\n  }],\n  checkoutStepViewed: [{\n    object: 'checkout step',\n    action: 'viewed'\n  }],\n  checkoutStepCompleted: [{\n    object: 'checkout step',\n    action: 'completed'\n  }],\n\n  // Coupons\n  couponEntered: [{\n    object: 'coupon',\n    action: 'entered'\n  }],\n  couponApplied: [{\n    object: 'coupon',\n    action: 'applied'\n  }],\n  couponDenied: [{\n    object: 'coupon',\n    action: 'denied'\n  }],\n  couponRemoved: [{\n    object: 'coupon',\n    action: 'removed'\n  }],\n\n  // Wishlisting\n  productAddedToWishlist: [{\n    object: 'product',\n    action: 'added to wishlist'\n  }],\n  productRemovedFromWishlist: [{\n    object: 'product',\n    action: 'removed from wishlist'\n  }],\n  productAddedFromWishlistToCart: [{\n    object: 'product',\n    action: 'added to cart from wishlist'\n  }, {\n    object: 'product',\n    action: 'added from wishlist to cart'\n  }],\n  wishlistProductAddedToCart: [{\n    object: 'wishlist product',\n    action: 'added to cart'\n  }],\n\n  // Sharing\n  productShared: [{\n    object: 'product',\n    action: 'shared'\n  }],\n  cartShared: [{\n    object: 'cart',\n    action: 'shared'\n  }],\n\n  // Reviewing\n  productReviewed: [{\n    object: 'product',\n    action: 'reviewed'\n  }],\n\n  // App Lifecycle\n  applicationInstalled: [{\n    object: 'application',\n    action: 'installed'\n  }],\n  applicationUpdated: [{\n    object: 'application',\n    action: 'updated'\n  }],\n  applicationOpened: [{\n    object: 'application',\n    action: 'opened'\n  }],\n  applicationBackgrounded: [{\n    object: 'application',\n    action: 'backgrounded'\n  }],\n  applicationUninstalled: [{\n    object: 'application',\n    action: 'uninstalled'\n  }],\n  applicationCrashed: [{\n    object: 'application',\n    action: 'crashed'\n  }],\n\n  // App Campaign and Referral Events\n  installAttributed: [{\n    object: 'install',\n    action: 'attributed'\n  }],\n  deepLinkOpened: [{\n    object: 'deep link',\n    action: 'opened'\n  }],\n  deepLinkClicked: [{\n    object: 'deep link',\n    action: 'clicked'\n  }],\n  pushNotificationReceived: [{\n    object: 'push notification',\n    action: 'received'\n  }],\n  pushNotificationTapped: [{\n    object: 'push notification',\n    action: 'tapped'\n  }],\n  pushNotificationBounced: [{\n    object: 'push notification',\n    action: 'bounced'\n  }],\n\n  // Email\n  emailBounced: [{\n    object: 'email',\n    action: 'bounced'\n  }],\n  emailDelivered: [{\n    object: 'email',\n    action: 'delivered'\n  }],\n  emailLinkClicked: [{\n    object: 'email link',\n    action: 'clicked'\n  }],\n  emailMarkedAsSpam: [{\n    object: 'email',\n    action: 'marked as spam'\n  }],\n  emailOpened: [{\n    object: 'email',\n    action: 'opened'\n  }],\n  unsubscribed: [{\n    object: '',\n    action: 'unsubscribed'\n  }],\n\n  // Live Chat\n  liveChatConversationEnded: [{\n    object: 'live chat conversation',\n    action: 'ended'\n  }],\n  liveChatConversationStarted: [{\n    object: 'live chat conversation',\n    action: 'started'\n  }],\n  liveChatMessageReceived: [{\n    object: 'live chat message',\n    action: 'received'\n  }],\n  liveChatMessageSent: [{\n    object: 'live chat message',\n    action: 'sent'\n  }]\n};\n\n/**\n * Export the event map\n *\n * For each method\n *   - For each of its object:action alias pairs\n *     - For each permutation of that pair\n *       - Create a regex string\n *   - Join them and assign it to its respective method value\n *\n *  [{\n *    object: 'product list',\n *    action: 'viewed'\n *  },{\n *    object: 'product category',\n *    action: 'viewed'\n *  }] => /\n *    ^[ _]?product[ _]?list[ _]?viewed[ _]?\n *   |^[ _]?viewed[ _]?product[ _]?list[ _]?\n *   |^[ _]?product[ _]?category[ _]?viewed[ _]?\n *   |^[ _]?viewed[ _]?product[ _]?category[ _]?\n *   $/i\n *\n *  todo(cs/wj/nh): memoization strategy / build step?\n */\n\nmodule.exports = foldl(function transform(ret, pairs, method) {\n  var values = map(function(pair) {\n    return map(function(permutation) {\n      var flattened = [].concat.apply([], map(function(words) {\n        return words.split(' ');\n      }, permutation));\n      return '^[ _]?' + flattened.join('[ _]?') + '[ _]?';\n    }, [\n      [pair.action, pair.object],\n      [pair.object, pair.action]\n    ]).join('|');\n  }, pairs);\n  var conjoined = values.join('|') + '$';\n  ret[method] = new RegExp(conjoined, 'i');\n  return ret;\n}, {}, eventMap);\n", "'use strict';\n\nvar callable, byObserver;\n\ncallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nbyObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, i = 0;\n\tnew Observer(function () {\n\t\tvar data;\n\t\tif (!queue) return;\n\t\tdata = queue;\n\t\tqueue = null;\n\t\tif (typeof data === 'function') {\n\t\t\tdata();\n\t\t\treturn;\n\t\t}\n\t\tdata.forEach(function (fn) { fn(); });\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tcallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process !== 'undefined') && process &&\n\t\t\t(typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// MutationObserver=\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') {\n\t\t\treturn byObserver(MutationObserver);\n\t\t}\n\t\tif (typeof WebKitMutationObserver === 'function') {\n\t\t\treturn byObserver(WebKitMutationObserver);\n\t\t}\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(callable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif (typeof setTimeout === 'function') {\n\t\treturn function (cb) { setTimeout(callable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar each = require('@ndhoule/each');\nvar events = require('analytics-events');\nvar every = require('@ndhoule/every');\nvar fmt = require('@segment/fmt');\nvar foldl = require('@ndhoule/foldl');\nvar is = require('is');\nvar loadIframe = require('load-iframe');\nvar loadScript = require('@segment/load-script');\nvar nextTick = require('next-tick');\nvar normalize = require('to-no-case');\n\n/**\n * hasOwnProperty reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * No operation.\n */\n\nvar noop = function noop() {};\n\n/**\n * Window defaults.\n */\n\nvar onerror = window.onerror;\nvar onload = null;\n\n/**\n * Mixin emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Initialize.\n */\n\nexports.initialize = function() {\n  var ready = this.ready;\n  nextTick(ready);\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\n\nexports.loaded = function() {\n  return false;\n};\n\n/**\n * Page.\n *\n * @api public\n * @param {Page} page\n */\n\n/* eslint-disable no-unused-vars */\nexports.page = function(page) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Track.\n *\n * @api public\n * @param {Track} track\n */\n\n/* eslint-disable no-unused-vars */\nexports.track = function(track) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Get values from items in `options` that are mapped to `key`.\n * `options` is an integration setting which is a collection\n * of type 'map', 'array', or 'mixed'\n *\n * Use cases include mapping events to pixelIds (map), sending generic\n * conversion pixels only for specific events (array), or configuring dynamic\n * mappings of event properties to query string parameters based on event (mixed)\n *\n * @api public\n * @param {Object|Object[]|String[]} options An object, array of objects, or\n * array of strings pulled from settings.mapping.\n * @param {string} key The name of the item in options whose metadata\n * we're looking for.\n * @return {Array} An array of settings that match the input `key` name.\n * @example\n *\n * // 'Map'\n * var events = { my_event: 'a4991b88' };\n * .map(events, 'My Event');\n * // => [\"a4991b88\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Array'\n * * var events = ['Completed Order', 'My Event'];\n * .map(events, 'My Event');\n * // => [\"My Event\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Mixed'\n * var events = [{ key: 'my event', value: '9b5eb1fa' }];\n * .map(events, 'my_event');\n * // => [\"9b5eb1fa\"]\n * .map(events, 'whatever');\n * // => []\n */\n\nexports.map = function(options, key) {\n  var normalizedComparator = normalize(key);\n  var mappingType = getMappingType(options);\n\n  if (mappingType === 'unknown') {\n    return [];\n  }\n\n  return foldl(function(matchingValues, val, key) {\n    var compare;\n    var result;\n\n    if (mappingType === 'map') {\n      compare = key;\n      result = val;\n    }\n\n    if (mappingType === 'array') {\n      compare = val;\n      result = val;\n    }\n\n    if (mappingType === 'mixed') {\n      compare = val.key;\n      result = val.value;\n    }\n\n    if (normalize(compare) === normalizedComparator) {\n      matchingValues.push(result);\n    }\n\n    return matchingValues;\n  }, [], options);\n};\n\n/**\n * Invoke a `method` that may or may not exist on the prototype with `args`,\n * queueing or not depending on whether the integration is \"ready\". Don't\n * trust the method call, since it contains integration party code.\n *\n * @api private\n * @param {string} method\n * @param {...*} args\n */\n\nexports.invoke = function(method) {\n  if (!this[method]) return;\n  var args = Array.prototype.slice.call(arguments, 1);\n  if (!this._ready) return this.queue(method, args);\n\n  this.debug('%s with %o', method, args);\n  return this[method].apply(this, args);\n};\n\n/**\n * Queue a `method` with `args`.\n *\n * @api private\n * @param {string} method\n * @param {Array} args\n */\n\nexports.queue = function(method, args) {\n  this._queue.push({ method: method, args: args });\n};\n\n/**\n * Flush the internal queue.\n *\n * @api private\n */\n\nexports.flush = function() {\n  this._ready = true;\n  var self = this;\n\n  each(function(call) {\n    self[call.method].apply(self, call.args);\n  }, this._queue);\n\n  // Empty the queue.\n  this._queue.length = 0;\n};\n\n/**\n * Reset the integration, removing its global variables.\n *\n * @api private\n */\n\nexports.reset = function() {\n  for (var i = 0; i < this.globals.length; i++) {\n    window[this.globals[i]] = undefined;\n  }\n\n  window.onerror = onerror;\n  window.onload = onload;\n};\n\n/**\n * Load a tag by `name`.\n *\n * @param {string} name The name of the tag.\n * @param {Object} locals Locals used to populate the tag's template variables\n * (e.g. `userId` in '<img src=\"https://whatever.com/{{ userId }}\">').\n * @param {Function} [callback=noop] A callback, invoked when the tag finishes\n * loading.\n */\n\nexports.load = function(name, locals, callback) {\n  // Argument shuffling\n  if (typeof name === 'function') { callback = name; locals = null; name = null; }\n  if (name && typeof name === 'object') { callback = locals; locals = name; name = null; }\n  if (typeof locals === 'function') { callback = locals; locals = null; }\n\n  // Default arguments\n  name = name || 'library';\n  locals = locals || {};\n\n  locals = this.locals(locals);\n  var template = this.templates[name];\n  if (!template) throw new Error(fmt('template \"%s\" not defined.', name));\n  var attrs = render(template, locals);\n  callback = callback || noop;\n  var self = this;\n  var el;\n\n  switch (template.type) {\n  case 'img':\n    attrs.width = 1;\n    attrs.height = 1;\n    el = loadImage(attrs, callback);\n    break;\n  case 'script':\n    el = loadScript(attrs, function(err) {\n      if (!err) return callback();\n      self.debug('error loading \"%s\" error=\"%s\"', self.name, err);\n    });\n      // TODO: hack until refactoring load-script\n    delete attrs.src;\n    each(function(val, key) {\n      el.setAttribute(key, val);\n    }, attrs);\n    break;\n  case 'iframe':\n    el = loadIframe(attrs, callback);\n    break;\n  default:\n      // No default case\n  }\n\n  return el;\n};\n\n/**\n * Locals for tag templates.\n *\n * By default it includes a cache buster and all of the options.\n *\n * @param {Object} [locals]\n * @return {Object}\n */\n\nexports.locals = function(locals) {\n  locals = locals || {};\n  var cache = Math.floor(new Date().getTime() / 3600000);\n  if (!locals.hasOwnProperty('cache')) locals.cache = cache;\n  each(function(val, key) {\n    if (!locals.hasOwnProperty(key)) locals[key] = val;\n  }, this.options);\n  return locals;\n};\n\n/**\n * Simple way to emit ready.\n *\n * @api public\n */\n\nexports.ready = function() {\n  this.emit('ready');\n};\n\n/**\n * Wrap the initialize method in an exists check, so we don't have to do it for\n * every single integration.\n *\n * @api private\n */\n\nexports._wrapInitialize = function() {\n  var initialize = this.initialize;\n  this.initialize = function() {\n    this.debug('initialize');\n    this._initialized = true;\n    var ret = initialize.apply(this, arguments);\n    this.emit('initialize');\n    return ret;\n  };\n};\n\n/**\n * Wrap the page method to call to noop the first page call if the integration assumes\n * a pageview.\n *\n * @api private\n */\n\nexports._wrapPage = function() {\n  var page = this.page;\n  var initialPageSkipped = false;\n  this.page = function() {\n    if (this._assumesPageview && !initialPageSkipped) {\n      initialPageSkipped = true;\n      return;\n    }\n    return page.apply(this, arguments);\n  };\n};\n\n/**\n * Wrap the track method to call other ecommerce methods if available depending\n * on the `track.event()`.\n *\n * @api private\n */\n\nexports._wrapTrack = function() {\n  var t = this.track;\n  this.track = function(track) {\n    var event = track.event();\n    var called;\n    var ret;\n\n    for (var method in events) {\n      if (has.call(events, method)) {\n        var regexp = events[method];\n        if (!this[method]) continue;\n        if (!regexp.test(event)) continue;\n        ret = this[method].apply(this, arguments);\n        called = true;\n        break;\n      }\n    }\n\n    if (!called) ret = t.apply(this, arguments);\n    return ret;\n  };\n};\n\n/**\n * Determine the type of the option passed to `#map`\n *\n * @api private\n * @param {Object|Object[]} mapping\n * @return {String} mappingType\n */\n\nfunction getMappingType(mapping) {\n  if (is.array(mapping)) {\n    return every(isMixed, mapping) ? 'mixed' : 'array';\n  }\n  if (is.object(mapping)) return 'map';\n  return 'unknown';\n}\n\n/**\n * Determine if item in mapping array is a valid \"mixed\" type value\n *\n * Must be an object with properties \"key\" (of type string)\n * and \"value\" (of any type)\n *\n * @api private\n * @param {*} item\n * @return {Boolean}\n */\n\nfunction isMixed(item) {\n  if (!is.object(item)) return false;\n  if (!is.string(item.key)) return false;\n  if (!has.call(item, 'value')) return false;\n  return true;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Object} attrs\n * @param {Function} fn\n * @return {Image}\n */\n\nfunction loadImage(attrs, fn) {\n  fn = fn || function() {};\n  var img = new Image();\n  img.onerror = error(fn, 'failed to load pixel', img);\n  img.onload = function() { fn(); };\n  img.src = attrs.src;\n  img.width = 1;\n  img.height = 1;\n  return img;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Function} fn\n * @param {string} message\n * @param {Element} img\n * @return {Function}\n */\n\nfunction error(fn, message, img) {\n  return function(e) {\n    e = e || window.event;\n    var err = new Error(message);\n    err.event = e;\n    err.source = img;\n    fn(err);\n  };\n}\n\n/**\n * Render template + locals into an `attrs` object.\n *\n * @api private\n * @param {Object} template\n * @param {Object} locals\n * @return {Object}\n */\n\nfunction render(template, locals) {\n  return foldl(function(attrs, val, key) {\n    attrs[key] = val.replace(/\\{\\{\\ *(\\w+)\\ *\\}\\}/g, function(_, $1) {\n      return locals[$1];\n    });\n    return attrs;\n  }, {}, template.attrs);\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar domify = require('domify');\nvar each = require('@ndhoule/each');\nvar includes = require('@ndhoule/includes');\n\n/**\n * Mix in emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Add a new option to the integration by `key` with default `value`.\n *\n * @api public\n * @param {string} key\n * @param {*} value\n * @return {Integration}\n */\n\nexports.option = function(key, value) {\n  this.prototype.defaults[key] = value;\n  return this;\n};\n\n/**\n * Add a new mapping option.\n *\n * This will create a method `name` that will return a mapping for you to use.\n *\n * @api public\n * @param {string} name\n * @return {Integration}\n * @example\n * Integration('My Integration')\n *   .mapping('events');\n *\n * new MyIntegration().track('My Event');\n *\n * .track = function(track){\n *   var events = this.events(track.event());\n *   each(send, events);\n *  };\n */\n\nexports.mapping = function(name) {\n  this.option(name, []);\n  this.prototype[name] = function(key) {\n    return this.map(this.options[name], key);\n  };\n  return this;\n};\n\n/**\n * Register a new global variable `key` owned by the integration, which will be\n * used to test whether the integration is already on the page.\n *\n * @api public\n * @param {string} key\n * @return {Integration}\n */\n\nexports.global = function(key) {\n  this.prototype.globals.push(key);\n  return this;\n};\n\n/**\n * Mark the integration as assuming an initial pageview, so to defer the first page call, keep track of\n * whether we already nooped the first page call.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.assumesPageview = function() {\n  this.prototype._assumesPageview = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `load` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnLoad = function() {\n  this.prototype._readyOnLoad = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `initialize` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnInitialize = function() {\n  this.prototype._readyOnInitialize = true;\n  return this;\n};\n\n/**\n * Define a tag to be loaded.\n *\n * @api public\n * @param {string} [name='library'] A nicename for the tag, commonly used in\n * #load. Helpful when the integration has multiple tags and you need a way to\n * specify which of the tags you want to load at a given time.\n * @param {String} str DOM tag as string or URL.\n * @return {Integration}\n */\n\nexports.tag = function(name, tag) {\n  if (tag == null) {\n    tag = name;\n    name = 'library';\n  }\n  this.prototype.templates[name] = objectify(tag);\n  return this;\n};\n\n/**\n * Given a string, give back DOM attributes.\n *\n * Do it in a way where the browser doesn't load images or iframes. It turns\n * out domify will load images/iframes because whenever you construct those\n * DOM elements, the browser immediately loads them.\n *\n * @api private\n * @param {string} str\n * @return {Object}\n */\n\nfunction objectify(str) {\n  // replace `src` with `data-src` to prevent image loading\n  str = str.replace(' src=\"', ' data-src=\"');\n\n  var el = domify(str);\n  var attrs = {};\n\n  each(function(attr) {\n    // then replace it back\n    var name = attr.name === 'data-src' ? 'src' : attr.name;\n    if (!includes(attr.name + '=', str)) return;\n    attrs[name] = attr.value;\n  }, el.attributes);\n\n  return {\n    type: el.tagName.toLowerCase(),\n    attrs: attrs\n  };\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bind = require('component-bind');\nvar debug = require('debug');\nvar defaults = require('@ndhoule/defaults');\nvar extend = require('extend');\nvar slug = require('slug-component');\nvar protos = require('./protos');\nvar statics = require('./statics');\n\n/**\n * Create a new `Integration` constructor.\n *\n * @constructs Integration\n * @param {string} name\n * @return {Function} Integration\n */\n\nfunction createIntegration(name) {\n  /**\n   * Initialize a new `Integration`.\n   *\n   * @class\n   * @param {Object} options\n   */\n\n  function Integration(options) {\n    if (options && options.addIntegration) {\n      // plugin\n      return options.addIntegration(Integration);\n    }\n    this.debug = debug('analytics:integration:' + slug(name));\n    var clonedOpts = {};\n    extend(true, clonedOpts, options); // deep clone options\n    this.options = defaults(clonedOpts || {}, this.defaults);\n    this._queue = [];\n    this.once('ready', bind(this, this.flush));\n\n    Integration.emit('construct', this);\n    this.ready = bind(this, this.ready);\n    this._wrapInitialize();\n    this._wrapPage();\n    this._wrapTrack();\n  }\n\n  Integration.prototype.defaults = {};\n  Integration.prototype.globals = [];\n  Integration.prototype.templates = {};\n  Integration.prototype.name = name;\n  extend(Integration, statics);\n  extend(Integration.prototype, protos);\n\n  return Integration;\n}\n\n/**\n * Exports.\n */\n\nmodule.exports = createIntegration;\n", "\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug');\n\n/**\n * Expose `generate`.\n */\n\nmodule.exports = generate;\n\n/**\n * Generate a global queue pushing method with `name`.\n *\n * @param {String} name\n * @param {Object} options\n *   @property {Boolean} wrap\n * @return {Function}\n */\n\nfunction generate (name, options) {\n  var log = debug('global-queue:' + name);\n  options = options || {};\n\n  return function (args) {\n    args = [].slice.call(arguments);\n    window[name] || (window[name] = []);\n    log('%o', args);\n    options.wrap === false\n      ? window[name].push.apply(window[name], args)\n      : window[name].push(args);\n  };\n}\n", "'use strict';\n\nvar ensureCallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nvar byObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tensureCallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// queueMicrotask\n\tif (typeof queueMicrotask === \"function\") {\n\t\treturn function (cb) { queueMicrotask(ensureCallable(cb)); };\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(ensureCallable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(ensureCallable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar keys = require('@ndhoule/keys');\nvar values = require('@ndhoule/values');\nvar foldl = require('@ndhoule/foldl');\nvar each = require('@ndhoule/each');\nvar integration = require('@segment/analytics.js-integration');\nvar push = require('global-queue')('optimizely', { wrap: false });\nvar tick = require('next-tick');\n\n/**\n * Expose `Optimizely` integration.\n */\n\nvar Optimizely = (module.exports = integration('Optimizely')\n  .option('trackCategorizedPages', true)\n  .option('trackNamedPages', true)\n  .option('variations', false) // send data via `.identify()`\n  .option('listen', true) // send data via `.track()`\n  .option('nonInteraction', false)\n  .option('sendRevenueOnlyForOrderCompleted', true)\n  .option('customExperimentProperties', {})\n  .option('customCampaignProperties', {}));\n\n/**\n * The name and version for this integration.\n */\n\nvar optimizelyContext = {\n  name: 'optimizely',\n  version: '2.0.0'\n};\n\n/**\n * Initialize.\n *\n * https://www.optimizely.com/docs/api#function-calls\n * https://jsfiddle.net/ushmw723/ <- includes optimizely snippets for capturing campaign and experiment data\n *\n * @api public\n */\n\nOptimizely.prototype.initialize = function() {\n  var self = this;\n  // Flag source of integration (requested by Optimizely)\n  push({\n    type: 'integration',\n    OAuthClientId: '5360906403'\n  });\n  // Initialize listeners for both Classic and New Optimizely\n  // crazying binding because that's just how javascript works\n  // We're caling this on the next tick to be safe so we don't hold up\n  // initializing the integration even though the function below is designed to be async,\n  // just want to be extra safe\n  tick(function() {\n    Optimizely.initOptimizelyIntegration({\n      referrerOverride: self.setEffectiveReferrer.bind(self),\n      sendExperimentData: self.sendClassicDataToSegment.bind(self),\n      sendCampaignData: self.sendNewDataToSegment.bind(self)\n    });\n  });\n\n  this.ready();\n};\n\n/**\n * Track. The Optimizely X Web event API accepts a single payload object.\n *        It works with Classic Optimizely as well.\n *\n * Optimizely X:  https://developers.optimizely.com/x/solutions/javascript/reference/index.html#function_setevent\n *\n * The new-style X API is forward compatible from Optimizely Classic to Optimizely X.\n *   - Classic will correctly consume the tags object to identify the revenue\n *   - In bundled mode, it will be forwarded along to the X API with the entire payload\n *\n * If the Optimizely X Fullstack JavaScript SDK is being used we should pass along\n * the event to it. Any properties in the track object will be passed along as event tags.\n * If the userId is not passed into the options object of the track call, we'll\n * attempt to use the userId of the track event, which is set using the analytics.identify call.\n *\n * https://developers.optimizely.com/x/solutions/sdks/reference/?language=javascript#tracking\n *\n * @api public\n * @param {Track} track\n */\n\nOptimizely.prototype.track = function(track) {\n  var opts = this.options;\n  var eventProperties = track.properties();\n\n  // Optimizely expects revenue only passed through Order Completed events\n  if (eventProperties.revenue && opts.sendRevenueOnlyForOrderCompleted) {\n    if (track.event() === 'Order Completed') {\n      eventProperties.revenue = Math.round(eventProperties.revenue * 100);\n    } else if (track.event() !== 'Order Completed') {\n      delete eventProperties.revenue;\n    }\n    // This is legacy Segment-Optimizely behavior,\n    // which passes revenue whenever it is present\n  } else if (\n    opts.sendRevenueOnlyForOrderCompleted === false &&\n    eventProperties.revenue\n  ) {\n    eventProperties.revenue = Math.round(eventProperties.revenue * 100);\n  }\n\n  // Use the new-style API (which is compatible with Classic and X)\n  var eventName = track.event().replace(/:/g, '_'); // can't have colons so replacing with underscores\n  var payload = {\n    type: 'event',\n    eventName: eventName,\n    tags: eventProperties\n  };\n\n  push(payload);\n\n  var optimizelyClientInstance = window.optimizelyClientInstance;\n  if (optimizelyClientInstance && optimizelyClientInstance.track) {\n    var optimizelyOptions = track.options('Optimizely');\n    var userId =\n      optimizelyOptions.userId || track.userId() || this.analytics.user().id();\n    var attributes =\n      optimizelyOptions.attributes ||\n      track.traits() ||\n      this.analytics.user().traits();\n    if (userId) {\n      optimizelyClientInstance.track(\n        eventName,\n        userId,\n        attributes,\n        payload.tags\n      );\n    }\n  }\n};\n\n/**\n * Page.\n *\n * https://www.optimizely.com/docs/api#track-event\n *\n * @api public\n * @param {Page} page\n */\n\nOptimizely.prototype.page = function(page) {\n  var category = page.category();\n  var name = page.fullName();\n  var opts = this.options;\n\n  // categorized pages\n  if (category && opts.trackCategorizedPages) {\n    this.track(page.track(category));\n  }\n\n  // named pages\n  if (name && opts.trackNamedPages) {\n    this.track(page.track(name));\n  }\n};\n\n/**\n * sendClassicDataToSegment (Optimizely Classic)\n *\n * This function is executed for each experiment created in Classic Optimizely that is running on the page.\n * This function will also be executed for any experiments activated at a later stage since initOptimizelyIntegration\n * attached listeners on the page\n *\n * @api private\n * @param {Object} experimentState: contains all information regarding experiments\n * @param {Object} experimentState.experiment: the experiment running on the page\n * @param {String} experimentState.experiment.name: name of the experiment\n * @param {String} experimentState.experiment.id: ID of the experiment\n * @param {String} experimentState.experiment.referrer: available if effective referrer if experiment is a redirect\n * @param {Array} experimentState.variations: the variations the current user on page is seeing\n * @param {String} experimentState.variations[].name: the name of the variation\n * @param {String} experimentState.variations[].id: the ID of the variation\n * @param {Object} experimentState.sections: the sections for the experiment (only defined for multivariate experiments) keyed by sectionId\n * @param {String} experimentState.sections[sectionId].name: the name of section\n * @param {Array} experimentState.sections[sectionId].variation_ids: the IDs of the variations in the section\n *\n */\n\nOptimizely.prototype.sendClassicDataToSegment = function(experimentState) {\n  var experiment = experimentState.experiment;\n  var variations = experimentState.variations;\n  var sections = experimentState.sections;\n  var context = { integration: optimizelyContext }; // backward compatibility\n\n  // Reformatting this data structure into hash map so concatenating variation ids and names is easier later\n  var variationsMap = foldl(\n    function(results, variation) {\n      var res = results;\n      res[variation.id] = variation.name;\n      return res;\n    },\n    {},\n    variations\n  );\n\n  // Sorting for consistency across browsers\n  var variationIds = keys(variationsMap).sort();\n  var variationNames = values(variationsMap).sort();\n\n  // Send data via `.track()`\n  if (this.options.listen) {\n    var props = {\n      experimentId: experiment.id,\n      experimentName: experiment.name,\n      variationId: variationIds.join(), // eg. '123' or '123,455'\n      variationName: variationNames.join(', ') // eg. 'Variation X' or 'Variation 1, Variation 2'\n    };\n\n    // If this was a redirect experiment and the effective referrer is different from document.referrer,\n    // this value is made available. So if a customer came in via google.com/ad -> tb12.com -> redirect experiment -> Belichickgoat.com\n    // `experiment.referrer` would be google.com/ad here NOT `tb12.com`.\n    if (experiment.referrer) {\n      props.referrer = experiment.referrer;\n      context.page = { referrer: experiment.referrer };\n    }\n\n    // When there is a multivariate experiment\n    if (sections) {\n      // Since `sections` include all the possible sections on the page, we need to find the names of the sections\n      // if any of its variations were used. Experiments could display variations from multiple sections.\n      // The global optimizely data object does not expose a mapping between which section(s) were involved within an experiment.\n      // So we will build our own mapping to quickly get the section name(s) and id(s) for any displayed variation.\n      var activeSections = {};\n      var variationIdsToSectionsMap = foldl(\n        function(results, section, sectionId) {\n          var res = results;\n          each(function(variationId) {\n            res[variationId] = { id: sectionId, name: section.name };\n          }, section.variation_ids);\n          return res;\n        },\n        {},\n        sections\n      );\n      for (var j = 0; j < variationIds.length; j++) {\n        var activeVariation = variationIds[j];\n        var activeSection = variationIdsToSectionsMap[activeVariation];\n        if (activeSection)\n          activeSections[activeSection.id] = activeSection.name;\n      }\n\n      // Sorting for consistency across browsers\n      props.sectionId = keys(activeSections)\n        .sort()\n        .join(); // Not adding space for backward compat/consistency reasons since all IDs we've never had spaces\n      props.sectionName = values(activeSections)\n        .sort()\n        .join(', ');\n    }\n\n    // For Google's nonInteraction flag\n    if (this.options.nonInteraction) props.nonInteraction = 1;\n\n    // If customExperimentProperties is provided overide the props with it.\n    // If valid customExperimentProperties present it will override existing props.\n    var customExperimentProperties = this.options.customExperimentProperties;\n    var customPropsKeys = Object.keys(customExperimentProperties);\n    var data = window.optimizely && window.optimizely.data;\n\n    if (data && customPropsKeys.length) {\n      for (var index = 0; index < customPropsKeys.length; index++) {\n        var segmentProp = customPropsKeys[index];\n        var optimizelyProp = customExperimentProperties[segmentProp];\n        if (typeof data[optimizelyProp] !== 'undefined') {\n          props[segmentProp] = data[optimizelyProp];\n        }\n      }\n    }\n\n    // Send to Segment\n    this.analytics.track('Experiment Viewed', props, context);\n  }\n\n  // Send data via `.identify()` (not recommended!)\n  // TODO: deprecate this feature\n  if (this.options.variations) {\n    // Note: The only \"breaking\" behavior is that now there will be an `.identify()` call per active experiment\n    // Legacy behavior was that we would look up all active experiments on the page after init and send one `.identify()` call\n    // with all experiment/variation data as traits.\n    // New behavior will call `.identify()` per active experiment with isolated experiment/variation data for that single experiment\n    // However, since traits are cached, subsequent experiments that trigger `.identify()` calls will likely contain previous experiment data\n    var traits = {};\n    traits['Experiment: ' + experiment.name] = variationNames.join(', '); // eg. 'Variation X' or 'Variation 1, Variation 2'\n\n    // Send to Segment\n    this.analytics.identify(traits);\n  }\n};\n\n/**\n * sendNewDataToSegment (Optimizely X)\n *\n * This function is called for each experiment created in New Optimizely that are running on the page.\n * New Optimizely added a dimension called \"Campaigns\" that encapsulate over the Experiments. So a campaign can have multiple experiments.\n * Multivariate experiments are no longer supported in New Optimizely.\n * This function will also be executed for any experiments activated at a later stage since initOptimizelyIntegration\n * attached listeners on the page\n *\n * @api private\n * @param {Object} campaignState: contains all information regarding experiments and campaign\n * @param {String} campaignState.id: the ID of the campaign\n * @param {String} campaignState.campaignName: the name of the campaign\n * @param {Array} campaignState.audiences: \"Audiences\" the visitor is considered part of related to this campaign\n * @param {String} campaignState.audiences[].id: the id of the Audience\n * @param {String} campaignState.audiences[].name: the name of the Audience\n * @param {Object} campaignState.experiment: the experiment the visitor is seeing\n * @param {String} campaignState.experiment.id: the id of the experiment\n * @param {String} campaignState.experiment.name: the name of the experiment\n * @param {String} campaignState.experiment.referrer: the effective referrer of the experiment (only defined for redirect)\n * @param {Object} campaignState.variation: the variation the visitor is seeing\n * @param {String} campaignState.variation.id: the id of the variation\n * @param {String} campaignState.variation.name: the name of the variation\n * @param {String} campaignState.isInCampaignHoldback: whether the visitor is in the Campaign holdback\n */\n\nOptimizely.prototype.sendNewDataToSegment = function(campaignState) {\n  var experiment = campaignState.experiment;\n  var variation = campaignState.variation;\n  var context = { integration: optimizelyContext }; // backward compatibility\n\n  // Reformatting this data structure into hash map so concatenating variation ids and names is easier later\n  var audiencesMap = foldl(\n    function(results, audience) {\n      var res = results;\n      res[audience.id] = audience.name;\n      return res;\n    },\n    {},\n    campaignState.audiences\n  );\n\n  // Sorting for consistency across browsers\n  var audienceIds = keys(audiencesMap)\n    .sort()\n    .join(); // Not adding space for backward compat/consistency reasons since all IDs we've never had spaces\n  var audienceNames = values(audiencesMap)\n    .sort()\n    .join(', ');\n\n  // Send data via `.track()`\n  if (this.options.listen) {\n    var props = {\n      campaignName: campaignState.campaignName,\n      campaignId: campaignState.id,\n      experimentId: experiment.id,\n      experimentName: experiment.name,\n      variationName: variation.name,\n      variationId: variation.id,\n      audienceId: audienceIds, // eg. '7527562222,7527111138'\n      audienceName: audienceNames, // eg. 'Peaky Blinders, Trust Tree'\n      isInCampaignHoldback: campaignState.isInCampaignHoldback\n    };\n\n    // If this was a redirect experiment and the effective referrer is different from document.referrer,\n    // this value is made available. So if a customer came in via google.com/ad -> tb12.com -> redirect experiment -> Belichickgoat.com\n    // `experiment.referrer` would be google.com/ad here NOT `tb12.com`.\n    if (experiment.referrer) {\n      props.referrer = experiment.referrer;\n      context.page = { referrer: experiment.referrer };\n    }\n\n    // For Google's nonInteraction flag\n    if (this.options.nonInteraction) props.nonInteraction = 1;\n\n    // If customCampaignProperties is provided overide the props with it.\n    // If valid customCampaignProperties present it will override existing props.\n    var customCampaignProperties = this.options.customCampaignProperties;\n    var customPropsKeys = Object.keys(customCampaignProperties);\n    var data = window.optimizely && window.optimizely.newMockData;\n    if (data && customPropsKeys.length) {\n      for (var index = 0; index < customPropsKeys.length; index++) {\n        var segmentProp = customPropsKeys[index];\n        var optimizelyProp = customCampaignProperties[segmentProp];\n        if (typeof data[optimizelyProp] !== 'undefined') {\n          props[segmentProp] = data[optimizelyProp];\n        }\n      }\n    }\n\n    // Send to Segment\n    this.analytics.track('Experiment Viewed', props, context);\n  }\n\n  // Send data via `.identify()` (not recommended!)\n  // TODO: deprecate this feature\n  if (this.options.variations) {\n    // Legacy: We never sent any experiment Id or variation Id\n    // Note: The only \"breaking\" behavior is that now there will be an `.identify()` per active experiment\n    // Legacy behavior was that we would look up all active experiments on the page after init and send one `.identify()` call\n    // with all experiment/variation data as traits.\n    // New behavior will call `.identify()` per active experiment with isolated experiment/variation data for that single experiment\n    var traits = {};\n    traits['Experiment: ' + experiment.name] = variation.name;\n\n    // Send to Segment\n    this.analytics.identify(traits);\n  }\n};\n\n/**\n * setEffectiveReferrer\n *\n * This function is called when a redirect experiment changed the effective referrer value where it is different from the `document.referrer`.\n * This is a documented caveat for any mutual customers that are using redirect experiments.\n * We will set this global variable that Segment customers can lookup and pass down in their initial `.page()` call inside\n * their Segment snippet.\n *\n * @apr private\n * @param {string} referrer\n */\n\nOptimizely.prototype.setEffectiveReferrer = function(referrer) {\n  if (referrer) {\n    window.optimizelyEffectiveReferrer = referrer;\n    return referrer;\n  }\n};\n\n/**\n * initOptimizelyIntegration(handlers)\n *\n * This function was provided by Optimizely's Engineering team. The function below once initialized can detect which version of\n * Optimizely a customer is using and call the appropriate callback functions when an experiment runs on the page.\n * Instead of Segment looking up the experiment data, we can now just bind Segment APIs to their experiment listener/handlers!\n *\n * @api private\n * @param {Object} handlers\n * @param {Function} referrerOverride: called if the effective refferer value differs from the current `document.referrer` due to a\n * invocation of a redirect experiment on the page\n * @param {Function} sendExperimentData: called for every running experiment on the page (Classic)\n * @param {Function} sendCampaignData: called for every running campaign on the page (New)\n */\n\nOptimizely.initOptimizelyIntegration = function(handlers) {\n  /**\n   * `initClassicOptimizelyIntegration` fetches all the experiment data from the classic Optimizely client\n   * and calls the functions provided in the arguments with the data that needs to\n   * be used for sending information. It is recommended to leave this function as is\n   * and to create your own implementation of the functions referrerOverride and\n   * sendExperimentData.\n   *\n   * @param {Function} referrerOverride - This function is called if the effective referrer value differs from\n   *   the current document.referrer value. The only argument provided is the effective referrer value.\n   * @param {Function} sendExperimentData - This function is called for every running experiment on the page.\n   *   The function is called with all the relevant ids and names.\n   */\n  var initClassicOptimizelyIntegration = function(\n    referrerOverride,\n    sendExperimentData\n  ) {\n    var data = window.optimizely && window.optimizely.data;\n    var state = data && data.state;\n    if (state) {\n      var activeExperiments = state.activeExperiments;\n      if (state.redirectExperiment) {\n        var redirectExperimentId = state.redirectExperiment.experimentId;\n        var index = -1;\n        for (var i = 0; i < state.activeExperiments.length; i++) {\n          if (state.activeExperiments[i] === redirectExperimentId) {\n            index = i;\n            break;\n          }\n        }\n        if (index === -1) {\n          activeExperiments.push(redirectExperimentId);\n        }\n        referrerOverride(state.redirectExperiment.referrer);\n      }\n\n      for (var k = 0; k < activeExperiments.length; k++) {\n        var currentExperimentId = activeExperiments[k];\n        var activeExperimentState = {\n          experiment: {\n            id: currentExperimentId,\n            name: data.experiments[currentExperimentId].name\n          },\n          variations: [],\n          /** Segment added code */\n          // we need to send sectionName for multivariate experiments\n          sections: data.sections\n          /**/\n        };\n\n        /** Segment added code */\n        // for backward compatability since we send referrer with the experiment properties\n        if (\n          state.redirectExperiment &&\n          currentExperimentId === state.redirectExperiment.experimentId &&\n          state.redirectExperiment.referrer\n        ) {\n          activeExperimentState.experiment.referrer =\n            state.redirectExperiment.referrer;\n        }\n        /**/\n\n        var variationIds =\n          state.variationIdsMap[activeExperimentState.experiment.id];\n        for (var j = 0; j < variationIds.length; j++) {\n          var id = variationIds[j];\n          var name = data.variations[id].name;\n          activeExperimentState.variations.push({\n            id: id,\n            name: name\n          });\n        }\n        sendExperimentData(activeExperimentState);\n      }\n    }\n  };\n\n  /**\n   * This function fetches all the campaign data from the new Optimizely client\n   * and calls the functions provided in the arguments with the data that needs to\n   * be used for sending information. It is recommended to leave this function as is\n   * and to create your own implementation of the functions referrerOverride and\n   * sendCampaignData.\n   *\n   * @param {Function} referrerOverride - This function is called if the effective referrer value differs from\n   *   the current document.referrer value. The only argument provided is the effective referrer value.\n   * @param {Function} sendCampaignData - This function is called for every running campaign on the page.\n   *   The function is called with the campaignState for the activated campaign\n   */\n  var initNewOptimizelyIntegration = function(\n    referrerOverride,\n    sendCampaignData\n  ) {\n    var newActiveCampaign = function(id, referrer) {\n      var state = window.optimizely.get && window.optimizely.get('state');\n      if (state) {\n        var activeCampaigns = state.getCampaignStates({\n          isActive: true\n        });\n        var campaignState = activeCampaigns[id];\n        // Segment added code: in case this is a redirect experiment\n        if (referrer) campaignState.experiment.referrer = referrer;\n        sendCampaignData(campaignState);\n      }\n    };\n\n    var checkReferrer = function() {\n      var state = window.optimizely.get && window.optimizely.get('state');\n      if (state) {\n        var referrer =\n          state.getRedirectInfo() && state.getRedirectInfo().referrer;\n\n        if (referrer) {\n          referrerOverride(referrer);\n          return referrer; // Segment added code: so I can pass this referrer value in cb\n        }\n      }\n    };\n\n    /**\n     * At any moment, a new campaign can be activated (manual or conditional activation).\n     * This function registers a listener that listens to newly activated campaigns and\n     * handles them.\n     */\n    var registerFutureActiveCampaigns = function() {\n      window.optimizely = window.optimizely || [];\n      window.optimizely.push({\n        type: 'addListener',\n        filter: {\n          type: 'lifecycle',\n          name: 'campaignDecided'\n        },\n        handler: function(event) {\n          var id = event.data.campaign.id;\n          newActiveCampaign(id);\n        }\n      });\n    };\n\n    /**\n     * If this code is running after Optimizely on the page, there might already be\n     * some campaigns active. This function makes sure all those campaigns are\n     * handled.\n     */\n    var registerCurrentlyActiveCampaigns = function() {\n      window.optimizely = window.optimizely || [];\n      var state = window.optimizely.get && window.optimizely.get('state');\n      if (state) {\n        var referrer = checkReferrer();\n        var activeCampaigns = state.getCampaignStates({\n          isActive: true\n        });\n        for (var id in activeCampaigns) {\n          if ({}.hasOwnProperty.call(activeCampaigns, id)) {\n            // Segment modified code: need to pass down referrer in the cb for backward compat reasons\n            if (referrer) {\n              newActiveCampaign(id, referrer);\n            } else {\n              newActiveCampaign(id);\n            }\n          }\n        }\n      } else {\n        window.optimizely.push({\n          type: 'addListener',\n          filter: {\n            type: 'lifecycle',\n            name: 'initialized'\n          },\n          handler: function() {\n            checkReferrer();\n          }\n        });\n      }\n    };\n    registerCurrentlyActiveCampaigns();\n    registerFutureActiveCampaigns();\n  };\n\n  initClassicOptimizelyIntegration(\n    handlers.referrerOverride,\n    handlers.sendExperimentData\n  );\n  initNewOptimizelyIntegration(\n    handlers.referrerOverride,\n    handlers.sendCampaignData\n  );\n};\n", "'use strict';\n\n/**\n * Module Dependencies\n */\n\nvar map = require('@ndhoule/map');\nvar foldl = require('@ndhoule/foldl');\n\nvar eventMap = {\n  // Videos\n  videoPlaybackStarted: [{\n    object: 'video playback',\n    action: 'started'\n  }],\n  videoPlaybackPaused: [{\n    object: 'video playback',\n    action: 'paused'\n  }],\n  videoPlaybackInterrupted: [{\n    object: 'video playback',\n    action: 'interrupted'\n  }],\n  videoPlaybackResumed: [{\n    object: 'video playback',\n    action: 'resumed'\n  }],\n  videoPlaybackCompleted: [{\n    object: 'video playback',\n    action: 'completed'\n  }],\n  videoPlaybackExited: [{\n    object: 'video playback',\n    action: 'exited'\n  }],\n  videoPlaybackBufferStarted: [{\n    object: 'video playback buffer',\n    action: 'started'\n  }],\n  videoPlaybackBufferCompleted: [{\n    object: 'video playback buffer',\n    action: 'completed'\n  }],\n  videoPlaybackSeekStarted: [{\n    object: 'video playback seek',\n    action: 'started'\n  }],\n  videoPlaybackSeekCompleted: [{\n    object: 'video playback seek',\n    action: 'completed'\n  }],\n  videoContentStarted: [{\n    object: 'video content',\n    action: 'started'\n  }],\n  videoContentPlaying: [{\n    object: 'video content',\n    action: 'playing'\n  }],\n  videoContentCompleted: [{\n    object: 'video content',\n    action: 'completed'\n  }],\n  videoAdStarted: [{\n    object: 'video ad',\n    action: 'started'\n  }],\n  videoAdPlaying: [{\n    object: 'video ad',\n    action: 'playing'\n  }],\n  videoAdCompleted: [{\n    object: 'video ad',\n    action: 'completed'\n  }],\n  videoAdClicked: [{\n    object: 'video ad',\n    action: 'clicked'\n  }],\n  videoAdSkipped: [{\n    object: 'video ad',\n    action: 'skipped'\n  }],\n\n  // Promotions\n  promotionViewed: [{\n    object: 'promotion',\n    action: 'viewed'\n  }],\n  promotionClicked: [{\n    object: 'promotion',\n    action: 'clicked'\n  }],\n\n  // Browsing\n  productsSearched: [{\n    object: 'products',\n    action: 'searched'\n  }],\n  productListViewed: [{\n    object: 'product list',\n    action: 'viewed'\n  }, {\n    object: 'product category',\n    action: 'viewed'\n  }],\n  productListFiltered: [{\n    object: 'product list',\n    action: 'filtered'\n  }],\n\n  // Core Ordering\n  productClicked: [{\n    object: 'product',\n    action: 'clicked'\n  }],\n  productViewed: [{\n    object: 'product',\n    action: 'viewed'\n  }],\n  productAdded: [{\n    object: 'product',\n    action: 'added'\n  }],\n  productRemoved: [{\n    object: 'product',\n    action: 'removed'\n  }],\n  cartViewed: [{\n    object: 'cart',\n    action: 'viewed'\n  }],\n  orderUpdated: [{\n    object: 'order',\n    action: 'updated'\n  }],\n  orderCompleted: [{\n    object: 'order',\n    action: 'completed'\n  }],\n  orderRefunded: [{\n    object: 'order',\n    action: 'refunded'\n  }],\n  orderCancelled: [{\n    object: 'order',\n    action: 'cancelled'\n  }],\n  paymentInfoEntered: [{\n    object: 'payment info',\n    action: 'entered'\n  }],\n  checkoutStarted: [{\n    object: 'checkout',\n    action: 'started'\n  }],\n  checkoutStepViewed: [{\n    object: 'checkout step',\n    action: 'viewed'\n  }],\n  checkoutStepCompleted: [{\n    object: 'checkout step',\n    action: 'completed'\n  }],\n\n  // Coupons\n  couponEntered: [{\n    object: 'coupon',\n    action: 'entered'\n  }],\n  couponApplied: [{\n    object: 'coupon',\n    action: 'applied'\n  }],\n  couponDenied: [{\n    object: 'coupon',\n    action: 'denied'\n  }],\n  couponRemoved: [{\n    object: 'coupon',\n    action: 'removed'\n  }],\n\n  // Wishlisting\n  productAddedToWishlist: [{\n    object: 'product',\n    action: 'added to wishlist'\n  }],\n  productRemovedFromWishlist: [{\n    object: 'product',\n    action: 'removed from wishlist'\n  }],\n  productAddedFromWishlistToCart: [{\n    object: 'product',\n    action: 'added to cart from wishlist'\n  }, {\n    object: 'product',\n    action: 'added from wishlist to cart'\n  }],\n  wishlistProductAddedToCart: [{\n    object: 'wishlist product',\n    action: 'added to cart'\n  }],\n\n  // Sharing\n  productShared: [{\n    object: 'product',\n    action: 'shared'\n  }],\n  cartShared: [{\n    object: 'cart',\n    action: 'shared'\n  }],\n\n  // Reviewing\n  productReviewed: [{\n    object: 'product',\n    action: 'reviewed'\n  }],\n\n  // App Lifecycle\n  applicationInstalled: [{\n    object: 'application',\n    action: 'installed'\n  }],\n  applicationUpdated: [{\n    object: 'application',\n    action: 'updated'\n  }],\n  applicationOpened: [{\n    object: 'application',\n    action: 'opened'\n  }],\n  applicationBackgrounded: [{\n    object: 'application',\n    action: 'backgrounded'\n  }],\n  applicationUninstalled: [{\n    object: 'application',\n    action: 'uninstalled'\n  }],\n  applicationCrashed: [{\n    object: 'application',\n    action: 'crashed'\n  }],\n\n  // App Campaign and Referral Events\n  installAttributed: [{\n    object: 'install',\n    action: 'attributed'\n  }],\n  deepLinkOpened: [{\n    object: 'deep link',\n    action: 'opened'\n  }],\n  deepLinkClicked: [{\n    object: 'deep link',\n    action: 'clicked'\n  }],\n  pushNotificationReceived: [{\n    object: 'push notification',\n    action: 'received'\n  }],\n  pushNotificationTapped: [{\n    object: 'push notification',\n    action: 'tapped'\n  }],\n  pushNotificationBounced: [{\n    object: 'push notification',\n    action: 'bounced'\n  }],\n\n  // Email\n  emailBounced: [{\n    object: 'email',\n    action: 'bounced'\n  }],\n  emailDelivered: [{\n    object: 'email',\n    action: 'delivered'\n  }],\n  emailLinkClicked: [{\n    object: 'email link',\n    action: 'clicked'\n  }],\n  emailMarkedAsSpam: [{\n    object: 'email',\n    action: 'marked as spam'\n  }],\n  emailOpened: [{\n    object: 'email',\n    action: 'opened'\n  }],\n  unsubscribed: [{\n    object: '',\n    action: 'unsubscribed'\n  }],\n\n  // Live Chat\n  liveChatConversationEnded: [{\n    object: 'live chat conversation',\n    action: 'ended'\n  }],\n  liveChatConversationStarted: [{\n    object: 'live chat conversation',\n    action: 'started'\n  }],\n  liveChatMessageReceived: [{\n    object: 'live chat message',\n    action: 'received'\n  }],\n  liveChatMessageSent: [{\n    object: 'live chat message',\n    action: 'sent'\n  }]\n};\n\n/**\n * Export the event map\n *\n * For each method\n *   - For each of its object:action alias pairs\n *     - For each permutation of that pair\n *       - Create a regex string\n *   - Join them and assign it to its respective method value\n *\n *  [{\n *    object: 'product list',\n *    action: 'viewed'\n *  },{\n *    object: 'product category',\n *    action: 'viewed'\n *  }] => /\n *    ^[ _]?product[ _]?list[ _]?viewed[ _]?\n *   |^[ _]?viewed[ _]?product[ _]?list[ _]?\n *   |^[ _]?product[ _]?category[ _]?viewed[ _]?\n *   |^[ _]?viewed[ _]?product[ _]?category[ _]?\n *   $/i\n *\n *  todo(cs/wj/nh): memoization strategy / build step?\n */\n\nmodule.exports = foldl(function transform(ret, pairs, method) {\n  var values = map(function(pair) {\n    return map(function(permutation) {\n      var flattened = [].concat.apply([], map(function(words) {\n        return words.split(' ');\n      }, permutation));\n      return '^[ _]?' + flattened.join('[ _]?') + '[ _]?';\n    }, [\n      [pair.action, pair.object],\n      [pair.object, pair.action]\n    ]).join('|');\n  }, pairs);\n  var conjoined = values.join('|') + '$';\n  ret[method] = new RegExp(conjoined, 'i');\n  return ret;\n}, {}, eventMap);\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar each = require('@ndhoule/each');\nvar events = require('analytics-events');\nvar every = require('@ndhoule/every');\nvar fmt = require('@segment/fmt');\nvar foldl = require('@ndhoule/foldl');\nvar is = require('is');\nvar loadIframe = require('load-iframe');\nvar loadScript = require('@segment/load-script');\nvar nextTick = require('next-tick');\nvar normalize = require('to-no-case');\n\n/**\n * hasOwnProperty reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * No operation.\n */\n\nvar noop = function noop() {};\n\n/**\n * Window defaults.\n */\n\nvar onerror = window.onerror;\nvar onload = null;\n\n/**\n * Mixin emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Initialize.\n */\n\nexports.initialize = function() {\n  var ready = this.ready;\n  nextTick(ready);\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\n\nexports.loaded = function() {\n  return false;\n};\n\n/**\n * Page.\n *\n * @api public\n * @param {Page} page\n */\n\n/* eslint-disable no-unused-vars */\nexports.page = function(page) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Track.\n *\n * @api public\n * @param {Track} track\n */\n\n/* eslint-disable no-unused-vars */\nexports.track = function(track) {};\n/* eslint-enable no-unused-vars */\n\n/**\n * Get values from items in `options` that are mapped to `key`.\n * `options` is an integration setting which is a collection\n * of type 'map', 'array', or 'mixed'\n *\n * Use cases include mapping events to pixelIds (map), sending generic\n * conversion pixels only for specific events (array), or configuring dynamic\n * mappings of event properties to query string parameters based on event (mixed)\n *\n * @api public\n * @param {Object|Object[]|String[]} options An object, array of objects, or\n * array of strings pulled from settings.mapping.\n * @param {string} key The name of the item in options whose metadata\n * we're looking for.\n * @return {Array} An array of settings that match the input `key` name.\n * @example\n *\n * // 'Map'\n * var events = { my_event: 'a4991b88' };\n * .map(events, 'My Event');\n * // => [\"a4991b88\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Array'\n * * var events = ['Completed Order', 'My Event'];\n * .map(events, 'My Event');\n * // => [\"My Event\"]\n * .map(events, 'whatever');\n * // => []\n *\n * // 'Mixed'\n * var events = [{ key: 'my event', value: '9b5eb1fa' }];\n * .map(events, 'my_event');\n * // => [\"9b5eb1fa\"]\n * .map(events, 'whatever');\n * // => []\n */\n\nexports.map = function(options, key) {\n  var normalizedComparator = normalize(key);\n  var mappingType = getMappingType(options);\n\n  if (mappingType === 'unknown') {\n    return [];\n  }\n\n  return foldl(function(matchingValues, val, key) {\n    var compare;\n    var result;\n\n    if (mappingType === 'map') {\n      compare = key;\n      result = val;\n    }\n\n    if (mappingType === 'array') {\n      compare = val;\n      result = val;\n    }\n\n    if (mappingType === 'mixed') {\n      compare = val.key;\n      result = val.value;\n    }\n\n    if (normalize(compare) === normalizedComparator) {\n      matchingValues.push(result);\n    }\n\n    return matchingValues;\n  }, [], options);\n};\n\n/**\n * Invoke a `method` that may or may not exist on the prototype with `args`,\n * queueing or not depending on whether the integration is \"ready\". Don't\n * trust the method call, since it contains integration party code.\n *\n * @api private\n * @param {string} method\n * @param {...*} args\n */\n\nexports.invoke = function(method) {\n  if (!this[method]) return;\n  var args = Array.prototype.slice.call(arguments, 1);\n  if (!this._ready) return this.queue(method, args);\n\n  this.debug('%s with %o', method, args);\n  return this[method].apply(this, args);\n};\n\n/**\n * Queue a `method` with `args`.\n *\n * @api private\n * @param {string} method\n * @param {Array} args\n */\n\nexports.queue = function(method, args) {\n  this._queue.push({ method: method, args: args });\n};\n\n/**\n * Flush the internal queue.\n *\n * @api private\n */\n\nexports.flush = function() {\n  this._ready = true;\n  var self = this;\n\n  each(function(call) {\n    self[call.method].apply(self, call.args);\n  }, this._queue);\n\n  // Empty the queue.\n  this._queue.length = 0;\n};\n\n/**\n * Reset the integration, removing its global variables.\n *\n * @api private\n */\n\nexports.reset = function() {\n  for (var i = 0; i < this.globals.length; i++) {\n    window[this.globals[i]] = undefined;\n  }\n\n  window.onerror = onerror;\n  window.onload = onload;\n};\n\n/**\n * Load a tag by `name`.\n *\n * @param {string} name The name of the tag.\n * @param {Object} locals Locals used to populate the tag's template variables\n * (e.g. `userId` in '<img src=\"https://whatever.com/{{ userId }}\">').\n * @param {Function} [callback=noop] A callback, invoked when the tag finishes\n * loading.\n */\n\nexports.load = function(name, locals, callback) {\n  // Argument shuffling\n  if (typeof name === 'function') { callback = name; locals = null; name = null; }\n  if (name && typeof name === 'object') { callback = locals; locals = name; name = null; }\n  if (typeof locals === 'function') { callback = locals; locals = null; }\n\n  // Default arguments\n  name = name || 'library';\n  locals = locals || {};\n\n  locals = this.locals(locals);\n  var template = this.templates[name];\n  if (!template) throw new Error(fmt('template \"%s\" not defined.', name));\n  var attrs = render(template, locals);\n  callback = callback || noop;\n  var self = this;\n  var el;\n\n  switch (template.type) {\n  case 'img':\n    attrs.width = 1;\n    attrs.height = 1;\n    el = loadImage(attrs, callback);\n    break;\n  case 'script':\n    el = loadScript(attrs, function(err) {\n      if (!err) return callback();\n      self.debug('error loading \"%s\" error=\"%s\"', self.name, err);\n    });\n      // TODO: hack until refactoring load-script\n    delete attrs.src;\n    each(function(val, key) {\n      el.setAttribute(key, val);\n    }, attrs);\n    break;\n  case 'iframe':\n    el = loadIframe(attrs, callback);\n    break;\n  default:\n      // No default case\n  }\n\n  return el;\n};\n\n/**\n * Locals for tag templates.\n *\n * By default it includes a cache buster and all of the options.\n *\n * @param {Object} [locals]\n * @return {Object}\n */\n\nexports.locals = function(locals) {\n  locals = locals || {};\n  var cache = Math.floor(new Date().getTime() / 3600000);\n  if (!locals.hasOwnProperty('cache')) locals.cache = cache;\n  each(function(val, key) {\n    if (!locals.hasOwnProperty(key)) locals[key] = val;\n  }, this.options);\n  return locals;\n};\n\n/**\n * Simple way to emit ready.\n *\n * @api public\n */\n\nexports.ready = function() {\n  this.emit('ready');\n};\n\n/**\n * Wrap the initialize method in an exists check, so we don't have to do it for\n * every single integration.\n *\n * @api private\n */\n\nexports._wrapInitialize = function() {\n  var initialize = this.initialize;\n  this.initialize = function() {\n    this.debug('initialize');\n    this._initialized = true;\n    var ret = initialize.apply(this, arguments);\n    this.emit('initialize');\n    return ret;\n  };\n};\n\n/**\n * Wrap the page method to call to noop the first page call if the integration assumes\n * a pageview.\n *\n * @api private\n */\n\nexports._wrapPage = function() {\n  var page = this.page;\n  var initialPageSkipped = false;\n  this.page = function() {\n    if (this._assumesPageview && !initialPageSkipped) {\n      initialPageSkipped = true;\n      return;\n    }\n    return page.apply(this, arguments);\n  };\n};\n\n/**\n * Wrap the track method to call other ecommerce methods if available depending\n * on the `track.event()`.\n *\n * @api private\n */\n\nexports._wrapTrack = function() {\n  var t = this.track;\n  this.track = function(track) {\n    var event = track.event();\n    var called;\n    var ret;\n\n    for (var method in events) {\n      if (has.call(events, method)) {\n        var regexp = events[method];\n        if (!this[method]) continue;\n        if (!regexp.test(event)) continue;\n        ret = this[method].apply(this, arguments);\n        called = true;\n        break;\n      }\n    }\n\n    if (!called) ret = t.apply(this, arguments);\n    return ret;\n  };\n};\n\n/**\n * Determine the type of the option passed to `#map`\n *\n * @api private\n * @param {Object|Object[]} mapping\n * @return {String} mappingType\n */\n\nfunction getMappingType(mapping) {\n  if (is.array(mapping)) {\n    return every(isMixed, mapping) ? 'mixed' : 'array';\n  }\n  if (is.object(mapping)) return 'map';\n  return 'unknown';\n}\n\n/**\n * Determine if item in mapping array is a valid \"mixed\" type value\n *\n * Must be an object with properties \"key\" (of type string)\n * and \"value\" (of any type)\n *\n * @api private\n * @param {*} item\n * @return {Boolean}\n */\n\nfunction isMixed(item) {\n  if (!is.object(item)) return false;\n  if (!is.string(item.key)) return false;\n  if (!has.call(item, 'value')) return false;\n  return true;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Object} attrs\n * @param {Function} fn\n * @return {Image}\n */\n\nfunction loadImage(attrs, fn) {\n  fn = fn || function() {};\n  var img = new Image();\n  img.onerror = error(fn, 'failed to load pixel', img);\n  img.onload = function() { fn(); };\n  img.src = attrs.src;\n  img.width = 1;\n  img.height = 1;\n  return img;\n}\n\n/**\n * TODO: Document me\n *\n * @api private\n * @param {Function} fn\n * @param {string} message\n * @param {Element} img\n * @return {Function}\n */\n\nfunction error(fn, message, img) {\n  return function(e) {\n    e = e || window.event;\n    var err = new Error(message);\n    err.event = e;\n    err.source = img;\n    fn(err);\n  };\n}\n\n/**\n * Render template + locals into an `attrs` object.\n *\n * @api private\n * @param {Object} template\n * @param {Object} locals\n * @return {Object}\n */\n\nfunction render(template, locals) {\n  return foldl(function(attrs, val, key) {\n    attrs[key] = val.replace(/\\{\\{\\ *(\\w+)\\ *\\}\\}/g, function(_, $1) {\n      return locals[$1];\n    });\n    return attrs;\n  }, {}, template.attrs);\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('component-emitter');\nvar domify = require('domify');\nvar each = require('@ndhoule/each');\nvar includes = require('@ndhoule/includes');\n\n/**\n * Mix in emitter.\n */\n\n/* eslint-disable new-cap */\nEmitter(exports);\n/* eslint-enable new-cap */\n\n/**\n * Add a new option to the integration by `key` with default `value`.\n *\n * @api public\n * @param {string} key\n * @param {*} value\n * @return {Integration}\n */\n\nexports.option = function(key, value) {\n  this.prototype.defaults[key] = value;\n  return this;\n};\n\n/**\n * Add a new mapping option.\n *\n * This will create a method `name` that will return a mapping for you to use.\n *\n * @api public\n * @param {string} name\n * @return {Integration}\n * @example\n * Integration('My Integration')\n *   .mapping('events');\n *\n * new MyIntegration().track('My Event');\n *\n * .track = function(track){\n *   var events = this.events(track.event());\n *   each(send, events);\n *  };\n */\n\nexports.mapping = function(name) {\n  this.option(name, []);\n  this.prototype[name] = function(key) {\n    return this.map(this.options[name], key);\n  };\n  return this;\n};\n\n/**\n * Register a new global variable `key` owned by the integration, which will be\n * used to test whether the integration is already on the page.\n *\n * @api public\n * @param {string} key\n * @return {Integration}\n */\n\nexports.global = function(key) {\n  this.prototype.globals.push(key);\n  return this;\n};\n\n/**\n * Mark the integration as assuming an initial pageview, so to defer the first page call, keep track of\n * whether we already nooped the first page call.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.assumesPageview = function() {\n  this.prototype._assumesPageview = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `load` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnLoad = function() {\n  this.prototype._readyOnLoad = true;\n  return this;\n};\n\n/**\n * Mark the integration as being \"ready\" once `initialize` is called.\n *\n * @api public\n * @return {Integration}\n */\n\nexports.readyOnInitialize = function() {\n  this.prototype._readyOnInitialize = true;\n  return this;\n};\n\n/**\n * Define a tag to be loaded.\n *\n * @api public\n * @param {string} [name='library'] A nicename for the tag, commonly used in\n * #load. Helpful when the integration has multiple tags and you need a way to\n * specify which of the tags you want to load at a given time.\n * @param {String} str DOM tag as string or URL.\n * @return {Integration}\n */\n\nexports.tag = function(name, tag) {\n  if (tag == null) {\n    tag = name;\n    name = 'library';\n  }\n  this.prototype.templates[name] = objectify(tag);\n  return this;\n};\n\n/**\n * Given a string, give back DOM attributes.\n *\n * Do it in a way where the browser doesn't load images or iframes. It turns\n * out domify will load images/iframes because whenever you construct those\n * DOM elements, the browser immediately loads them.\n *\n * @api private\n * @param {string} str\n * @return {Object}\n */\n\nfunction objectify(str) {\n  // replace `src` with `data-src` to prevent image loading\n  str = str.replace(' src=\"', ' data-src=\"');\n\n  var el = domify(str);\n  var attrs = {};\n\n  each(function(attr) {\n    // then replace it back\n    var name = attr.name === 'data-src' ? 'src' : attr.name;\n    if (!includes(attr.name + '=', str)) return;\n    attrs[name] = attr.value;\n  }, el.attributes);\n\n  return {\n    type: el.tagName.toLowerCase(),\n    attrs: attrs\n  };\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bind = require('component-bind');\nvar debug = require('debug');\nvar defaults = require('@ndhoule/defaults');\nvar extend = require('extend');\nvar slug = require('slug-component');\nvar protos = require('./protos');\nvar statics = require('./statics');\n\n/**\n * Create a new `Integration` constructor.\n *\n * @constructs Integration\n * @param {string} name\n * @return {Function} Integration\n */\n\nfunction createIntegration(name) {\n  /**\n   * Initialize a new `Integration`.\n   *\n   * @class\n   * @param {Object} options\n   */\n\n  function Integration(options) {\n    if (options && options.addIntegration) {\n      // plugin\n      return options.addIntegration(Integration);\n    }\n    this.debug = debug('analytics:integration:' + slug(name));\n    var clonedOpts = {};\n    extend(true, clonedOpts, options); // deep clone options\n    this.options = defaults(clonedOpts || {}, this.defaults);\n    this._queue = [];\n    this.once('ready', bind(this, this.flush));\n\n    Integration.emit('construct', this);\n    this.ready = bind(this, this.ready);\n    this._wrapInitialize();\n    this._wrapPage();\n    this._wrapTrack();\n  }\n\n  Integration.prototype.defaults = {};\n  Integration.prototype.globals = [];\n  Integration.prototype.templates = {};\n  Integration.prototype.name = name;\n  extend(Integration, statics);\n  extend(Integration.prototype, protos);\n\n  return Integration;\n}\n\n/**\n * Exports.\n */\n\nmodule.exports = createIntegration;\n", "\n/**\n * Module dependencies.\n */\n\nvar type = require('type-component');\n\n/**\n * Expose `reject`\n */\n\nmodule.exports = reject;\n\n/**\n * Reject `obj`, `fn`.\n *\n * If `fn` is omitted a default function\n * that removes nulls (undefined/null) will\n * be supplied.\n *\n * @param {Object} obj\n * @param {Function} fn\n * @return {Object}\n * @api public\n */\n\nfunction reject(obj, fn){\n  fn = fn || compact;\n  return 'array' == type(obj)\n    ? reject.array(obj, fn)\n    : reject.object(obj, fn);\n}\n\n/**\n * Reject `arr`, `fn`.\n *\n * @param {Array|String} arr\n * @param {Function} fn\n * @return {Object}\n * @api public\n */\n\nreject.array = function(arr, fn){\n  var ret = [];\n\n  for (var i = 0; i < arr.length; ++i) {\n    if (!fn(arr[i], i)) ret[ret.length] = arr[i];\n  }\n\n  return ret;\n};\n\n/**\n * Reject `obj`, `fn`.\n *\n * @param {Object} obj\n * @param {Function} fn\n * @return {Object}\n * @api public\n */\n\nreject.object = function(obj, fn){\n  var ret = {};\n\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k) && !fn(obj[k], k)) {\n      ret[k] = obj[k]\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Reject `type(s)` of `obj/arr`.\n *\n * @param {Object|Array} obj\n * @param {Array|String} type(s)\n * @return {Object|Array}\n * @api public\n */\n\nreject.types =\nreject.type = function(obj, types){\n  if (!Array.isArray(types)) types = [types];\n  return reject(obj, function(value){\n    return -1 != types.indexOf(type(value));\n  });\n};\n\n/**\n * Reject `value` if it's `null` or `undefined`.\n *\n * @param {Mixed} value\n * @return {Mixed}\n * @api private\n */\n\nfunction compact(value){\n  return null == value;\n}\n", "'use strict';\n\n/**\n * Module dependencies.\n */\nvar integration = require('@segment/analytics.js-integration');\nvar reject = require('reject');\n\n/**\n * GA4\n */\nvar GA4 = (module.exports = integration('Google Analytics 4')\n  .global('gtag')\n  .global('ga4DataLayer')\n  .option('measurementIds', [])\n  .option('cookieDomainName', 'auto')\n  .option('cookiePrefix', '_ga')\n  .option('cookieExpiration', 63072000)\n  .option('cookieUpdate', true)\n  .option('cookieFlags', '')\n  .option('sendAutomaticPageViewEvent', false)\n  .option('allowAllAdvertisingFeatures', false)\n  .option('allowAdvertisingPersonalization', false)\n  .option('disableGoogleAnalytics', false)\n  .option('googleReportingIdentity', 'device')\n  .option('userProperties', {})\n  /**\n   * Custom Events and Parameters setting. This setting is used by the track\n   * handler to map Segment events and fields to Google analytics events and parameters.\n   *\n   * Example:\n   * [\n   *   {\n   *     \"googleEvent\": \"new_episode\",\n   *     \"parameters\": [\n   *       {\n   *         \"key\": \"properties.title\",\n   *         \"value\": \"title\"\n   *       },\n   *       {\n   *         \"key\": \"properties.genre\",\n   *         \"value\": \"genre\"\n   *       }\n   *     ],\n   *     \"segmentEvent\": \"Started Episode\"\n   *   }\n   * ]\n   */\n  .option('customEventsAndParameters', [])\n  .tag(\n    '<script src=\"//www.googletagmanager.com/gtag/js?id={{ measurementId }}&l=ga4DataLayer\">'\n  ));\n\n/**\n * Initialize.\n *\n * https://developers.google.com/analytics/devguides/collection/ga4\n *\n * @api public\n */\nGA4.prototype.initialize = function() {\n  window.ga4DataLayer = window.ga4DataLayer || [];\n  window.gtag = function() {\n    window.ga4DataLayer.push(arguments);\n  };\n\n  /**\n   * This line is in all of the gtag examples but is not well documented. Research\n   * says that it is is related to deduplication.\n   * https://stackoverflow.com/questions/59256532/what-is-the-js-gtags-js-command\n   */\n  window.gtag('js', new Date());\n\n  var opts = this.options;\n  var measurementIds = opts.measurementIds;\n\n  /**\n   * Avoid loading and configuring gtag.js if any are true:\n   *  - Disable Google Analytics setting is enabled\n   *  - No measurement IDs are configured\n   */\n  if (!measurementIds.length || opts.disableGoogleAnalytics) {\n    return;\n  }\n\n  var config = {\n    /**\n     * Disable Google's Automatic Page View Measurement\n     * https://developers.google.com/analytics/devguides/collection/ga4/disable-page-view\n     */\n    send_page_view: opts.sendAutomaticPageViewEvent,\n\n    /**\n     * Cookie Update\n     * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#cookie_update_parameter\n     */\n    cookie_update: opts.cookieUpdate,\n\n    /**\n     * Cookie Domain Name\n     * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#cookie_domain_configuration\n     */\n    cookie_domain: opts.cookieDomainName,\n\n    /**\n     * Cookie Prefix\n     * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#cookie_prefix\n     */\n    cookie_prefix: opts.cookiePrefix,\n\n    /**\n     * Cookie Expiration\n     * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#cookie_expiration\n     */\n    cookie_expires: opts.cookieExpiration,\n  };\n\n  var sets = [\n    /**\n     * Cookie Flags\n     * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#cookie_flags\n     */\n    [{ cookie_flags: opts.cookieFlags }],\n\n    /**\n     * Disable All Advertising\n     * https://developers.google.com/analytics/devguides/collection/ga4/display-features#disable_all_advertising_features\n     */\n    ['allow_google_signals', opts.allowAllAdvertisingFeatures],\n\n    /**\n     * Disable Advertising Personalization\n     * https://developers.google.com/analytics/devguides/collection/ga4/display-features#disable_advertising_personalization\n     */\n    ['allow_ad_personalization_signals', opts.allowAdvertisingPersonalization]\n  ];\n\n  // Load gtag.js using the first measurement ID, then configure using the `config` commands built above.\n  var self = this;\n  this.load({ measurementId: measurementIds[0] }, function() {\n    /**\n     * Measurement IDs.\n     * The same configuration information is shared across all measurement IDs.\n     * https://developers.google.com/analytics/devguides/collection/ga4#add_an_additional_google_analytics_property_to_an_existing_tag\n     */\n    for (var i = 0; i < measurementIds.length; i++) {\n      window.gtag('config', measurementIds[i], config)\n\n    }\n\n    /**\n     * Set persistent values shared across all gtag.js usage.\n     * https://developers.google.com/gtagjs/reference/api#set\n     */\n    for (var i = 0; i < sets.length; i++) {\n      // Copy the set args and append the command before calling gtag.js.\n      var args = sets[i].slice(0)\n      args.unshift('set')\n      window.gtag.apply(null, args);\n    }\n\n    self.ready();\n  });\n};\n\n/**\n * Loaded?\n *\n * @api private\n * @return {boolean}\n */\nGA4.prototype.loaded = function() {\n  return !!(\n    window.ga4DataLayer && Array.prototype.push !== window.ga4DataLayer.push\n  );\n};\n\n/**\n * Identify.\n *\n * @api public\n * @param {Facade.Identify} event\n */\nGA4.prototype.identify = function(identify) {\n  var opts = this.options;\n  var userPropertyMappings = opts.userProperties;\n\n  var userProperties = {};\n\n  // Map all customer-defined user property mappings.\n  for (var eventField in userPropertyMappings) {\n    if (!userPropertyMappings.hasOwnProperty(eventField)) {\n      continue;\n    }\n\n    var userProp = userPropertyMappings[eventField];\n    var value = identify.proxy(eventField);\n\n    userProperties[userProp] = value;\n  }\n\n  /**\n   * Map the user_id property if the Google Reporting Identity is set one of:\n   *   - By User ID, Google signals, then device (userIdSignalsAndDevice)\n   *   - By User ID and Devicea (userIdAndDevice)\n   * \n   * Google's Reporting Identity: https://support.google.com/analytics/answer/9213390?hl=en\n   * \n   * Note that the user ID can be appended as part of the user_properties\n   * object instead of being configured by an explicit command.\n   * https://developers.google.com/analytics/devguides/collection/ga4/cookies-user-id#set_user_id\n   */\n  var userId = identify.userId();\n  var validReportingIdentity = opts.googleReportingIdentity === 'userIdSignalsAndDevice' || opts.googleReportingIdentity === 'userIdAndDevice'\n  if (userId && validReportingIdentity) {\n    userProperties.user_id = userId;\n  }\n\n  if (Object.keys(userProperties).length) {\n    window.gtag('set', 'user_properties', userProperties);\n  }\n};\n\n/**\n * Group\n *\n * @api public\n * @param {Facade.Group} group\n */\nGA4.prototype.group = function(group) {\n  window.gtag('event', 'join_group', {\n    group_id: group.groupId()\n  });\n};\n\n/**\n * Page\n *\n * @api public\n * @param {Facade.Page} page\n */\nGA4.prototype.page = function(page) {\n  // If the Send Google's Automatic Page View Measurement setting is set to true then\n  // don't handle page calls to avoid duplicate page_view events.\n  if (this.options.sendAutomaticPageViewEvent) {\n    return;\n  }\n\n  var props = page.properties();\n  var name = page.fullName();\n\n  var pageLocation = props.url;\n  var pageReferrer = page.referrer();\n  var pageTitle = name || props.title;\n\n  window.gtag('event', 'page_view', {\n    page_location: pageLocation,\n    page_referrer: pageReferrer,\n    page_title: pageTitle\n  });\n};\n\n/**\n * Track\n *\n * @api public\n * @param {Track} track\n */\n\nGA4.prototype.track = function(track) {\n\n  var mappings = this.options.customEventsAndParameters;\n\n  for (var i = 0; i < mappings.length; i++) {\n    var mapping = mappings[i];\n    if (typeof mapping !== 'object') {\n      continue;\n    }\n\n    var segmentEvent = mapping.segmentEvent;\n    var googleEvent = mapping.googleEvent;\n  \n    if (!segmentEvent || !googleEvent || segmentEvent !== track.event()) {\n      continue;\n    }\n\n    var parameterMappings = mapping.parameters || [];\n    var parameters = {};\n\n    if (!(parameterMappings instanceof Array)) {\n      continue;\n    }\n\n    // Map Segment event fields to Google Event Parameters.\n    // Text map settings that are nested in a mixed settings take on a different shape\n    // than a top-level text map setting.\n    // eg; [{ key: 'properties.genre', value: 'primary_genre }]\n    //\n    for (var j = 0; j < parameterMappings.length; j++) {\n      var map = parameterMappings[j] || {};\n      if (typeof map !== 'object' || !map.key || !map.value) {\n        continue;\n      }\n\n      var param = map.value;\n      var value = track.proxy(map.key);\n      parameters[param] = value;\n    }\n\n    window.gtag('event', googleEvent, parameters);\n  }\n};\n", "\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n", "/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val)\n\n  return typeof val;\n};\n", "\n/**\n * Module dependencies.\n */\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\nvar trim = require('trim');\nvar type = require('type');\n\nvar pattern = /(\\w+)\\[(\\d+)\\]/\n\n/**\n * Parse the given query `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(str){\n  if ('string' != typeof str) return {};\n\n  str = trim(str);\n  if ('' == str) return {};\n  if ('?' == str.charAt(0)) str = str.slice(1);\n\n  var obj = {};\n  var pairs = str.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var parts = pairs[i].split('=');\n    var key = decode(parts[0]);\n    var m;\n\n    if (m = pattern.exec(key)) {\n      obj[m[1]] = obj[m[1]] || [];\n      obj[m[1]][m[2]] = decode(parts[1]);\n      continue;\n    }\n\n    obj[parts[0]] = null == parts[1]\n      ? ''\n      : decode(parts[1]);\n  }\n\n  return obj;\n};\n\n/**\n * Stringify the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api public\n */\n\nexports.stringify = function(obj){\n  if (!obj) return '';\n  var pairs = [];\n\n  for (var key in obj) {\n    var value = obj[key];\n\n    if ('array' == type(value)) {\n      for (var i = 0; i < value.length; ++i) {\n        pairs.push(encode(key + '[' + i + ']') + '=' + encode(value[i]));\n      }\n      continue;\n    }\n\n    pairs.push(encode(key) + '=' + encode(obj[key]));\n  }\n\n  return pairs.join('&');\n};\n", "\n/**\n * Protocol.\n */\n\nmodule.exports = function (url) {\n  switch (arguments.length) {\n    case 0: return check();\n    case 1: return transform(url);\n  }\n};\n\n\n/**\n * Transform a protocol-relative `url` to the use the proper protocol.\n *\n * @param {String} url\n * @return {String}\n */\n\nfunction transform (url) {\n  return check() ? 'https:' + url : 'http:' + url;\n}\n\n\n/**\n * Check whether `https:` be used for loading scripts.\n *\n * @return {Boolean}\n */\n\nfunction check () {\n  return (\n    location.protocol == 'https:' ||\n    location.protocol == 'chrome-extension:'\n  );\n}", "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar cookie = require('component-cookie');\nvar each = require('@ndhoule/each');\nvar integration = require('@segment/analytics.js-integration');\nvar load = require('@segment/load-script');\nvar querystring = require('component-querystring');\nvar useHttps = require('use-https');\n\n/**\n * hasOwnProperty reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Expose `Pardot` integration.\n */\n\nvar Pardot = (module.exports = integration('Pardot')\n  .assumesPageview()\n  .global('pi')\n  .global('piAId')\n  .global('piCId')\n  .global('piTracker')\n  .option('projectId', '')\n  .option('piAId', '')\n  .option('piCId', '')\n  .tag('http', '<script src=\"http://cdn.pardot.com/pd.js\">')\n  .tag('https', '<script src=\"https://pi.pardot.com/pd.js\">'));\n\n/**\n * Initialize.\n *\n * http://developer.pardot.com/\n *\n * @api public\n */\n\nPardot.prototype.initialize = function() {\n  window.piAId = this.options.piAId;\n  window.piCId = this.options.piCId;\n  var name = useHttps() ? 'https' : 'http';\n  this.load(name, this.ready);\n};\n\n/**\n * Loaded?\n *\n * @api public\n * @return {boolean}\n */\n\nPardot.prototype.loaded = function() {\n  return !!window.piTracker;\n};\n\n/**\n * Identify.\n *\n * @api public\n * @param {Identify} identify\n */\n\nPardot.prototype.identify = function(identify) {\n  var traits = identify.traits();\n  var email = identify.email();\n  if (email) traits.email = email;\n  // follow EU rules\n  if (doNotTrack()) return;\n  // must have an email\n  if (!traits.email) return;\n\n  var variables = this.getRequestVariables();\n  variables.pi_email = traits.email;\n  load('//pi.pardot.com/analytics?' + querystring.stringify(variables));\n};\n\n/**\n * Get request variables.\n *\n * @api private\n * @return {Object}\n */\n\nPardot.prototype.getRequestVariables = function() {\n  // Note; we specifically want to emit URL, referrer, title\n  // so that the visitor is associated but not counted\n  // as an extra page view\n  var variables = {\n    account_id: window.piAId,\n    campaign_id: window.piCId,\n    pi_opt_in: cookie('pi_opt_in' + (this.options.piAId - 1e3)),\n    ver: 3,\n    visitor_id: cookie('visitor_id' + (this.options.piAId - 1e3))\n  };\n\n  // get all the query parameters\n  var queryParams = query();\n  // here are the query parameters we are looking for, but only the ones that\n  // won't cause an extra page view to pop up in Omniture\n  var queryKeys = ['pi_email'];\n\n  // add all the query params to our variables list\n  each(function(key) {\n    if (key in queryParams) variables[key] = queryParams[key];\n  }, queryKeys);\n\n  // now check global variables\n  if (window.piIncludeInActivities !== undefined) {\n    variables.pi_include_in_activies = window.piIncludeInActivities;\n  }\n  if (window.piProfileId !== undefined) {\n    variables.pi_profile_id = window.piProfileId;\n  }\n\n  // override with pi.tracker variables, if they've been updated\n  // we don't want to take app pi.tracker properties cause then\n  // we'll grab the page view properties and count as an extra page view\n  if (window.pi && window.pi.tracker) {\n    for (var property in variables) {\n      if (has.call(variables, property)) {\n        var val = window.pi.tracker[property];\n        // don't override the account_id if it's not set yet\n        if (val) variables[property] = val;\n      }\n    }\n  }\n\n  return variables;\n};\n\n/**\n * Determine whether the we should identify the user, following EU rules.\n *\n * TODO: what is going on here haha\n *\n * @api private\n * @return {boolean}\n */\n\nfunction doNotTrack() {\n  var p = window.pi;\n  if (!p) return false;\n  if (!p.tracker) return false;\n  // XXX: I don't think it's necessary to explicitly cast to a string here,\n  // but I converted this from == to ===, so just to be safe... (why isn't it\n  // just a boolean?)\n  if (String(p.tracker.pi_opt_in) === 'false') return false;\n  if (!p.tracker.title) return false;\n  if (!p.tracker.notify_pi) return false;\n  return true;\n}\n\n/**\n * Get the query params from the URL.\n *\n * @api private\n * @return {Object}\n */\n\nfunction query() {\n  return querystring.parse(location.search.slice(1));\n}\n", "import analytics from \"@segment/analytics.js-core\";\n\nconst integrations = [\n  require(\"@segment/analytics.js-integration-customerio\"),\n  require(\"@segment/analytics.js-integration-mixpanel\"),\n  require(\"@segment/analytics.js-integration-optimizely\"),\n  require(\"@segment/analytics.js-integration-google-analytics-4\"),\n  require(\"@segment/analytics.js-integration-pardot\"),\n];\n\nintegrations.forEach(analytics.use.bind(analytics));\n\nwindow.analytics = analytics;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAQA,aAAO,UAAU,SAAS,IAAI;AAC9B,aAAO,QAAQ,OAAO,OAAO;AAO7B,aAAO,QAAQ,UAAU,SAAU,KAAK,KAAK,KAAK,SAAS;AACzD,iBAAS,OAAO,EAAE,KAAK,MAAM,KAAK,KAAK,KAAK,OAAO;AACnD,eAAO;AAAA,MACT;AAOA,aAAO,QAAQ,MAAM,SAAU,KAAK,KAAK,SAAS;AAChD,iBAAS,GAAG,EAAE,KAAK,MAAM,KAAK,KAAK,MAAM,OAAO;AAChD,eAAO;AAAA,MACT;AAOA,wBAAmB,IAAI;AACrB,eAAO,SAAU,KAAK,MAAM,KAAK,SAAS;AACxC,cAAI,YAAY,WAAW,WAAW,QAAQ,UAAU,IAAI,QAAQ,aAAa;AACjF,iBAAO,UAAU,IAAI;AAErB,cAAI;AACJ,cAAI,WAAW;AAEf,iBAAO,CAAC;AAAU,iBAAK;AAEvB,0BAAgB;AACd,iBAAK,OAAO,KAAK;AACf,kBAAI,gBAAgB,UAAU,GAAG;AACjC,kBAAI,AAAM,KAAK,QAAQ,aAAa,MAAhC,GAAmC;AACrC,oBAAI,OAAO,KAAK,OAAO,cAAc,MAAM;AAC3C,oBAAI,KAAK,OAAO,CAAC,MAAM,OAAO,KAAK,WAAW,GAAG;AAC/C,yBAAO,KAAK,OAAO,CAAC;AACpB,sBAAI,QAAQ,IAAI;AAGhB,sBAAI,AAAQ,SAAR,MAAe;AACjB,+BAAW;AACX;AAAA,kBACF;AAGA,sBAAI,CAAC,KAAK,QAAQ;AAChB,+BAAW;AACX;AAAA,kBACF;AAGA,wBAAM;AAGN;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAEA,kBAAM;AAGN,uBAAW;AAAA,UACb;AAEA,cAAI,CAAC;AAAK;AACV,cAAI,AAAQ,OAAR;AAAa,mBAAO;AAOxB,iBAAO,GAAG,KAAK,KAAK,GAAG;AAAA,QACzB;AAAA,MACF;AASA,oBAAe,KAAK,KAAK;AACvB,YAAI,IAAI,eAAe,GAAG;AAAG,iBAAO,IAAI;AAAA,MAC1C;AASA,mBAAc,KAAK,KAAK;AACtB,YAAI,IAAI,eAAe,GAAG;AAAG,iBAAO,IAAI;AACxC,eAAO;AAAA,MACT;AASA,uBAAkB,KAAK,KAAK,KAAK;AAC/B,YAAI,IAAI,eAAe,GAAG;AAAG,cAAI,OAAO;AACxC,eAAO;AAAA,MACT;AAWA,gCAA0B,MAAM;AAC9B,eAAO,KAAK,QAAQ,oBAAoB,EAAE,EAAE,YAAY;AAAA,MAC1D;AASA,0BAAoB,KAAK;AACvB,eAAO,OAAO,QAAQ;AAAA,MACxB;AAAA;AAAA;;;ACvJA;AAAA;AAAA;AAEA,UAAI,MAAM;AAQV,aAAO,UAAU,SAAS,OAAO;AAC/B,cAAM,MAAM,MAAM,cAAc,KAAK;AACrC,cAAM,UAAU,MAAM,SAAS;AAC/B,cAAM,SAAS,MAAM,QAAQ;AAC7B,cAAM,QAAQ,MAAM,OAAO;AAC3B,cAAM,OAAO,MAAM,MAAM;AACzB,cAAM,SAAS,MAAM,QAAQ;AAE7B,uBAAe,GAAG,GAAG;AACnB,iBAAO,WAAW;AAChB,gBAAI,SAAS,KAAK,OAAO;AACzB,gBAAI,QAAQ,KAAK,aAAa,KAAK,WAAW,IAAI,CAAC;AAEnD,mBAAO,IAAI,QAAQ,aAAa,CAAC,KAC5B,IAAI,QAAQ,CAAC,KACZ,KAAI,IAAI,QAAQ,aAAa,CAAC,IAAI,SAClC,KAAI,IAAI,QAAQ,CAAC,IAAI,SACtB,IAAI,OAAO,aAAa,CAAC,KACzB,IAAI,OAAO,CAAC,KACX,KAAI,IAAI,OAAO,aAAa,CAAC,IAAI,SACjC,KAAI,IAAI,OAAO,CAAC,IAAI;AAAA,UAC5B;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;ACjCA;AAAA;AAAA,UAAI,OAAO,OAAO,WAAW,YAAY;AAEvC,eAAO,UAAU,kBAAkB,MAAM,WAAW;AAClD,cAAI,WAAW;AACb,iBAAK,SAAS;AACd,iBAAK,YAAY,OAAO,OAAO,UAAU,WAAW;AAAA,cAClD,aAAa;AAAA,gBACX,OAAO;AAAA,gBACP,YAAY;AAAA,gBACZ,UAAU;AAAA,gBACV,cAAc;AAAA,cAChB;AAAA,YACF,CAAC;AAAA,UACH;AAAA,QACF;AAAA,MACF,OAAO;AAEL,eAAO,UAAU,kBAAkB,MAAM,WAAW;AAClD,cAAI,WAAW;AACb,iBAAK,SAAS;AACd,gBAAI,WAAW,WAAY;AAAA,YAAC;AAC5B,qBAAS,YAAY,UAAU;AAC/B,iBAAK,YAAY,IAAI,SAAS;AAC9B,iBAAK,UAAU,cAAc;AAAA,UAC/B;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;AC1BA;AAAA;AAIA,UAAI,WAAW,OAAO,UAAU;AAUhC,aAAO,UAAU,SAAS,KAAI;AAC5B,gBAAQ,SAAS,KAAK,GAAG;AAAA,eAClB;AAAiB,mBAAO;AAAA,eACxB;AAAmB,mBAAO;AAAA,eAC1B;AAAsB,mBAAO;AAAA,eAC7B;AAAkB,mBAAO;AAAA,eACzB;AAAkB,mBAAO;AAAA;AAGhC,YAAI,QAAQ;AAAM,iBAAO;AACzB,YAAI,QAAQ;AAAW,iBAAO;AAC9B,YAAI,QAAQ;AAAK,iBAAO;AACxB,YAAI,OAAO,IAAI,aAAa;AAAG,iBAAO;AAEtC,YAAI,SAAS,GAAG;AAAG,iBAAO;AAE1B,cAAM,IAAI,UACN,IAAI,QAAQ,IACZ,OAAO,UAAU,QAAQ,MAAM,GAAG;AAEtC,eAAO,OAAO;AAAA,MAChB;AAGA,wBAAkB,KAAK;AACrB,eAAO,CAAC,CAAE,QAAO,QACd,KAAI,aACF,IAAI,eACL,OAAO,IAAI,YAAY,aAAa,cACpC,IAAI,YAAY,SAAS,GAAG;AAAA,MAElC;AAAA;AAAA;;;AC7CA;AAAA;AAAA;AAMA,UAAI,OAAO;AAQX,UAAI,QAAQ,gBAAe,KAAK;AAC9B,YAAI,IAAI,KAAK,GAAG;AAEhB,YAAI,MAAM,UAAU;AAClB,cAAI,OAAO,CAAC;AACZ,mBAAS,OAAO,KAAK;AACnB,gBAAI,IAAI,eAAe,GAAG,GAAG;AAC3B,mBAAK,OAAO,OAAM,IAAI,IAAI;AAAA,YAC5B;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAEA,YAAI,MAAM,SAAS;AACjB,cAAI,OAAO,IAAI,MAAM,IAAI,MAAM;AAC/B,mBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AAC1C,iBAAK,KAAK,OAAM,IAAI,EAAE;AAAA,UACxB;AACA,iBAAO;AAAA,QACT;AAEA,YAAI,MAAM,UAAU;AAElB,cAAI,QAAQ;AACZ,mBAAS,IAAI,YAAY,MAAM;AAC/B,mBAAS,IAAI,SAAS,MAAM;AAC5B,mBAAS,IAAI,aAAa,MAAM;AAChC,iBAAO,IAAI,OAAO,IAAI,QAAQ,KAAK;AAAA,QACrC;AAEA,YAAI,MAAM,QAAQ;AAChB,iBAAO,IAAI,KAAK,IAAI,QAAQ,CAAC;AAAA,QAC/B;AAGA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACxDjB;AAAA;AAKA,UAAI,WAAW,OAAO,UAAU;AAUhC,aAAO,UAAU,SAAS,KAAI;AAC5B,gBAAQ,SAAS,KAAK,GAAG;AAAA,eAClB;AAAqB,mBAAO;AAAA,eAC5B;AAAiB,mBAAO;AAAA,eACxB;AAAmB,mBAAO;AAAA,eAC1B;AAAsB,mBAAO;AAAA,eAC7B;AAAkB,mBAAO;AAAA;AAGhC,YAAI,QAAQ;AAAM,iBAAO;AACzB,YAAI,QAAQ;AAAW,iBAAO;AAC9B,YAAI,QAAQ,OAAO,GAAG;AAAG,iBAAO;AAEhC,eAAO,OAAO;AAAA,MAChB;AAAA;AAAA;;;AC7BA;AAAA;AAAA;AAEA,cAAQ,UAAU;AAClB,cAAQ,QAAQ;AAChB,cAAQ,OAAO;AAAA;AAAA;;;ACJf;AAAA;AAAA;AAIA,UAAI,WAAW;AAAA,QACb,YAAY;AAAA,MACd;AASA,aAAO,UAAU,SAAS,aAAa;AACrC,eAAO,CAAC,SAAS;AAAA,MACnB;AAAA;AAAA;;;ACjBA;AAAA;AAAA;AAQA,UAAI,UAAU;AAWd,cAAQ,QAAQ,SAAS,KAAK;AAC5B,YAAI,cAAc,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE;AACrC,YAAI,MAAM,QAAQ,KAAK,GAAG;AAC1B,YAAI,SAAS;AAGb,YAAI,CAAC,KAAK;AACR,iBAAO,IAAI,KAAK,GAAG;AAAA,QACrB;AAIA,iBAAS,IAAI,GAAG,KAAK,MAAM,YAAY,IAAI,KAAK;AAC9C,cAAI,OAAO,SAAS,IAAI,MAAM,EAAE,KAAK;AAAA,QACvC;AAIA,YAAI,KAAK,SAAS,IAAI,IAAI,EAAE,KAAK;AACjC,YAAI,KAAK,SAAS,IAAI,IAAI,EAAE,KAAK;AAGjC,YAAI;AAGJ,YAAI,KAAK,IAAI,KAAM,KAAI,KAAK,MAAM,UAAU,GAAG,CAAC,IAAI;AAGpD,YAAI,IAAI,OAAO,KAAK;AAClB,mBAAS,IAAI,KAAK,EAAE,kBAAkB;AAAA,QACxC,WAAW,IAAI,OAAO,OAAO,IAAI,KAAK;AACpC,mBAAS,IAAI,MAAM,KAAK,IAAI;AAC5B,cAAI,IAAI,QAAQ,KAAK;AACnB,qBAAS,IAAI;AAAA,UACf;AAAA,QACF;AAEA,YAAI,SAAS,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,IAAI,EAAE;AACrF,eAAO,IAAI,KAAK,MAAM;AAAA,MACxB;AAYA,cAAQ,KAAK,SAAS,QAAQ,QAAQ;AACpC,YAAI,OAAO,WAAW,UAAU;AAC9B,iBAAO;AAAA,QACT;AACA,YAAI,UAAW,qBAAsB,KAAK,MAAM,MAAM,OAAO;AAC3D,iBAAO;AAAA,QACT;AACA,eAAO,QAAQ,KAAK,MAAM;AAAA,MAC5B;AAAA;AAAA;;;AC9EA;AAAA;AAAA;AAMA,UAAI,UAAU;AAQd,cAAQ,KAAK,SAAU,QAAQ;AAC7B,eAAO,QAAQ,KAAK,MAAM;AAAA,MAC5B;AAQA,cAAQ,QAAQ,SAAU,QAAQ;AAChC,iBAAS,SAAS,QAAQ,EAAE;AAC5B,eAAO,IAAI,KAAK,MAAM;AAAA,MACxB;AAAA;AAAA;;;AC3BA;AAAA;AAAA;AAMA,UAAI,UAAU;AAQd,cAAQ,KAAK,SAAU,QAAQ;AAC7B,eAAO,QAAQ,KAAK,MAAM;AAAA,MAC5B;AAQA,cAAQ,QAAQ,SAAU,SAAS;AACjC,YAAI,SAAS,SAAS,SAAS,EAAE,IAAI;AACrC,eAAO,IAAI,KAAK,MAAM;AAAA,MACxB;AAAA;AAAA;;;AC3BA;AAAA;AAAA;AAEA,UAAI,UAAU;AACd,UAAI,eAAe;AACnB,UAAI,UAAU;AAEd,UAAI,WAAW,OAAO;AACtB,UAAI,QAAQ,SAAS;AAErB,sBAAgB,OAAO;AACrB,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAEA,wBAAkB,OAAO;AACvB,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAQA,aAAO,UAAU,iBAAiB,KAAK;AACrC,YAAI,OAAO,GAAG;AAAG,iBAAO;AACxB,YAAI,SAAS,GAAG;AAAG,iBAAO,IAAI,KAAK,KAAK,GAAG,CAAC;AAG5C,YAAI,QAAQ,GAAG,GAAG,GAAG;AACnB,iBAAO,QAAQ,MAAM,GAAG;AAAA,QAC1B;AACA,YAAI,aAAa,GAAG,GAAG,GAAG;AACxB,iBAAO,aAAa,MAAM,GAAG;AAAA,QAC/B;AACA,YAAI,QAAQ,GAAG,GAAG,GAAG;AACnB,iBAAO,QAAQ,MAAM,GAAG;AAAA,QAC1B;AAGA,eAAO,IAAI,KAAK,GAAG;AAAA,MACrB;AAQA,oBAAc,KAAK;AACjB,YAAI,MAAM;AAAa,iBAAO,MAAM;AACpC,eAAO;AAAA,MACT;AAAA;AAAA;;;ACnDA;AAAA;AAAA;AAEA,UAAI,UAAU;AAKd,aAAO,UAAU;AAUjB,wBAAkB,OAAO,QAAQ;AAC/B,YAAI,WAAW;AAAW,mBAAS;AACnC,YAAI,SAAS,OAAO,UAAU,UAAU;AACtC,iBAAO,eAAe,OAAO,MAAM;AAAA,QACrC,WAAW,MAAM,QAAQ,KAAK,GAAG;AAC/B,iBAAO,cAAc,OAAO,MAAM;AAAA,QACpC,WAAW,QAAQ,GAAG,OAAO,MAAM,GAAG;AACpC,iBAAO,QAAQ,MAAM,KAAK;AAAA,QAC5B;AACA,eAAO;AAAA,MACT;AASA,8BAAwB,KAAK,QAAQ;AACnC,eAAO,KAAK,GAAG,EAAE,QAAQ,SAAS,KAAK;AACrC,cAAI,OAAO,SAAS,IAAI,MAAM,MAAM;AAAA,QACtC,CAAC;AACD,eAAO;AAAA,MACT;AASA,6BAAuB,KAAK,QAAQ;AAClC,YAAI,QAAQ,SAAS,OAAO,OAAO;AACjC,cAAI,SAAS,SAAS,OAAO,MAAM;AAAA,QACrC,CAAC;AACD,eAAO;AAAA,MACT;AAAA;AAAA;;;ACvDA;AAAA;AAAA;AAEA,UAAI,UAAU;AACd,UAAI,QAAQ,gBAAmB;AAC/B,UAAI,YAAY;AAChB,UAAI,UAAU;AACd,UAAI,UAAU;AACd,UAAI,WAAW;AACf,UAAI,OAAO,gBAAmB;AA4B9B,sBAAgB,KAAK,MAAM;AACzB,eAAO,QAAQ,CAAC;AAChB,YAAI,CAAE,YAAW;AAAO,eAAK,QAAQ;AACrC,YAAI,KAAK;AAAO,gBAAM,MAAM,GAAG;AAC/B,YAAI,CAAE,eAAc;AAAO,eAAK,WAAW;AAC3C,YAAI,CAAE,gBAAe;AAAM,cAAI,YAAY,IAAI,KAAK;AAAA;AAC/C,cAAI,YAAY,QAAQ,IAAI,SAAS;AAC1C,YAAI,KAAK;AAAU,mBAAS,GAAG;AAC/B,aAAK,OAAO;AACZ,aAAK,MAAM;AAAA,MACb;AAwBA,aAAO,UAAU,QAAQ,SAAS,OAAO;AACvC,YAAI,SAAS,MAAM,MAAM,GAAG;AAC5B,gBAAQ,OAAO,MAAM;AAGrB,YAAI,MAAM,KAAK,UAAU,KAAK,MAAM,KAAK;AACzC,YAAI,CAAC;AAAK,iBAAO;AACjB,YAAI,OAAO,QAAQ;AAAY,gBAAM,IAAI,KAAK,IAAI,KAAK,CAAC;AACxD,YAAI,OAAO,WAAW;AAAG,iBAAO,KAAK,KAAK,QAAQ,UAAU,GAAG,IAAI;AAEnE,cAAM,QAAQ,KAAK,OAAO,KAAK,GAAG,CAAC;AACnC,eAAO,KAAK,KAAK,QAAQ,UAAU,GAAG,IAAI;AAAA,MAC5C;AAUA,aAAO,UAAU,QAAQ,SAAS,OAAO;AACvC,YAAI,MAAM,KAAK,IAAI;AACnB,eAAO,KAAK,KAAK,QAAQ,UAAU,GAAG,IAAI;AAAA,MAC5C;AAYA,aAAO,QAAQ,SAAS,OAAO;AAC7B,eAAO,WAAW;AAChB,iBAAO,KAAK,MAAM,KAAK;AAAA,QACzB;AAAA,MACF;AASA,aAAO,QAAQ,SAAS,OAAO;AAC7B,eAAO,WAAW;AAChB,iBAAO,KAAK,MAAM,KAAK;AAAA,QACzB;AAAA,MACF;AAgBA,aAAO,QAAQ,SAAS,MAAM;AAC5B,eAAO,WAAW;AAChB,cAAI,QAAQ,KAAK,MAAM,OAAO,GAAG;AACjC,cAAI,KAAK,KAAK,MAAM;AAAS,mBAAO;AACpC,cAAI,MAAM,KAAK,MAAM,IAAI;AACzB,cAAI;AAAK,kBAAM,CAAC,KAAK,KAAK,QAAQ,MAAM,GAAG,IAAI,GAAG;AAClD,iBAAO,OAAO,CAAC;AAAA,QACjB;AAAA,MACF;AAiBA,aAAO,MAAM,SAAS,MAAM;AAC1B,eAAO,WAAW;AAChB,cAAI,MAAM,KAAK,MAAM,IAAI;AACzB,cAAI;AAAK,mBAAO;AAChB,cAAI,QAAQ,KAAK,MAAM,OAAO,GAAG;AACjC,cAAI,KAAK,KAAK,MAAM;AAAS,mBAAO,MAAM;AAAA,QAC5C;AAAA,MACF;AAUA,aAAO,UAAU,OAAO,WAAW;AACjC,YAAI,MAAM,KAAK,KAAK,QAAQ,MAAM,KAAK,GAAG,IAAI,KAAK;AACnD,YAAI,KAAK;AAAM,cAAI,OAAO,KAAK,KAAK;AACpC,eAAO;AAAA,MACT;AAcA,aAAO,UAAU,UAAU,SAAS,aAAa;AAC/C,YAAI,MAAM,KAAK,IAAI,WAAW,KAAK,IAAI,WAAW,CAAC;AACnD,YAAI,UAAU,KAAK,KAAK,QAAQ,MAAM,GAAG,IAAI;AAC7C,YAAI,CAAC;AAAa,iBAAO;AACzB,YAAI,CAAC,KAAK,QAAQ,WAAW;AAAG;AAChC,YAAI,gBAAe,KAAK,aAAa;AACrC,YAAI,QAAQ,cAAa,gBAAgB,QAAQ,eAAc,WAAW;AAC1E,YAAI,OAAO,UAAU;AAAU,kBAAQ,QAAQ,KAAK,QAAQ,GAAG,WAAW;AAC1E,eAAO,OAAO,UAAU,WAAW,QAAQ,CAAC;AAAA,MAC9C;AAKA,aAAO,UAAU,UAAU,OAAO,UAAU;AAwB5C,aAAO,UAAU,UAAU,SAAS,aAAa;AAC/C,YAAI,aAAa,KAAK,MAAM,uBAAuB;AACnD,YAAI,OAAO,eAAe;AAAW,uBAAa,KAAK,MAAM,aAAa;AAC1E,YAAI,OAAO,eAAe;AAAW,uBAAa,KAAK,MAAM,kBAAkB;AAC/E,YAAI,OAAO,eAAe;AAAW,uBAAa;AAElD,YAAI,UAAU,cAAc,UAAU,WAAW;AACjD,YAAI,UAAU,KAAK,aAAa;AAIhC,YAAI,QAAQ,aAAa,QAAQ,UAAU,eAAe,WAAW,GAAG;AACtE,oBAAU,QAAQ,UAAU;AAAA,QAC9B;AAIA,YAAI,QAAQ,eAAe,WAAW,GAAG;AACvC,cAAI,WAAW,QAAQ;AACvB,cAAI,OAAO,aAAa,WAAW;AACjC,sBAAU;AAAA,UACZ,OAAO;AACL,sBAAU;AAAA,UACZ;AAAA,QACF;AAEA,eAAO,CAAC,CAAC;AAAA,MACX;AASA,aAAO,UAAU,eAAe,WAAW;AACzC,eAAO,KAAK,IAAI,gBAAgB,KAAK,MAAM,mBAAmB,KAAK,KAAK,QAAQ;AAAA,MAClF;AAOA,aAAO,UAAU,SAAS,WAAW;AACnC,YAAI,SAAS,KAAK,MAAM,gBAAgB;AACxC,YAAI,WAAW,QAAQ,WAAW;AAAW,mBAAS;AACtD,eAAO;AAAA,MACT;AAOA,aAAO,UAAU,cAAc,WAAW;AACxC,eAAO,KAAK,MAAM,aAAa,KAAK,KAAK,MAAM,WAAW;AAAA,MAC5D;AAQA,aAAO,UAAU,YAAY,OAAO,UAAU;AAQ9C,aAAO,UAAU,UAAU,OAAO,MAAM,iBAAiB;AA0BzD,aAAO,UAAU,SAAS,SAAS,SAAS;AAC1C,YAAI,MAAM,KAAK,MAAM,gBAAgB,KAAK,CAAC;AAC3C,YAAI,KAAK,KAAK,OAAO;AACrB,kBAAU,WAAW,CAAC;AAEtB,YAAI;AAAI,cAAI,KAAK;AAEjB,iBAAS,SAAS,SAAS;AACzB,cAAI,QAAQ,KAAK,UAAU,OAAO,KAAK,MAAM,oBAAoB,KAAK,IAAI,KAAK,OAAO;AACtF,cAAI,SAAS;AAAM;AACnB,cAAI,QAAQ,UAAU;AACtB,iBAAO,IAAI;AAAA,QACb;AAEA,eAAO;AAAA,MACT;AAUA,aAAO,UAAU,UAAU,WAAW;AACpC,YAAI,UAAU,KAAK,MAAM,iBAAiB;AAC1C,YAAI,CAAC;AAAS,iBAAO,EAAE,MAAM,WAAW,SAAS,KAAK;AACtD,YAAI,OAAO,YAAY;AAAU,iBAAO,EAAE,MAAM,SAAS,SAAS,KAAK;AACvE,eAAO;AAAA,MACT;AAUA,aAAO,UAAU,SAAS,WAAW;AACnC,YAAI,SAAS,KAAK,MAAM,gBAAgB;AACxC,YAAI,KAAK,MAAM,MAAM;AAAU,mBAAS,CAAC;AACzC,YAAI,UAAU,KAAK,QAAQ,EAAE;AAC7B,YAAI,OAAO;AAAM,iBAAO;AAExB,YAAI,QAAQ,QAAQ,KAAK,IAAI;AAAI,iBAAO,OAAO;AAC/C,YAAI,QAAQ,QAAQ,SAAS,IAAI;AAAI,iBAAO,OAAO;AACnD,eAAO;AAAA,MACT;AAWA,aAAO,UAAU,YAAY,OAAO,MAAM,mBAAmB;AAW7D,aAAO,UAAU,WAAW,OAAO,MAAM,kBAAkB;AAQ3D,aAAO,UAAU,YAAY,OAAO,MAAM,WAAW;AAWrD,aAAO,UAAU,UAAU,OAAO,MAAM,SAAS;AAWjD,aAAO,UAAU,KAAK,OAAO,MAAM,YAAY;AAW/C,aAAO,UAAU,SAAS,OAAO,MAAM,QAAQ;AAgF/C,cAAQ,OAAO,SAAS;AASxB,yBAAmB,KAAK;AACtB,eAAO,MAAM,GAAG;AAAA,MAClB;AAEA,aAAO,UAAU;AAAA;AAAA;;;AC/hBjB;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,SAAS;AAYb,qBAAe,YAAY,MAAM;AAC/B,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,OAAO,MAAM;AAOrB,YAAM,UAAU,SAAS,WAAW;AAClC,eAAO;AAAA,MACT;AAQA,YAAM,UAAU,OAAO,MAAM,UAAU;AAUvC,YAAM,UAAU,aAAa,WAAW;AACtC,eAAO,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM,MAAM;AAAA,MACtD;AAQA,YAAM,UAAU,OAAO,MAAM,UAAU;AAUvC,YAAM,UAAU,SAAS,WAAW;AAClC,eAAO,KAAK,MAAM,QAAQ,KAAK,KAAK,MAAM,IAAI;AAAA,MAChD;AAQA,YAAM,UAAU,KAAK,MAAM,UAAU;AAErC,aAAO,UAAU;AAAA;AAAA;;;AC9EjB;AAAA;AACA,aAAO,UAAU,iBAAkB,QAAQ;AACvC,eAAQ,aAAc,KAAK,MAAM;AAAA,MACrC;AAAA;AAAA;;;ACHA;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,UAAU;AACd,UAAI,UAAU;AACd,UAAI,SAAS;AAab,qBAAe,YAAY,MAAM;AAC/B,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,OAAO,MAAM;AAOrB,YAAM,UAAU,SAAS,WAAW;AAClC,eAAO;AAAA,MACT;AAQA,YAAM,UAAU,OAAO,MAAM,UAAU;AAUvC,YAAM,UAAU,UAAU,OAAO,MAAM,SAAS;AAQhD,YAAM,UAAU,UAAU,WAAW;AACnC,YAAI,UAAU,KAAK,MAAM,kBAAkB,KACtC,KAAK,MAAM,gBAAgB,KAC3B,KAAK,MAAM,sBAAsB,KACjC,KAAK,MAAM,oBAAoB;AAEpC,YAAI;AAAS,iBAAO,QAAQ,OAAO;AAAA,MACrC;AAQA,YAAM,UAAU,QAAQ,WAAW;AACjC,YAAI,QAAQ,KAAK,MAAM,cAAc;AACrC,YAAI;AAAO,iBAAO;AAClB,YAAI,UAAU,KAAK,QAAQ;AAC3B,YAAI,QAAQ,OAAO;AAAG,iBAAO;AAAA,MAC/B;AA0BA,YAAM,UAAU,SAAS,SAAS,SAAS;AACzC,YAAI,MAAM,KAAK,WAAW;AAC1B,YAAI,KAAK,KAAK,QAAQ;AACtB,kBAAU,WAAW,CAAC;AAEtB,YAAI;AAAI,cAAI,KAAK;AAEjB,iBAAS,SAAS,SAAS;AACzB,cAAI,QAAQ,KAAK,UAAU,OAAO,KAAK,MAAM,YAAY,KAAK,IAAI,KAAK,OAAO;AAC9E,cAAI,SAAS;AAAM;AACnB,cAAI,QAAQ,UAAU;AACtB,iBAAO,IAAI;AAAA,QACb;AAEA,eAAO;AAAA,MACT;AAWA,YAAM,UAAU,OAAO,OAAO,MAAM,aAAa;AAWjD,YAAM,UAAU,WAAW,OAAO,MAAM,iBAAiB;AAWzD,YAAM,UAAU,YAAY,OAAO,MAAM,kBAAkB;AAQ3D,YAAM,UAAU,aAAa,WAAW;AAEtC,eAAO,KAAK,MAAM,QAAQ,KAAK,KAAK,MAAM,YAAY,KAAK,CAAC;AAAA,MAC9D;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACpKjB;AAAA;AAAA,gBAAU,OAAO,UAAU;AAE3B,oBAAc,KAAI;AAChB,YAAI,IAAI;AAAM,iBAAO,IAAI,KAAK;AAC9B,eAAO,QAAQ,MAAM,QAAQ,KAAK,GAAG,CAAC;AAAA,MACxC;AAEA,cAAQ,OAAO,SAAS,KAAI;AAC1B,YAAI,IAAI;AAAU,iBAAO,IAAI,SAAS;AAEtC,eAAO,IAAI,QAAQ,UAAU,EAAE;AAAA,MACjC;AAEA,cAAQ,QAAQ,SAAS,KAAI;AAC3B,YAAI,IAAI;AAAW,iBAAO,IAAI,UAAU;AAExC,YAAI,qBAAqB,MACrB,IAAI,IAAI;AACZ,eAAO,mBAAmB,KAAK,IAAI,OAAO,EAAE,CAAC,CAAC;AAAE;AAEhD,eAAO,IAAI,MAAM,GAAG,IAAI,CAAC;AAAA,MAC3B;AAAA;AAAA;;;ACrBA;AAAA;AAAA;AAEA,UAAI,SAAS;AACb,UAAI,MAAM;AACV,UAAI,UAAU,gBAAmB;AACjC,UAAI,UAAU;AACd,UAAI,UAAU;AACd,UAAI,OAAO;AACX,UAAI,OAAO,gBAAmB;AAa9B,wBAAkB,YAAY,MAAM;AAClC,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,UAAU,MAAM;AAOxB,eAAS,UAAU,SAAS,WAAW;AACrC,eAAO;AAAA,MACT;AAQA,eAAS,UAAU,OAAO,SAAS,UAAU;AA0B7C,eAAS,UAAU,SAAS,SAAS,SAAS;AAC5C,YAAI,MAAM,KAAK,MAAM,QAAQ,KAAK,CAAC;AACnC,YAAI,KAAK,KAAK,OAAO;AACrB,kBAAU,WAAW,CAAC;AAEtB,YAAI;AAAI,cAAI,KAAK;AAEjB,iBAAS,SAAS,SAAS;AACzB,cAAI,QAAQ,KAAK,UAAU,OAAO,KAAK,MAAM,YAAY,KAAK,IAAI,KAAK,OAAO;AAC9E,cAAI,SAAS;AAAM;AACnB,cAAI,QAAQ,UAAU;AACtB,cAAI,UAAU,QAAQ;AAAQ,mBAAO,IAAI;AAAA,QAC3C;AAEA,eAAO;AAAA,MACT;AAWA,eAAS,UAAU,QAAQ,WAAW;AACpC,YAAI,QAAQ,KAAK,MAAM,cAAc;AACrC,YAAI;AAAO,iBAAO;AAElB,YAAI,SAAS,KAAK,OAAO;AACzB,YAAI,QAAQ,MAAM;AAAG,iBAAO;AAAA,MAC9B;AAQA,eAAS,UAAU,UAAU,WAAW;AACtC,YAAI,UAAU,KAAK,MAAM,gBAAgB,KAAK,KAAK,MAAM,kBAAkB;AAC3E,YAAI;AAAS,iBAAO,QAAQ,OAAO;AAAA,MACrC;AAQA,eAAS,UAAU,iBAAiB,WAAW;AAC7C,YAAI,UAAU,KAAK,MAAM,wBAAwB,KAAK,KAAK,MAAM,0BAA0B;AAE3F,YAAI,SAAS;AACX,iBAAO,QAAQ,OAAO;AAAA,QACxB;AAAA,MACF;AAUA,eAAS,UAAU,cAAc,WAAW;AAC1C,eAAO,KAAK,MAAM,qBAAqB;AAAA,MACzC;AAWA,eAAS,UAAU,OAAO,WAAW;AACnC,YAAI,QAAO,KAAK,MAAM,aAAa;AACnC,YAAI,OAAO,UAAS,UAAU;AAC5B,iBAAO,KAAK,KAAI;AAAA,QAClB;AAEA,YAAI,YAAY,KAAK,UAAU;AAC/B,YAAI,WAAW,KAAK,SAAS;AAC7B,YAAI,aAAa,UAAU;AACzB,iBAAO,KAAK,YAAY,MAAM,QAAQ;AAAA,QACxC;AAAA,MACF;AAcA,eAAS,UAAU,YAAY,WAAW;AACxC,YAAI,YAAY,KAAK,MAAM,kBAAkB;AAC7C,YAAI,OAAO,cAAc,UAAU;AACjC,iBAAO,KAAK,SAAS;AAAA,QACvB;AAEA,YAAI,QAAO,KAAK,MAAM,aAAa;AACnC,YAAI,OAAO,UAAS,UAAU;AAC5B,iBAAO,KAAK,KAAI,EAAE,MAAM,GAAG,EAAE;AAAA,QAC/B;AAAA,MACF;AAcA,eAAS,UAAU,WAAW,WAAW;AACvC,YAAI,WAAW,KAAK,MAAM,iBAAiB;AAC3C,YAAI,OAAO,aAAa,UAAU;AAChC,iBAAO,KAAK,QAAQ;AAAA,QACtB;AAEA,YAAI,QAAO,KAAK,MAAM,aAAa;AACnC,YAAI,OAAO,UAAS,UAAU;AAC5B;AAAA,QACF;AAEA,YAAI,QAAQ,KAAK,KAAI,EAAE,QAAQ,GAAG;AAClC,YAAI,UAAU,IAAI;AAChB;AAAA,QACF;AAEA,eAAO,KAAK,MAAK,OAAO,QAAQ,CAAC,CAAC;AAAA,MACpC;AAWA,eAAS,UAAU,MAAM,WAAW;AAClC,eAAO,KAAK,OAAO,KAAK,KAAK,SAAS,KAAK,KAAK,MAAM;AAAA,MACxD;AAUA,eAAS,UAAU,cAAc,WAAW;AAC1C,eAAO,KAAK,MAAM,oBAAoB,KAAK,KAAK,MAAM,mBAAmB;AAAA,MAC3E;AAQA,eAAS,UAAU,MAAM,WAAW;AAClC,YAAI,OAAO,KAAK,SAAS;AACzB,YAAI,MAAM,IAAI,KAAK,OAAO,GAAG,KAAK;AAClC,YAAI,OAAO;AAAM,iBAAO;AACxB,YAAI,KAAK,IAAI,MAAM;AAAQ;AAC3B,YAAI,MAAM,IAAI,KAAK;AACnB,eAAO,IAAI,YAAY,IAAI,KAAK,YAAY;AAAA,MAC9C;AAWA,eAAS,UAAU,SAAS,WAAW;AACrC,YAAI,SAAS,KAAK,OAAO;AACzB,eAAO,IAAI,QAAQ,QAAQ,KAAK,IAAI,QAAQ,UAAU,KAAK,IAAI,QAAQ,WAAW;AAAA,MACpF;AAUA,eAAS,UAAU,WAAW,WAAW;AACvC,YAAI,SAAS,KAAK,OAAO;AACzB,eAAO,IAAI,QAAQ,UAAU,KAAK,IAAI,QAAQ,UAAU;AAAA,MAC1D;AAWA,eAAS,UAAU,WAAW,OAAO,MAAM,iBAAiB;AAY5D,eAAS,UAAU,UAAU,OAAO,IAAI,gBAAgB;AAYxD,eAAS,UAAU,WAAW,OAAO,MAAM,gBAAgB;AAY3D,eAAS,UAAU,QAAQ,OAAO,IAAI,cAAc;AAYpD,eAAS,UAAU,SAAS,OAAO,MAAM,cAAc;AAWvD,eAAS,UAAU,UAAU,OAAO,MAAM,gBAAgB;AAW1D,eAAS,UAAU,SAAS,OAAO,MAAM,eAAe;AAaxD,eAAS,UAAU,WAAW,OAAO,MAAM,iBAAiB;AAE5D,aAAO,UAAU;AAAA;AAAA;;;ACzXjB;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,OAAO,gBAAmB;AAC9B,UAAI,SAAS;AACb,UAAI,WAAW;AACf,UAAI,UAAU;AACd,UAAI,MAAM;AAcV,qBAAe,YAAY,MAAM;AAC/B,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,OAAO,MAAM;AAOrB,YAAM,UAAU,SAAS,WAAW;AAClC,eAAO;AAAA,MACT;AAQA,YAAM,UAAU,OAAO,MAAM,UAAU;AAWvC,YAAM,UAAU,QAAQ,OAAO,MAAM,OAAO;AAW5C,YAAM,UAAU,QAAQ,OAAO,MAAM,kBAAkB;AAWvD,YAAM,UAAU,WAAW,OAAO,MAAM,qBAAqB;AAW7D,YAAM,UAAU,KAAK,OAAO,MAAM,eAAe;AAUjD,YAAM,UAAU,YAAY,WAAW;AACrC,eAAO,KAAK,MAAM,uBAAuB,KAAK,KAAK,MAAM,sBAAsB;AAAA,MACjF;AAUA,YAAM,UAAU,cAAc,WAAW;AACvC,eAAO,KAAK,MAAM,yBAAyB,KAAK,KAAK,MAAM,wBAAwB;AAAA,MACrF;AAUA,YAAM,UAAU,SAAS,WAAW;AAClC,eAAO,KAAK,MAAM,oBAAoB,KAAK,KAAK,MAAM,mBAAmB;AAAA,MAC3E;AAUA,YAAM,UAAU,aAAa,WAAW;AACtC,eAAO,KAAK,MAAM,wBAAwB,KAAK,KAAK,MAAM,uBAAuB;AAAA,MACnF;AAUA,YAAM,UAAU,YAAY,WAAW;AACrC,eAAO,KAAK,MAAM,uBAAuB,KAAK,KAAK,MAAM,sBAAsB;AAAA,MACjF;AAUA,YAAM,UAAU,WAAW,WAAW;AACpC,eAAO,KAAK,MAAM,sBAAsB,KAAK,KAAK,MAAM,qBAAqB;AAAA,MAC/E;AAUA,YAAM,UAAU,aAAa,WAAW;AACtC,eAAO,KAAK,MAAM,wBAAwB,KAAK,KAAK,MAAM,uBAAuB;AAAA,MACnF;AAUA,YAAM,UAAU,WAAW,WAAW;AACpC,eAAO,KAAK,MAAM,sBAAsB,KAAK,KAAK,MAAM,qBAAqB;AAAA,MAC/E;AAUA,YAAM,UAAU,UAAU,WAAW;AAEnC,eAAO,KAAK,MAAM,eAAe,KAC5B,KAAK,MAAM,qBAAqB,KAChC,KAAK,MAAM,oBAAoB;AAAA,MACtC;AAWA,YAAM,UAAU,MAAM,OAAO,MAAM,gBAAgB;AAWnD,YAAM,UAAU,MAAM,OAAO,MAAM,gBAAgB;AAWnD,YAAM,UAAU,OAAO,OAAO,MAAM,iBAAiB;AAWrD,YAAM,UAAU,QAAQ,OAAO,MAAM,kBAAkB;AAWvD,YAAM,UAAU,QAAQ,OAAO,MAAM,kBAAkB;AAWvD,YAAM,UAAU,SAAS,OAAO,MAAM,mBAAmB;AAWzD,YAAM,UAAU,SAAS,OAAO,MAAM,mBAAmB;AAWzD,YAAM,UAAU,WAAW,OAAO,MAAM,qBAAqB;AAW7D,YAAM,UAAU,WAAW,OAAO,MAAM,qBAAqB;AAU7D,YAAM,UAAU,iBAAiB,WAAW;AAC1C,eAAO,KAAK,MAAM,4BAA4B,KAAK,KAAK,MAAM,2BAA2B;AAAA,MAC3F;AAUA,YAAM,UAAU,gBAAgB,WAAW;AACzC,eAAO,KAAK,MAAM,2BAA2B,KAAK,KAAK,MAAM,0BAA0B;AAAA,MACzF;AAWA,YAAM,UAAU,cAAc,OAAO,MAAM,wBAAwB;AAYnE,YAAM,UAAU,OAAO,OAAO,MAAM,iBAAiB;AAarD,YAAM,UAAU,WAAW,WAAW;AACpC,YAAI,WAAW,IAAI,KAAK,WAAW,GAAG,UAAU;AAChD,YAAI,QAAQ,KAAK,MAAM,KAAK,KAAK,QAAQ;AAEzC,YAAI;AAAU,iBAAO;AACrB,YAAI,CAAC;AAAO,iBAAO;AAEnB,YAAI,KAAK,MAAM,GAAG;AAChB,cAAI,IAAI,KAAK,IAAI;AACjB,cAAI;AAAG,qBAAS;AAChB,cAAI,KAAK,SAAS;AAClB,cAAI;AAAG,qBAAS;AAChB,cAAI,KAAK,SAAS;AAClB,cAAI;AAAG,qBAAS;AAAA,QAClB;AAEA,eAAO;AAAA,MACT;AAQA,YAAM,UAAU,WAAW,WAAW;AACpC,YAAI,QAAQ,KAAK,WAAW;AAC5B,YAAI,WAAW,IAAI,OAAO,UAAU;AACpC,eAAO,KAAK,QAAQ,MAAM,UAAU,WAAW,CAAC;AAAA,MAClD;AAQA,YAAM,UAAU,WAAW,WAAW;AACpC,YAAI,QAAQ,KAAK,IAAI,cAAc,CAAC;AACpC,eAAO,MAAM,YAAY;AAAA,MAC3B;AAQA,YAAM,UAAU,WAAW,WAAW;AACpC,YAAI,QAAQ,KAAK,IAAI,cAAc,CAAC;AACpC,eAAO,MAAM,YAAY;AAAA,MAC3B;AAWA,YAAM,UAAU,WAAW,WAAW;AAEpC,eAAO,KAAK,MAAM,sBAAsB,KACnC,KAAK,MAAM,uBAAuB,KAClC,KAAK,MAAM,qBAAqB;AAAA,MACvC;AAWA,YAAM,UAAU,QAAQ,OAAO,MAAM,eAAe;AAyBpD,YAAM,UAAU,aAAa,SAAS,SAAS;AAC7C,YAAI,MAAM,KAAK,MAAM,YAAY,KAAK,CAAC;AACvC,kBAAU,WAAW,CAAC;AAEtB,iBAAS,SAAS,SAAS;AACzB,cAAI,QAAQ,KAAK,UAAU,OAAO,KAAK,MAAM,gBAAgB,KAAK,IAAI,KAAK,OAAO;AAClF,cAAI,SAAS;AAAM;AACnB,cAAI,QAAQ,UAAU;AACtB,iBAAO,IAAI;AAAA,QACb;AAEA,eAAO;AAAA,MACT;AAWA,YAAM,UAAU,WAAW,WAAW;AACpC,eAAO,KAAK,MAAM,iBAAiB,KAC9B,KAAK,MAAM,qBAAqB,KAChC,KAAK,OAAO,KACZ,KAAK,UAAU;AAAA,MACtB;AAYA,YAAM,UAAU,QAAQ,WAAW;AACjC,YAAI,QAAQ,KAAK,MAAM,cAAc,KAChC,KAAK,MAAM,kBAAkB,KAC7B,KAAK,MAAM,sBAAsB;AACtC,YAAI;AAAO,iBAAO;AAElB,YAAI,SAAS,KAAK,OAAO;AACzB,YAAI,QAAQ,MAAM;AAAG,iBAAO;AAAA,MAC9B;AAcA,YAAM,UAAU,UAAU,WAAW;AACnC,YAAI,UAAU,KAAK,MAAM,oBAAoB;AAC7C,YAAI,QAAQ,KAAK,MAAM;AACvB,YAAI,uBAAuB;AAG3B,YAAI,CAAC,WAAW,SAAS,MAAM,MAAM,oBAAoB,GAAG;AAC1D,oBAAU,KAAK,MAAM,kBAAkB;AAAA,QACzC;AAEA,eAAO,SAAS,OAAO;AAAA,MACzB;AASA,YAAM,UAAU,QAAQ,WAAW;AACjC,YAAI,UAAU,KAAK,QAAQ;AAC3B,eAAO,OAAO,YAAY,WAAW,KAAK,MAAM,KAAK,IAAI,UAAU;AAAA,MACrE;AAWA,YAAM,UAAU,WAAW,WAAW;AAEpC,YAAI,OAAO,KAAK,KAAK;AACrB,aAAK,SAAS,KAAK,OAAO;AAC1B,eAAO,IAAI,SAAS,MAAM,KAAK,IAAI;AAAA,MACrC;AASA,wBAAkB,KAAK;AACrB,YAAI,CAAC;AAAK;AACV,YAAI,OAAO,QAAQ,UAAU;AAC3B,iBAAO;AAAA,QACT;AACA,YAAI,OAAO,QAAQ,UAAU;AAC3B;AAAA,QACF;AAEA,cAAM,IAAI,QAAQ,OAAO,EAAE;AAC3B,cAAM,WAAW,GAAG;AAEpB,YAAI,CAAC,MAAM,GAAG,GAAG;AACf,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,aAAO,UAAU;AAAA;AAAA;;;AC1kBjB;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,UAAU;AAad,oBAAc,YAAY,MAAM;AAC9B,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,MAAM,MAAM;AAOpB,WAAK,UAAU,SAAS,WAAW;AACjC,eAAO;AAAA,MACT;AAQA,WAAK,UAAU,OAAO,KAAK,UAAU;AAUrC,WAAK,UAAU,WAAW,OAAO,MAAM,UAAU;AAUjD,WAAK,UAAU,OAAO,OAAO,MAAM,MAAM;AAUzC,WAAK,UAAU,QAAQ,OAAO,MAAM,kBAAkB;AAUtD,WAAK,UAAU,OAAO,OAAO,MAAM,iBAAiB;AAUpD,WAAK,UAAU,MAAM,OAAO,MAAM,gBAAgB;AAWlD,WAAK,UAAU,WAAW,WAAW;AACnC,eAAO,KAAK,MAAM,sBAAsB,KACnC,KAAK,MAAM,uBAAuB,KAClC,KAAK,MAAM,qBAAqB;AAAA,MACvC;AA0BA,WAAK,UAAU,aAAa,SAAS,SAAS;AAC5C,YAAI,QAAQ,KAAK,MAAM,YAAY,KAAK,CAAC;AACzC,YAAI,WAAW,KAAK,SAAS;AAC7B,YAAI,QAAO,KAAK,KAAK;AACrB,kBAAU,WAAW,CAAC;AAEtB,YAAI;AAAU,gBAAM,WAAW;AAC/B,YAAI;AAAM,gBAAM,OAAO;AAEvB,iBAAS,SAAS,SAAS;AACzB,cAAI,QAAQ,KAAK,UAAU,OACvB,KAAK,MAAM,gBAAgB,KAAK,IAChC,KAAK,OAAO;AAChB,cAAI,SAAS;AAAM;AACnB,gBAAM,QAAQ,UAAU;AACxB,cAAI,UAAU,QAAQ;AAAQ,mBAAO,MAAM;AAAA,QAC7C;AAEA,eAAO;AAAA,MACT;AAWA,WAAK,UAAU,QAAQ,WAAW;AAChC,YAAI,QAAQ,KAAK,MAAM,sBAAsB,KAAK,KAAK,MAAM,kBAAkB;AAC/E,YAAI;AAAO,iBAAO;AAElB,YAAI,SAAS,KAAK,OAAO;AACzB,YAAI,QAAQ,MAAM;AAAG,iBAAO;AAAA,MAC9B;AAWA,WAAK,UAAU,WAAW,WAAW;AACnC,YAAI,WAAW,KAAK,SAAS;AAC7B,YAAI,QAAO,KAAK,KAAK;AACrB,eAAO,SAAQ,WACX,WAAW,MAAM,QACjB;AAAA,MACN;AASA,WAAK,UAAU,QAAQ,SAAS,OAAM;AACpC,eAAO,QACH,YAAY,QAAO,UACnB;AAAA,MACN;AASA,WAAK,UAAU,QAAQ,SAAS,OAAM;AACpC,YAAI,OAAO,KAAK,KAAK;AACrB,aAAK,QAAQ,KAAK,MAAM,KAAI;AAC5B,aAAK,YAAY,KAAK,UAAU;AAChC,aAAK,aAAa,KAAK,WAAW;AAClC,eAAO,IAAI,MAAM,MAAM,KAAK,IAAI;AAAA,MAClC;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACrNjB;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,OAAO;AACX,UAAI,QAAQ;AAgBZ,sBAAgB,YAAY,MAAM;AAChC,aAAK,KAAK,MAAM,YAAY,IAAI;AAAA,MAClC;AAEA,cAAQ,QAAQ,IAAI;AAOpB,aAAO,UAAU,SAAS,WAAW;AACnC,eAAO;AAAA,MACT;AAQA,aAAO,UAAU,OAAO,OAAO,UAAU;AASzC,aAAO,UAAU,QAAQ,SAAS,OAAM;AACtC,eAAO,QAAO,YAAY,QAAO,YAAY;AAAA,MAC/C;AASA,aAAO,UAAU,QAAQ,SAAS,OAAM;AACtC,YAAI,OAAO,KAAK,KAAK;AACrB,aAAK,QAAQ,KAAK,MAAM,KAAI;AAC5B,aAAK,YAAY,KAAK,UAAU;AAChC,aAAK,aAAa,KAAK,WAAW;AAClC,eAAO,IAAI,MAAM,MAAM,KAAK,IAAI;AAAA,MAClC;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACrEjB;AAAA;AAAA;AAEA,UAAI,UAAU,gBAAmB;AACjC,UAAI,SAAS;AAab,sBAAgB,YAAY,MAAM;AAChC,eAAO,KAAK,MAAM,YAAY,IAAI;AAAA,MACpC;AAEA,cAAQ,QAAQ,MAAM;AAOtB,aAAO,UAAU,OAAO,WAAW;AACjC,eAAO;AAAA,MACT;AAEA,aAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA;AAEA,UAAI,SAAS;AAEb,aAAO,QAAQ;AACf,aAAO,QAAQ;AACf,aAAO,WAAW;AAClB,aAAO,QAAQ;AACf,aAAO,OAAO;AACd,aAAO,SAAS;AAChB,aAAO,SAAS;AAEhB,aAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAKA,UAAI,OAAO,WAAW,aAAa;AACjC,eAAO,UAAU;AAAA,MACnB;AAQA,uBAAiB,KAAK;AACpB,YAAI;AAAK,iBAAO,MAAM,GAAG;AAAA,MAC3B;AAUA,qBAAe,KAAK;AAClB,iBAAS,OAAO,QAAQ,WAAW;AACjC,cAAI,OAAO,QAAQ,UAAU;AAAA,QAC/B;AACA,eAAO;AAAA,MACT;AAWA,cAAQ,UAAU,KAClB,QAAQ,UAAU,mBAAmB,SAAS,OAAO,IAAG;AACtD,aAAK,aAAa,KAAK,cAAc,CAAC;AACtC,QAAC,MAAK,WAAW,MAAM,SAAS,KAAK,WAAW,MAAM,UAAU,CAAC,GAC9D,KAAK,EAAE;AACV,eAAO;AAAA,MACT;AAYA,cAAQ,UAAU,OAAO,SAAS,OAAO,IAAG;AAC1C,sBAAc;AACZ,eAAK,IAAI,OAAO,EAAE;AAClB,aAAG,MAAM,MAAM,SAAS;AAAA,QAC1B;AAEA,WAAG,KAAK;AACR,aAAK,GAAG,OAAO,EAAE;AACjB,eAAO;AAAA,MACT;AAYA,cAAQ,UAAU,MAClB,QAAQ,UAAU,iBAClB,QAAQ,UAAU,qBAClB,QAAQ,UAAU,sBAAsB,SAAS,OAAO,IAAG;AACzD,aAAK,aAAa,KAAK,cAAc,CAAC;AAGtC,YAAI,AAAK,UAAU,UAAf,GAAuB;AACzB,eAAK,aAAa,CAAC;AACnB,iBAAO;AAAA,QACT;AAGA,YAAI,YAAY,KAAK,WAAW,MAAM;AACtC,YAAI,CAAC;AAAW,iBAAO;AAGvB,YAAI,AAAK,UAAU,UAAf,GAAuB;AACzB,iBAAO,KAAK,WAAW,MAAM;AAC7B,iBAAO;AAAA,QACT;AAGA,YAAI;AACJ,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,eAAK,UAAU;AACf,cAAI,OAAO,MAAM,GAAG,OAAO,IAAI;AAC7B,sBAAU,OAAO,GAAG,CAAC;AACrB;AAAA,UACF;AAAA,QACF;AAIA,YAAI,UAAU,WAAW,GAAG;AAC1B,iBAAO,KAAK,WAAW,MAAM;AAAA,QAC/B;AAEA,eAAO;AAAA,MACT;AAUA,cAAQ,UAAU,OAAO,SAAS,OAAM;AACtC,aAAK,aAAa,KAAK,cAAc,CAAC;AAEtC,YAAI,OAAO,IAAI,MAAM,UAAU,SAAS,CAAC,GACrC,YAAY,KAAK,WAAW,MAAM;AAEtC,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,eAAK,IAAI,KAAK,UAAU;AAAA,QAC1B;AAEA,YAAI,WAAW;AACb,sBAAY,UAAU,MAAM,CAAC;AAC7B,mBAAS,IAAI,GAAG,MAAM,UAAU,QAAQ,IAAI,KAAK,EAAE,GAAG;AACpD,sBAAU,GAAG,MAAM,MAAM,IAAI;AAAA,UAC/B;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAUA,cAAQ,UAAU,YAAY,SAAS,OAAM;AAC3C,aAAK,aAAa,KAAK,cAAc,CAAC;AACtC,eAAO,KAAK,WAAW,MAAM,UAAU,CAAC;AAAA,MAC1C;AAUA,cAAQ,UAAU,eAAe,SAAS,OAAM;AAC9C,eAAO,CAAC,CAAE,KAAK,UAAU,KAAK,EAAE;AAAA,MAClC;AAAA;AAAA;;;AC9KA;AAAA;AAAA;AACA,UAAI,SAAS;AACb,aAAO,QAAQ,wBAAwB,iCAAiC;AACpE,YAAI,QAAQ,gBAAgB,IAAI;AAChC,aAAK,mBAAmB,SAAU,QAAQ,eAAc,UAAU;AAC9D,iBAAO,MAAM,SAAU,IAAI,SAAS,MAAM;AACtC,eAAG;AAAA,cACC,cAAc;AAAA,cACd;AAAA,cACA;AAAA,YACJ,CAAC;AAAA,UACL,GAAG,QAAQ,QAAQ;AAAA,QACvB;AAAA,MACJ;AACA,aAAO,QAAQ,6BAA6B,sCAAsC;AAC9E,YAAI,QAAQ,gBAAgB,IAAI;AAChC,aAAK,mBAAmB,SAAU,QAAQ,aAAa,UAAU;AAC7D,iBAAO,MAAM,SAAU,IAAI,SAAS,MAAM;AACtC,eAAG,SAAS,aAAa,IAAI;AAAA,UACjC,GAAG,QAAQ,QAAQ;AAAA,QACvB;AAAA,MACJ;AACA,aAAO,QAAQ,6BAA6B,sCAAsC;AAC9E,YAAI,QAAQ,gBAAgB,IAAI;AAChC,aAAK,mBAAmB,SAAU,QAAQ,aAAa,UAAU;AAC7D,iBAAO,MAAM,SAAU,IAAI,SAAS,MAAM;AACtC,eAAG,EAAE,SAAkB,aAA0B,KAAW,CAAC;AAAA,UACjE,GAAG,QAAQ,QAAQ;AAAA,QACvB;AAAA,MACJ;AAEA,+BAAyB,MAAM;AAC3B,YAAI,cAAc,CAAC;AAEnB,aAAK,iBAAiB,WAAY;AAC9B,iBAAO,YAAY,MAAM;AAAA,QAC7B;AACA,aAAK,MAAM,SAAU,YAAY;AAC7B,cAAI,OAAO,eAAe;AACtB,kBAAM,IAAI,MAAM,0CAA0C;AAE9D,cAAI,YAAY,QAAQ,UAAU,MAAM;AACpC,kBAAM,IAAI,MAAM,kCAAkC;AACtD,sBAAY,KAAK,UAAU;AAAA,QAC/B;AAEA,eAAO,0BAA0B,KAAK,QAAQ,UAAU;AACpD,cAAI,OAAO,WAAW;AAClB,kBAAM,IAAI,MAAM,4CAA4C;AAChE,cAAI,OAAO,aAAa;AACpB,kBAAM,IAAI,MAAM,+CAA+C;AAEnE,cAAI,qBAAqB,YAAY,MAAM;AAC3C,6BAAmB,KAAK,QAAQ;AAChC,uBAAa,KAAK,QAAQ,oBAAoB,CAAC;AAAA,QACnD;AAAA,MACJ;AAEA,4BAAsB,KAAK,SAAS,aAAa,OAAO;AAEpD,YAAI,YAAY,MAAM;AAClB,sBAAY,YAAY,SAAS,GAAG,IAAI;AACxC;AAAA,QACJ;AAEA,YAAI,CAAE,oBAAmB,SAAS;AAC9B,oBAAU,IAAI,OAAO,OAAO;AAAA,QAChC;AACA,YAAI,KAAK,YAAY;AACrB,YAAI,IAAI;AAEJ,cAAI,YAAY,QAAQ,IAAI;AACxB,gBAAI,IAAI,SAAS,SAAU,QAAQ;AAC/B,2BAAa,KAAK,QAAQ,aAAa,EAAE,KAAK;AAAA,YAClD,CAAC;AAAA,UACL,OACK;AACD,eAAG,OAAO;AAAA,UACd;AAAA,QACJ;AAAA,MACJ;AACA,aAAO,QAAQ,kBAAkB;AAAA;AAAA;;;ACjFjC;AAAA;AAIA,UAAI,QAAQ,CAAC,EAAE;AAWf,aAAO,UAAU,SAAS,KAAK,IAAG;AAChC,YAAI,AAAY,OAAO,MAAnB;AAAuB,eAAK,IAAI;AACpC,YAAI,AAAc,OAAO,MAArB;AAAyB,gBAAM,IAAI,MAAM,4BAA4B;AACzE,YAAI,OAAO,MAAM,KAAK,WAAW,CAAC;AAClC,eAAO,WAAU;AACf,iBAAO,GAAG,MAAM,KAAK,KAAK,OAAO,MAAM,KAAK,SAAS,CAAC,CAAC;AAAA,QACzD;AAAA,MACF;AAAA;AAAA;;;ACtBA;AAAA;AAAA;AAEA,UAAI,OAAO;AAEX,uBAAiB,KAAK;AAEpB,iBAAS,OAAO,KAAK;AACnB,cAAI,MAAM,IAAI;AACd,cAAI,OAAO,QAAQ,YAAY;AAC7B,gBAAI,OAAO,KAAK,KAAK,IAAI,IAAI;AAAA,UAC/B;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA;AACA,UAAI,OAAO;AA0BX,UAAI,QAAQ,gBAAe,KAAK;AAC5B,YAAI,IAAI,KAAK,GAAG;AAChB,YAAI;AACJ,YAAI,MAAM,UAAU;AAChB,iBAAO,CAAC;AACR,mBAAS,OAAO,KAAK;AACjB,gBAAI,IAAI,eAAe,GAAG,GAAG;AACzB,mBAAK,OAAO,OAAM,IAAI,IAAI;AAAA,YAC9B;AAAA,UACJ;AACA,iBAAO;AAAA,QACX;AACA,YAAI,MAAM,SAAS;AACf,iBAAO,IAAI,MAAM,IAAI,MAAM;AAC3B,mBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AACxC,iBAAK,KAAK,OAAM,IAAI,EAAE;AAAA,UAC1B;AACA,iBAAO;AAAA,QACX;AACA,YAAI,MAAM,UAAU;AAEhB,cAAI,QAAQ;AACZ,mBAAS,IAAI,YAAY,MAAM;AAC/B,mBAAS,IAAI,SAAS,MAAM;AAC5B,mBAAS,IAAI,aAAa,MAAM;AAChC,iBAAO,IAAI,OAAO,IAAI,QAAQ,KAAK;AAAA,QACvC;AACA,YAAI,MAAM,QAAQ;AACd,iBAAO,IAAI,KAAK,IAAI,QAAQ,CAAC;AAAA,QACjC;AAEA,eAAO;AAAA,MACX;AACA,aAAO,UAAU;AAAA;AAAA;;;AC5DjB;AAAA;AAAA;AAEA,UAAI,SAAS,OAAO,UAAU;AAC9B,UAAI,QAAQ,OAAO,UAAU;AAC7B,UAAI,iBAAiB,OAAO;AAC5B,UAAI,OAAO,OAAO;AAElB,UAAI,UAAU,kBAAiB,KAAK;AACnC,YAAI,OAAO,MAAM,YAAY,YAAY;AACxC,iBAAO,MAAM,QAAQ,GAAG;AAAA,QACzB;AAEA,eAAO,MAAM,KAAK,GAAG,MAAM;AAAA,MAC5B;AAEA,UAAI,gBAAgB,wBAAuB,KAAK;AAC/C,YAAI,CAAC,OAAO,MAAM,KAAK,GAAG,MAAM,mBAAmB;AAClD,iBAAO;AAAA,QACR;AAEA,YAAI,oBAAoB,OAAO,KAAK,KAAK,aAAa;AACtD,YAAI,mBAAmB,IAAI,eAAe,IAAI,YAAY,aAAa,OAAO,KAAK,IAAI,YAAY,WAAW,eAAe;AAE7H,YAAI,IAAI,eAAe,CAAC,qBAAqB,CAAC,kBAAkB;AAC/D,iBAAO;AAAA,QACR;AAIA,YAAI;AACJ,aAAK,OAAO,KAAK;AAAA,QAAO;AAExB,eAAO,OAAO,QAAQ,eAAe,OAAO,KAAK,KAAK,GAAG;AAAA,MAC1D;AAGA,UAAI,cAAc,sBAAqB,QAAQ,SAAS;AACvD,YAAI,kBAAkB,QAAQ,SAAS,aAAa;AACnD,yBAAe,QAAQ,QAAQ,MAAM;AAAA,YACpC,YAAY;AAAA,YACZ,cAAc;AAAA,YACd,OAAO,QAAQ;AAAA,YACf,UAAU;AAAA,UACX,CAAC;AAAA,QACF,OAAO;AACN,iBAAO,QAAQ,QAAQ,QAAQ;AAAA,QAChC;AAAA,MACD;AAGA,UAAI,cAAc,sBAAqB,KAAK,OAAM;AACjD,YAAI,UAAS,aAAa;AACzB,cAAI,CAAC,OAAO,KAAK,KAAK,KAAI,GAAG;AAC5B,mBAAO;AAAA,UACR,WAAW,MAAM;AAGhB,mBAAO,KAAK,KAAK,KAAI,EAAE;AAAA,UACxB;AAAA,QACD;AAEA,eAAO,IAAI;AAAA,MACZ;AAEA,aAAO,UAAU,kBAAkB;AAClC,YAAI,SAAS,OAAM,KAAK,MAAM,aAAa;AAC3C,YAAI,SAAS,UAAU;AACvB,YAAI,IAAI;AACR,YAAI,SAAS,UAAU;AACvB,YAAI,OAAO;AAGX,YAAI,OAAO,WAAW,WAAW;AAChC,iBAAO;AACP,mBAAS,UAAU,MAAM,CAAC;AAE1B,cAAI;AAAA,QACL;AACA,YAAI,UAAU,QAAS,OAAO,WAAW,YAAY,OAAO,WAAW,YAAa;AACnF,mBAAS,CAAC;AAAA,QACX;AAEA,eAAO,IAAI,QAAQ,EAAE,GAAG;AACvB,oBAAU,UAAU;AAEpB,cAAI,WAAW,MAAM;AAEpB,iBAAK,SAAQ,SAAS;AACrB,oBAAM,YAAY,QAAQ,KAAI;AAC9B,qBAAO,YAAY,SAAS,KAAI;AAGhC,kBAAI,WAAW,MAAM;AAEpB,oBAAI,QAAQ,QAAS,eAAc,IAAI,KAAM,eAAc,QAAQ,IAAI,KAAK;AAC3E,sBAAI,aAAa;AAChB,kCAAc;AACd,4BAAQ,OAAO,QAAQ,GAAG,IAAI,MAAM,CAAC;AAAA,kBACtC,OAAO;AACN,4BAAQ,OAAO,cAAc,GAAG,IAAI,MAAM,CAAC;AAAA,kBAC5C;AAGA,8BAAY,QAAQ,EAAE,MAAM,OAAM,UAAU,OAAO,MAAM,OAAO,IAAI,EAAE,CAAC;AAAA,gBAGxE,WAAW,OAAO,SAAS,aAAa;AACvC,8BAAY,QAAQ,EAAE,MAAM,OAAM,UAAU,KAAK,CAAC;AAAA,gBACnD;AAAA,cACD;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAGA,eAAO;AAAA,MACR;AAAA;AAAA;;;ACpHA;AAAA;AAIA,UAAI,IAAI;AACR,UAAI,IAAI,IAAI;AACZ,UAAI,IAAI,IAAI;AACZ,UAAI,IAAI,IAAI;AACZ,UAAI,IAAI,IAAI;AAgBZ,aAAO,UAAU,SAAS,KAAK,SAAS;AACtC,kBAAU,WAAW,CAAC;AACtB,YAAI,OAAO,OAAO;AAClB,YAAI,SAAS,YAAY,IAAI,SAAS,GAAG;AACvC,iBAAO,MAAM,GAAG;AAAA,QAClB,WAAW,SAAS,YAAY,MAAM,GAAG,MAAM,OAAO;AACpD,iBAAO,QAAQ,OAAO,QAAQ,GAAG,IAAI,SAAS,GAAG;AAAA,QACnD;AACA,cAAM,IAAI,MACR,0DACE,KAAK,UAAU,GAAG,CACtB;AAAA,MACF;AAUA,qBAAe,KAAK;AAClB,cAAM,OAAO,GAAG;AAChB,YAAI,IAAI,SAAS,KAAK;AACpB;AAAA,QACF;AACA,YAAI,QAAQ,wHAAwH,KAClI,GACF;AACA,YAAI,CAAC,OAAO;AACV;AAAA,QACF;AACA,YAAI,IAAI,WAAW,MAAM,EAAE;AAC3B,YAAI,OAAQ,OAAM,MAAM,MAAM,YAAY;AAC1C,gBAAQ;AAAA,eACD;AAAA,eACA;AAAA,eACA;AAAA,eACA;AAAA,eACA;AACH,mBAAO,IAAI;AAAA,eACR;AAAA,eACA;AAAA,eACA;AACH,mBAAO,IAAI;AAAA,eACR;AAAA,eACA;AAAA,eACA;AAAA,eACA;AAAA,eACA;AACH,mBAAO,IAAI;AAAA,eACR;AAAA,eACA;AAAA,eACA;AAAA,eACA;AAAA,eACA;AACH,mBAAO,IAAI;AAAA,eACR;AAAA,eACA;AAAA,eACA;AAAA,eACA;AAAA,eACA;AACH,mBAAO,IAAI;AAAA,eACR;AAAA,eACA;AAAA,eACA;AAAA,eACA;AAAA,eACA;AACH,mBAAO;AAAA;AAEP,mBAAO;AAAA;AAAA,MAEb;AAUA,wBAAkB,IAAI;AACpB,YAAI,MAAM,GAAG;AACX,iBAAO,KAAK,MAAM,KAAK,CAAC,IAAI;AAAA,QAC9B;AACA,YAAI,MAAM,GAAG;AACX,iBAAO,KAAK,MAAM,KAAK,CAAC,IAAI;AAAA,QAC9B;AACA,YAAI,MAAM,GAAG;AACX,iBAAO,KAAK,MAAM,KAAK,CAAC,IAAI;AAAA,QAC9B;AACA,YAAI,MAAM,GAAG;AACX,iBAAO,KAAK,MAAM,KAAK,CAAC,IAAI;AAAA,QAC9B;AACA,eAAO,KAAK;AAAA,MACd;AAUA,uBAAiB,IAAI;AACnB,eAAO,OAAO,IAAI,GAAG,KAAK,KACxB,OAAO,IAAI,GAAG,MAAM,KACpB,OAAO,IAAI,GAAG,QAAQ,KACtB,OAAO,IAAI,GAAG,QAAQ,KACtB,KAAK;AAAA,MACT;AAMA,sBAAgB,IAAI,GAAG,OAAM;AAC3B,YAAI,KAAK,GAAG;AACV;AAAA,QACF;AACA,YAAI,KAAK,IAAI,KAAK;AAChB,iBAAO,KAAK,MAAM,KAAK,CAAC,IAAI,MAAM;AAAA,QACpC;AACA,eAAO,KAAK,KAAK,KAAK,CAAC,IAAI,MAAM,QAAO;AAAA,MAC1C;AAAA;AAAA;;;ACvJA;AAAA;AAQA,gBAAU,OAAO,UAAU,YAAY,QAAQ,YAAY,aAAa;AACxE,cAAQ,SAAS;AACjB,cAAQ,UAAU;AAClB,cAAQ,SAAS;AACjB,cAAQ,UAAU;AAClB,cAAQ,WAAW;AAMnB,cAAQ,QAAQ,CAAC;AACjB,cAAQ,QAAQ,CAAC;AAQjB,cAAQ,aAAa,CAAC;AAMtB,UAAI;AASJ,2BAAqB,WAAW;AAC9B,YAAI,OAAO,GAAG;AAEd,aAAK,KAAK,WAAW;AACnB,iBAAU,SAAQ,KAAK,OAAQ,UAAU,WAAW,CAAC;AACrD,kBAAQ;AAAA,QACV;AAEA,eAAO,QAAQ,OAAO,KAAK,IAAI,IAAI,IAAI,QAAQ,OAAO;AAAA,MACxD;AAUA,2BAAqB,WAAW;AAE9B,yBAAiB;AAEf,cAAI,CAAC,MAAM;AAAS;AAEpB,cAAI,QAAO;AAGX,cAAI,OAAO,CAAC,IAAI,KAAK;AACrB,cAAI,KAAK,OAAQ,aAAY;AAC7B,gBAAK,OAAO;AACZ,gBAAK,OAAO;AACZ,gBAAK,OAAO;AACZ,qBAAW;AAGX,cAAI,OAAO,IAAI,MAAM,UAAU,MAAM;AACrC,mBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,iBAAK,KAAK,UAAU;AAAA,UACtB;AAEA,eAAK,KAAK,QAAQ,OAAO,KAAK,EAAE;AAEhC,cAAI,AAAa,OAAO,KAAK,OAAzB,UAA6B;AAE/B,iBAAK,QAAQ,IAAI;AAAA,UACnB;AAGA,cAAI,QAAQ;AACZ,eAAK,KAAK,KAAK,GAAG,QAAQ,iBAAiB,SAAS,OAAO,QAAQ;AAEjE,gBAAI,UAAU;AAAM,qBAAO;AAC3B;AACA,gBAAI,YAAY,QAAQ,WAAW;AACnC,gBAAI,AAAe,OAAO,cAAtB,YAAiC;AACnC,kBAAI,MAAM,KAAK;AACf,sBAAQ,UAAU,KAAK,OAAM,GAAG;AAGhC,mBAAK,OAAO,OAAO,CAAC;AACpB;AAAA,YACF;AACA,mBAAO;AAAA,UACT,CAAC;AAGD,kBAAQ,WAAW,KAAK,OAAM,IAAI;AAElC,cAAI,QAAQ,MAAM,OAAO,QAAQ,OAAO,QAAQ,IAAI,KAAK,OAAO;AAChE,gBAAM,MAAM,OAAM,IAAI;AAAA,QACxB;AAEA,cAAM,YAAY;AAClB,cAAM,UAAU,QAAQ,QAAQ,SAAS;AACzC,cAAM,YAAY,QAAQ,UAAU;AACpC,cAAM,QAAQ,YAAY,SAAS;AAGnC,YAAI,AAAe,OAAO,QAAQ,SAA9B,YAAoC;AACtC,kBAAQ,KAAK,KAAK;AAAA,QACpB;AAEA,eAAO;AAAA,MACT;AAUA,sBAAgB,YAAY;AAC1B,gBAAQ,KAAK,UAAU;AAEvB,gBAAQ,QAAQ,CAAC;AACjB,gBAAQ,QAAQ,CAAC;AAEjB,YAAI,QAAS,QAAO,eAAe,WAAW,aAAa,IAAI,MAAM,QAAQ;AAC7E,YAAI,MAAM,MAAM;AAEhB,iBAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,cAAI,CAAC,MAAM;AAAI;AACf,uBAAa,MAAM,GAAG,QAAQ,OAAO,KAAK;AAC1C,cAAI,WAAW,OAAO,KAAK;AACzB,oBAAQ,MAAM,KAAK,IAAI,OAAO,MAAM,WAAW,OAAO,CAAC,IAAI,GAAG,CAAC;AAAA,UACjE,OAAO;AACL,oBAAQ,MAAM,KAAK,IAAI,OAAO,MAAM,aAAa,GAAG,CAAC;AAAA,UACvD;AAAA,QACF;AAAA,MACF;AAQA,yBAAmB;AACjB,gBAAQ,OAAO,EAAE;AAAA,MACnB;AAUA,uBAAiB,OAAM;AACrB,YAAI,GAAG;AACP,aAAK,IAAI,GAAG,MAAM,QAAQ,MAAM,QAAQ,IAAI,KAAK,KAAK;AACpD,cAAI,QAAQ,MAAM,GAAG,KAAK,KAAI,GAAG;AAC/B,mBAAO;AAAA,UACT;AAAA,QACF;AACA,aAAK,IAAI,GAAG,MAAM,QAAQ,MAAM,QAAQ,IAAI,KAAK,KAAK;AACpD,cAAI,QAAQ,MAAM,GAAG,KAAK,KAAI,GAAG;AAC/B,mBAAO;AAAA,UACT;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAUA,sBAAgB,KAAK;AACnB,YAAI,eAAe;AAAO,iBAAO,IAAI,SAAS,IAAI;AAClD,eAAO;AAAA,MACT;AAAA;AAAA;;;ACzMA;AAAA;AAMA,gBAAU,OAAO,UAAU;AAC3B,cAAQ,MAAM;AACd,cAAQ,aAAa;AACrB,cAAQ,OAAO;AACf,cAAQ,OAAO;AACf,cAAQ,YAAY;AACpB,cAAQ,UAAU,AAAe,OAAO,UAAtB,eACA,AAAe,OAAO,OAAO,WAA7B,cACE,OAAO,QAAQ,QACf,aAAa;AAMjC,cAAQ,SAAS;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAUA,2BAAqB;AAInB,YAAI,OAAO,WAAW,eAAe,OAAO,WAAW,OAAO,QAAQ,SAAS,YAAY;AACzF,iBAAO;AAAA,QACT;AAIA,eAAQ,OAAO,aAAa,eAAe,SAAS,mBAAmB,SAAS,gBAAgB,SAAS,SAAS,gBAAgB,MAAM,oBAErI,OAAO,WAAW,eAAe,OAAO,WAAY,QAAO,QAAQ,WAAY,OAAO,QAAQ,aAAa,OAAO,QAAQ,UAG1H,OAAO,cAAc,eAAe,UAAU,aAAa,UAAU,UAAU,YAAY,EAAE,MAAM,gBAAgB,KAAK,SAAS,OAAO,IAAI,EAAE,KAAK,MAEnJ,OAAO,cAAc,eAAe,UAAU,aAAa,UAAU,UAAU,YAAY,EAAE,MAAM,oBAAoB;AAAA,MAC5H;AAMA,cAAQ,WAAW,IAAI,SAAS,GAAG;AACjC,YAAI;AACF,iBAAO,KAAK,UAAU,CAAC;AAAA,QACzB,SAAS,KAAP;AACA,iBAAO,iCAAiC,IAAI;AAAA,QAC9C;AAAA,MACF;AASA,0BAAoB,MAAM;AACxB,YAAI,aAAY,KAAK;AAErB,aAAK,KAAM,cAAY,OAAO,MAC1B,KAAK,YACJ,cAAY,QAAQ,OACrB,KAAK,KACJ,cAAY,QAAQ,OACrB,MAAM,QAAQ,SAAS,KAAK,IAAI;AAEpC,YAAI,CAAC;AAAW;AAEhB,YAAI,IAAI,YAAY,KAAK;AACzB,aAAK,OAAO,GAAG,GAAG,GAAG,gBAAgB;AAKrC,YAAI,QAAQ;AACZ,YAAI,QAAQ;AACZ,aAAK,GAAG,QAAQ,eAAe,SAAS,OAAO;AAC7C,cAAI,AAAS,UAAT;AAAgB;AACpB;AACA,cAAI,AAAS,UAAT,MAAgB;AAGlB,oBAAQ;AAAA,UACV;AAAA,QACF,CAAC;AAED,aAAK,OAAO,OAAO,GAAG,CAAC;AAAA,MACzB;AASA,qBAAe;AAGb,eAAO,AAAa,OAAO,YAApB,YACF,QAAQ,OACR,SAAS,UAAU,MAAM,KAAK,QAAQ,KAAK,SAAS,SAAS;AAAA,MACpE;AASA,oBAAc,YAAY;AACxB,YAAI;AACF,cAAI,AAAQ,cAAR,MAAoB;AACtB,oBAAQ,QAAQ,WAAW,OAAO;AAAA,UACpC,OAAO;AACL,oBAAQ,QAAQ,QAAQ;AAAA,UAC1B;AAAA,QACF,SAAQ,GAAN;AAAA,QAAU;AAAA,MACd;AASA,sBAAgB;AACd,YAAI;AACJ,YAAI;AACF,cAAI,QAAQ,QAAQ;AAAA,QACtB,SAAQ,GAAN;AAAA,QAAU;AAGZ,YAAI,CAAC,KAAK,OAAO,YAAY,eAAe,SAAS,SAAS;AAC5D,cAAI,QAAQ,IAAI;AAAA,QAClB;AAEA,eAAO;AAAA,MACT;AAMA,cAAQ,OAAO,KAAK,CAAC;AAarB,8BAAwB;AACtB,YAAI;AACF,iBAAO,OAAO;AAAA,QAChB,SAAS,GAAP;AAAA,QAAW;AAAA,MACf;AAAA;AAAA;;;ACxLA;AAAA;AAAA;AAMA,UAAI,QAAQ,kBAAiB,QAAQ;AAYrC,aAAO,UAAU,SAAS,OAAM,OAAO,SAAS;AAC9C,gBAAQ,UAAU;AAAA,eACX;AAAA,eACA;AACH,mBAAO,IAAI,OAAM,OAAO,OAAO;AAAA,eAC5B;AACH,mBAAO,IAAI,KAAI;AAAA;AAEf,mBAAO,IAAI;AAAA;AAAA,MAEjB;AAWA,mBAAa,OAAM,OAAO,SAAS;AACjC,kBAAU,WAAW,CAAC;AACtB,YAAI,MAAM,OAAO,KAAI,IAAI,MAAM,OAAO,KAAK;AAE3C,YAAI,SAAS;AAAM,kBAAQ,SAAS;AAEpC,YAAI,QAAQ,QAAQ;AAClB,kBAAQ,UAAU,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,QAAQ,MAAM;AAAA,QACzD;AAEA,YAAI,QAAQ;AAAM,iBAAO,YAAY,QAAQ;AAC7C,YAAI,QAAQ;AAAQ,iBAAO,cAAc,QAAQ;AACjD,YAAI,QAAQ;AAAS,iBAAO,eAAe,QAAQ,QAAQ,YAAY;AACvE,YAAI,QAAQ;AAAU,iBAAO,gBAAgB,QAAQ;AACrD,YAAI,QAAQ;AAAQ,iBAAO;AAE3B,iBAAS,SAAS;AAAA,MACpB;AASA,qBAAe;AACb,YAAI;AACJ,YAAI;AACF,gBAAM,SAAS;AAAA,QACjB,SAAS,KAAP;AACA,cAAI,OAAO,YAAY,eAAe,OAAO,QAAQ,UAAU,YAAY;AACzE,oBAAQ,MAAM,IAAI,SAAS,GAAG;AAAA,UAChC;AACA,iBAAO,CAAC;AAAA,QACV;AACA,eAAO,MAAM,GAAG;AAAA,MAClB;AAUA,mBAAa,OAAM;AACjB,eAAO,IAAI,EAAE;AAAA,MACf;AAUA,qBAAe,KAAK;AAClB,YAAI,MAAM,CAAC;AACX,YAAI,QAAQ,IAAI,MAAM,OAAO;AAC7B,YAAI;AACJ,YAAI,MAAM,MAAM;AAAI,iBAAO;AAC3B,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AACrC,iBAAO,MAAM,GAAG,MAAM,GAAG;AACzB,cAAI,OAAO,KAAK,EAAE,KAAK,OAAO,KAAK,EAAE;AAAA,QACvC;AACA,eAAO;AAAA,MACT;AAMA,sBAAgB,OAAO;AACrB,YAAI;AACF,iBAAO,mBAAmB,KAAK;AAAA,QACjC,SAAS,GAAP;AACA,gBAAM,2BAA2B,OAAO,CAAC;AAAA,QAC3C;AAAA,MACF;AAMA,sBAAgB,OAAO;AACrB,YAAI;AACF,iBAAO,mBAAmB,KAAK;AAAA,QACjC,SAAS,GAAP;AACA,gBAAM,2BAA2B,OAAO,CAAC;AAAA,QAC3C;AAAA,MACF;AAAA;AAAA;;;ACpIA;AAAA;AAAA;AAEA,UAAI,MAAM,KAAK;AAiBf,UAAI,OAAO,eAAc,OAAO,YAAY;AAC1C,YAAI,SAAS,aAAa,WAAW,SAAS;AAE9C,YAAI,CAAC,QAAQ;AACX,iBAAO,CAAC;AAAA,QACV;AAKA,YAAI,SAAS,IAAI,OAAO,KAAK,KAAK,GAAG,CAAC;AACtC,YAAI,gBAAgB,IAAI,SAAS,QAAQ,CAAC;AAC1C,YAAI,UAAU,IAAI,MAAM,aAAa;AAErC,iBAAS,IAAI,GAAG,IAAI,eAAe,KAAK,GAAG;AACzC,kBAAQ,KAAK,WAAW,IAAI;AAAA,QAC9B;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC5CjB;AAAA;AAAA;AAEA,UAAI,MAAM,KAAK;AAcf,UAAI,OAAO,eAAc,YAAY;AACnC,YAAI,cAAc,QAAQ,CAAC,WAAW,QAAQ;AAC5C,iBAAO,CAAC;AAAA,QACV;AAKA,YAAI,UAAU,IAAI,MAAM,IAAI,WAAW,SAAS,GAAG,CAAC,CAAC;AAErD,iBAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK,GAAG;AAC7C,kBAAQ,IAAI,KAAK,WAAW;AAAA,QAC9B;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACrCjB;AAAA;AAAA;AAMA,UAAI,OAAO;AACX,UAAI,OAAO;AAEX,UAAI,MAAM,OAAO,UAAU;AAC3B,UAAI,cAAc,OAAO,UAAU;AAWnC,UAAI,WAAW,mBAAkB,OAAO;AACtC,eAAO,QAAQ,KAAK,KAAK,OAAO,UAAU;AAAA,MAC5C;AAWA,UAAI,gBAAgB,wBAAuB,OAAO;AAChD,eAAO,QAAQ,KAAK,KAAK,YAAY,KAAK,KAAK,MAAM;AAAA,MACvD;AAaA,UAAI,kBAAkB,0BAAyB,QAAQ,QAAQ,OAAO,KAAK;AACzE,YAAI,IAAI,KAAK,QAAQ,GAAG,KAAK,OAAO,SAAS,QAAW;AACtD,iBAAO,OAAO;AAAA,QAChB;AACA,eAAO;AAAA,MACT;AAcA,UAAI,eAAe,SAAS,QAAQ,QAAQ,OAAO,KAAK;AACtD,YAAI,IAAI,KAAK,QAAQ,GAAG,GAAG;AACzB,cAAI,cAAc,OAAO,IAAI,KAAK,cAAc,KAAK,GAAG;AACpD,mBAAO,OAAO,aAAa,OAAO,MAAM,KAAK;AAAA,UACjD,WAAW,OAAO,SAAS,QAAW;AAClC,mBAAO,OAAO;AAAA,UAClB;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAYA,UAAI,eAAe,SAAS,UAAU,QAA0B;AAC9D,YAAI,CAAC,SAAS,MAAM,GAAG;AACrB,iBAAO;AAAA,QACT;AAEA,mBAAW,YAAY;AACvB,YAAI,UAAU,KAAK,GAAG,SAAS;AAE/B,iBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK,GAAG;AAC1C,mBAAS,OAAO,QAAQ,IAAI;AAC1B,qBAAS,QAAQ,QAAQ,IAAI,QAAQ,GAAG,MAAM,GAAG;AAAA,UACnD;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAaA,UAAI,eAAe,uBAAsB,QAAuB;AAE9D,eAAO,aAAa,MAAM,MAAM,CAAC,cAAc,MAAM,EAAE,OAAO,KAAK,SAAS,CAAC,CAAC;AAAA,MAChF;AAkBA,UAAI,WAAW,SAAS,QAA0B;AAEhD,eAAO,aAAa,MAAM,MAAM,CAAC,MAAM,MAAM,EAAE,OAAO,KAAK,SAAS,CAAC,CAAC;AAAA,MACxE;AAMA,aAAO,UAAU;AACjB,aAAO,QAAQ,OAAO;AAAA;AAAA;;;ACrJtB;AAAA;AASA,cAAQ,QAAQ,SAAS,KAAI;AAC3B,YAAI,IAAI,SAAS,cAAc,GAAG;AAClC,UAAE,OAAO;AACT,eAAO;AAAA,UACL,MAAM,EAAE;AAAA,UACR,MAAM,EAAE,QAAQ,SAAS;AAAA,UACzB,MAAO,AAAQ,EAAE,SAAV,OAAkB,AAAO,EAAE,SAAT,KAAiB,KAAK,EAAE,QAAQ,IAAI,EAAE;AAAA,UAC/D,MAAM,EAAE;AAAA,UACR,UAAU,EAAE,YAAY,SAAS;AAAA,UACjC,UAAU,EAAE,SAAS,OAAO,CAAC,KAAK,MAAM,MAAM,EAAE,WAAW,EAAE;AAAA,UAC7D,UAAU,CAAC,EAAE,YAAY,AAAO,EAAE,YAAT,MAAoB,SAAS,WAAW,EAAE;AAAA,UACnE,QAAQ,EAAE;AAAA,UACV,OAAO,EAAE,OAAO,MAAM,CAAC;AAAA,QACzB;AAAA,MACF;AAUA,cAAQ,aAAa,SAAS,KAAI;AAChC,eAAO,AAAK,IAAI,QAAQ,IAAI,KAArB,KAA0B,CAAC,CAAC,CAAC,IAAI,QAAQ,KAAK;AAAA,MACvD;AAUA,cAAQ,aAAa,SAAS,KAAI;AAChC,eAAO,CAAC,QAAQ,WAAW,GAAG;AAAA,MAChC;AAUA,cAAQ,gBAAgB,SAAS,KAAI;AACnC,cAAM,QAAQ,MAAM,GAAG;AACvB,YAAI,YAAW,QAAQ,MAAM,OAAO,SAAS,IAAI;AACjD,eAAO,IAAI,aAAa,UAAS,YAC5B,IAAI,SAAS,UAAS,QACtB,IAAI,aAAa,UAAS;AAAA,MACjC;AASA,oBAAe,UAAS;AACtB,gBAAQ;AAAA,eACD;AACH,mBAAO;AAAA,eACJ;AACH,mBAAO;AAAA;AAEP,mBAAO,SAAS;AAAA;AAAA,MAEtB;AAAA;AAAA;;;ACjFA;AAAA;AAKA,UAAI,QAAQ,kBAAiB,QAAQ;AAYrC,aAAO,UAAU,SAAS,OAAM,OAAO,SAAQ;AAC7C,gBAAQ,UAAU;AAAA,eACX;AAAA,eACA;AACH,mBAAO,IAAI,OAAM,OAAO,OAAO;AAAA,eAC5B;AACH,mBAAO,IAAI,KAAI;AAAA;AAEf,mBAAO,IAAI;AAAA;AAAA,MAEjB;AAWA,mBAAa,OAAM,OAAO,SAAS;AACjC,kBAAU,WAAW,CAAC;AACtB,YAAI,MAAM,OAAO,KAAI,IAAI,MAAM,OAAO,KAAK;AAE3C,YAAI,AAAQ,SAAR;AAAe,kBAAQ,SAAS;AAEpC,YAAI,QAAQ,QAAQ;AAClB,kBAAQ,UAAU,IAAI,KAAK,CAAC,IAAI,SAAO,QAAQ,MAAM;AAAA,QACvD;AAEA,YAAI,QAAQ;AAAM,iBAAO,YAAY,QAAQ;AAC7C,YAAI,QAAQ;AAAQ,iBAAO,cAAc,QAAQ;AACjD,YAAI,QAAQ;AAAS,iBAAO,eAAe,QAAQ,QAAQ,YAAY;AACvE,YAAI,QAAQ;AAAQ,iBAAO;AAE3B,iBAAS,SAAS;AAAA,MACpB;AASA,qBAAe;AACb,YAAI;AACJ,YAAI;AACF,gBAAM,SAAS;AAAA,QACjB,SAAS,KAAP;AACA,cAAI,OAAO,YAAY,eAAe,OAAO,QAAQ,UAAU,YAAY;AACzE,oBAAQ,MAAM,IAAI,SAAS,GAAG;AAAA,UAChC;AACA,iBAAO,CAAC;AAAA,QACV;AACA,eAAO,MAAM,GAAG;AAAA,MAClB;AAUA,mBAAa,OAAM;AACjB,eAAO,IAAI,EAAE;AAAA,MACf;AAUA,qBAAe,KAAK;AAClB,YAAI,MAAM,CAAC;AACX,YAAI,QAAQ,IAAI,MAAM,OAAO;AAC7B,YAAI;AACJ,YAAI,AAAM,MAAM,MAAZ;AAAgB,iBAAO;AAC3B,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AACrC,iBAAO,MAAM,GAAG,MAAM,GAAG;AACzB,cAAI,OAAO,KAAK,EAAE,KAAK,OAAO,KAAK,EAAE;AAAA,QACvC;AACA,eAAO;AAAA,MACT;AAMA,sBAAgB,OAAM;AACpB,YAAI;AACF,iBAAO,mBAAmB,KAAK;AAAA,QACjC,SAAS,GAAP;AACA,gBAAM,2BAA2B,OAAO,CAAC;AAAA,QAC3C;AAAA,MACF;AAMA,sBAAgB,OAAO;AACrB,YAAI;AACF,iBAAO,mBAAmB,KAAK;AAAA,QACjC,SAAS,GAAP;AACA,gBAAM,2BAA2B,OAAO,CAAC;AAAA,QAC3C;AAAA,MACF;AAAA;AAAA;;;AClIA;AAAA;AAAA;AAMA,UAAI,QAAQ,wBAAyB;AACrC,UAAI,SAAS;AA8Bb,sBAAgB,KAAK;AACnB,YAAI,UAAS,QAAQ;AACrB,YAAI,SAAS,QAAQ,OAAO,GAAG;AAG/B,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACtC,cAAI,QAAQ;AACZ,cAAI,UAAS,OAAO;AACpB,cAAI,OAAO,EAAE,QAAQ,MAAM,QAAO;AAElC,kBAAO,OAAO,GAAG,IAAI;AACrB,cAAI,QAAO,KAAK,GAAG;AACjB,oBAAO,OAAO,MAAM,IAAI;AACxB,mBAAO;AAAA,UACT;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AASA,aAAO,SAAS,SAAS,KAAK;AAC5B,YAAI,OAAO,MAAM,GAAG,EAAE;AACtB,YAAI,QAAQ,KAAK,MAAM,GAAG;AAC1B,YAAI,OAAO,MAAM,MAAM,SAAS;AAChC,YAAI,SAAS,CAAC;AAGd,YAAI,MAAM,WAAW,KAAK,SAAS,SAAS,MAAM,EAAE,GAAG;AACrD,iBAAO;AAAA,QACT;AAGA,YAAI,MAAM,UAAU,GAAG;AACrB,iBAAO;AAAA,QACT;AAGA,iBAAS,IAAI,MAAM,SAAS,GAAG,KAAK,GAAG,EAAE,GAAG;AAC1C,iBAAO,KAAK,MAAM,MAAM,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA,QACtC;AAEA,eAAO;AAAA,MACT;AAKA,aAAO,SAAS;AAMhB,gBAAU,OAAO,UAAU;AAAA;AAAA;;;ACjG3B;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,UAAI,SAAS;AACb,UAAI,QAAQ,kBAAiB,qBAAqB;AAClD,UAAI,WAAW;AACf,UAAI,YAAY;AAMhB,sBAAgB,SAAS;AACrB,aAAK,QAAQ,OAAO;AAAA,MACxB;AAIA,aAAO,UAAU,UAAU,SAAU,SAAS;AAC1C,YAAI,UAAU,WAAW;AACrB,iBAAO,KAAK;AAChB,kBAAU,WAAW,CAAC;AACtB,YAAI,SAAS,MAAM,UAAU,OAAO,SAAS,IAAI;AACjD,YAAI,WAAW;AACX,mBAAS;AACb,aAAK,WAAW,SAAS,SAAS;AAAA,UAE9B,QAAQ;AAAA,UACR,MAAM;AAAA,UACN;AAAA,UACA,UAAU;AAAA,QACd,CAAC;AAQD,aAAK,IAAI,YAAY,IAAI;AACzB,YAAI,CAAC,KAAK,IAAI,UAAU,GAAG;AACvB,gBAAM,yBAAyB;AAC/B,eAAK,SAAS,SAAS;AAAA,QAC3B;AACA,aAAK,OAAO,UAAU;AAAA,MAC1B;AAIA,aAAO,UAAU,MAAM,SAAU,KAAK,OAAO;AACzC,YAAI;AACA,kBAAQ,OAAO,KAAK,UAAU,KAAK;AACnC,iBAAO,KAAK,UAAU,SAAS,OAAO,OAAO,MAAM,KAAK,QAAQ,CAAC;AACjE,iBAAO;AAAA,QACX,SACO,GAAP;AACI,iBAAO;AAAA,QACX;AAAA,MACJ;AAIA,aAAO,UAAU,MAAM,SAAU,KAAK;AAClC,YAAI;AACA,cAAI,QAAQ,OAAO,GAAG;AACtB,kBAAQ,QAAQ,OAAO,KAAK,MAAM,KAAK,IAAI;AAC3C,iBAAO;AAAA,QACX,SACO,GAAP;AACI,iBAAO;AAAA,QACX;AAAA,MACJ;AAIA,aAAO,UAAU,SAAS,SAAU,KAAK;AACrC,YAAI;AACA,iBAAO,KAAK,MAAM,MAAM,KAAK,QAAQ,CAAC;AACtC,iBAAO;AAAA,QACX,SACO,GAAP;AACI,iBAAO;AAAA,QACX;AAAA,MACJ;AAIA,aAAO,UAAU,QAAQ,IAAI,OAAO,CAAC;AAIrC,aAAO,QAAQ,SAAS;AAAA;AAAA;;;AC/FxB;AAAA;AACC,MAAC,YAAY;AAGZ,YAAI,WAAW,OAAO,WAAW,cAAc,OAAO;AAGtD,YAAI,cAAc;AAAA,UAChB,YAAY;AAAA,UACZ,UAAU;AAAA,QACZ;AAGA,YAAI,cAAc,YAAY,OAAO,YAAY,WAAW,CAAC,QAAQ,YAAY;AAMjF,YAAI,OAAO,YAAY,OAAO,WAAW,UAAU,MAC/C,aAAa,eAAe,YAAY,OAAO,WAAW,UAAU,CAAC,OAAO,YAAY,OAAO,UAAU,YAAY;AAEzH,YAAI,cAAe,YAAW,WAAW,cAAc,WAAW,WAAW,cAAc,WAAW,SAAS,aAAa;AAC1H,iBAAO;AAAA,QACT;AAIA,8BAAsB,SAAS,UAAS;AACtC,qBAAY,WAAU,KAAK,OAAO;AAClC,sBAAY,YAAU,KAAK,OAAO;AAGlC,cAAI,UAAS,QAAQ,UAAU,KAAK,QAChC,UAAS,QAAQ,UAAU,KAAK,QAChC,UAAS,QAAQ,UAAU,KAAK,QAChC,QAAO,QAAQ,QAAQ,KAAK,MAC5B,cAAc,QAAQ,eAAe,KAAK,aAC1C,aAAY,QAAQ,aAAa,KAAK,WACtC,QAAO,QAAQ,QAAQ,KAAK,MAC5B,cAAa,QAAQ,QAAQ,KAAK;AAGtC,cAAI,OAAO,eAAc,YAAY,aAAY;AAC/C,qBAAQ,YAAY,YAAW;AAC/B,qBAAQ,QAAQ,YAAW;AAAA,UAC7B;AAGA,cAAI,cAAc,QAAO,WACrB,WAAW,YAAY,UACvB,aAAa,YAAY,gBACzB;AAIJ,2BAAiB,MAAM,WAAW;AAChC,gBAAI;AACF,mBAAK;AAAA,YACP,SAAS,WAAP;AACA,kBAAI,WAAW;AACb,0BAAU;AAAA,cACZ;AAAA,YACF;AAAA,UACF;AAGA,cAAI,aAAa,IAAI,MAAK,iBAAiB;AAC3C,kBAAQ,WAAY;AAGlB,yBAAa,WAAW,eAAe,KAAK,WAAW,WAAW,YAAY,MAAM,KAAK,WAAW,WAAW,MAAM,KACnH,WAAW,YAAY,KAAK,MAAM,WAAW,cAAc,KAAK,MAAM,WAAW,cAAc,KAAK,KAAK,WAAW,mBAAmB,KAAK;AAAA,UAChJ,CAAC;AAID,uBAAa,OAAM;AACjB,gBAAI,IAAI,UAAS,MAAM;AAErB,qBAAO,IAAI;AAAA,YACb;AACA,gBAAI;AACJ,gBAAI,SAAQ,yBAAyB;AAGnC,4BAAc,IAAI,MAAM;AAAA,YAC1B,WAAW,SAAQ,QAAQ;AAGzB,4BAAc,IAAI,gBAAgB,KAAK,IAAI,oBAAoB,KAAK,IAAI,YAAY;AAAA,YACtF,WAAW,SAAQ,sBAAsB;AAEvC,4BAAc,IAAI,gBAAgB,KAAK;AACvC,kBAAI,aAAa;AACf,oBAAI,YAAY,SAAQ;AACxB,wBAAQ,WAAY;AAClB,gCAGE,UAAU,IAAI,MAAK,OAAQ,CAAC,KAAK,mCAEjC,UAAU,IAAI,MAAK,MAAO,CAAC,KAAK,mCAGhC,UAAU,IAAI,MAAK,YAAY,CAAC,KAAK,mCAGrC,UAAU,IAAI,MAAK,EAAE,CAAC,KAAK;AAAA,gBAC/B,CAAC;AAAA,cACH;AAAA,YACF,OAAO;AACL,kBAAI,OAAO,aAAa;AAExB,kBAAI,SAAQ,kBAAkB;AAC5B,oBAAI,YAAY,SAAQ,WAAW,qBAAqB,OAAO,aAAa;AAC5E,oBAAI,oBAAoB;AAEtB,kBAAC,SAAQ,WAAY;AACnB,2BAAO;AAAA,kBACT,GAAG,SAAS;AACZ,0BAAQ,WAAY;AAClB,yCAGE,UAAU,CAAC,MAAM,OAGjB,UAAU,IAAI,QAAO,CAAC,MAAM,OAC5B,UAAU,IAAI,QAAO,CAAC,KAAK,QAK3B,UAAU,QAAQ,MAAM,cAGxB,UAAU,UAAS,MAAM,cAGzB,UAAU,MAAM,cAMhB,UAAU,KAAK,MAAM,OACrB,UAAU,CAAC,KAAK,CAAC,KAAK,SAGtB,UAAU,CAAC,UAAS,CAAC,KAAK,YAE1B,UAAU,IAAI,KAAK,UAKnB,UAAU,CAAC,YAAW,UAAU,IAAI,CAAC,KAAK,sBAG1C,UAAU,EAAE,KAAK,CAAC,OAAO,MAAM,OAAO,MAAM,aAAgB,EAAE,CAAC,KAAK,cAEpE,UAAU,MAAM,KAAK,MAAM,OAC3B,UAAU,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK;AAAA,kBAClC,GAAG,WAAY;AACb,yCAAqB;AAAA,kBACvB,CAAC;AAAA,gBACH;AACA,8BAAc;AAAA,cAChB;AAEA,kBAAI,SAAQ,cAAc;AACxB,oBAAI,QAAQ,SAAQ,OAAO;AAC3B,oBAAI,OAAO,SAAS,YAAY;AAC9B,0BAAQ,WAAY;AAIlB,wBAAI,MAAM,GAAG,MAAM,KAAK,CAAC,MAAM,KAAK,GAAG;AAErC,8BAAQ,MAAM,UAAU;AACxB,uCAAiB,MAAM,KAAK,UAAU,KAAK,MAAM,KAAK,OAAO;AAC7D,0BAAI,gBAAgB;AAClB,gCAAQ,WAAY;AAElB,2CAAiB,CAAC,MAAM,KAAM;AAAA,wBAChC,CAAC;AACD,4BAAI,gBAAgB;AAClB,kCAAQ,WAAY;AAIlB,6CAAiB,MAAM,IAAI,MAAM;AAAA,0BACnC,CAAC;AAAA,wBACH;AACA,4BAAI,gBAAgB;AAClB,kCAAQ,WAAY;AAIlB,6CAAiB,MAAM,IAAI,MAAM;AAAA,0BACnC,CAAC;AAAA,wBACH;AAAA,sBACF;AAAA,oBACF;AAAA,kBACF,GAAG,WAAY;AACb,qCAAiB;AAAA,kBACnB,CAAC;AAAA,gBACH;AACA,8BAAc;AAAA,cAChB;AAAA,YACF;AACA,mBAAO,IAAI,SAAQ,CAAC,CAAC;AAAA,UACvB;AACA,cAAI,2BAA2B,IAAI,wBAAwB,IAAI,UAAU,IAAI,oBAAoB,IAAI,gBAAgB;AAErH,cAAI,CAAC,IAAI,MAAM,GAAG;AAEhB,gBAAI,gBAAgB,qBAChB,YAAY,iBACZ,cAAc,mBACd,cAAc,mBACd,aAAa,kBACb,eAAe;AAGnB,gBAAI,iBAAiB,IAAI,uBAAuB;AAIhD,gBAAI,SAAS,SAAU,QAAQ,UAAU;AACvC,kBAAI,OAAO,GAAG,YAAY,WAAW;AAKrC,cAAC,cAAa,WAAY;AACxB,qBAAK,UAAU;AAAA,cACjB,GAAG,UAAU,UAAU;AAGvB,0BAAY,IAAI,WAAW;AAC3B,mBAAK,YAAY,WAAW;AAE1B,oBAAI,WAAW,KAAK,WAAW,QAAQ,GAAG;AACxC;AAAA,gBACF;AAAA,cACF;AACA,2BAAa,YAAY;AAGzB,kBAAI,CAAC,MAAM;AAET,4BAAY,CAAC,WAAW,YAAY,kBAAkB,wBAAwB,iBAAiB,kBAAkB,aAAa;AAG9H,yBAAS,SAAU,SAAQ,WAAU;AACnC,sBAAI,aAAa,SAAS,KAAK,OAAM,KAAK,eAAe,WAAU;AACnE,sBAAI,cAAc,CAAC,cAAc,OAAO,QAAO,eAAe,cAAc,YAAY,OAAO,QAAO,mBAAmB,QAAO,kBAAkB;AAClJ,uBAAK,aAAY,SAAQ;AAGvB,wBAAI,CAAE,eAAc,aAAY,gBAAgB,YAAY,KAAK,SAAQ,SAAQ,GAAG;AAClF,gCAAS,SAAQ;AAAA,oBACnB;AAAA,kBACF;AAEA,uBAAK,SAAS,UAAU,QAAQ,YAAW,UAAU,EAAE,WAAU;AAC/D,wBAAI,YAAY,KAAK,SAAQ,SAAQ,GAAG;AACtC,gCAAS,SAAQ;AAAA,oBACnB;AAAA,kBACF;AAAA,gBACF;AAAA,cACF,OAAO;AAEL,yBAAS,SAAU,SAAQ,WAAU;AACnC,sBAAI,aAAa,SAAS,KAAK,OAAM,KAAK,eAAe,WAAU;AACnE,uBAAK,aAAY,SAAQ;AACvB,wBAAI,CAAE,eAAc,aAAY,gBAAgB,WAAW,KAAK,SAAQ,SAAQ,KAAK,CAAE,iBAAgB,cAAa,gBAAgB;AAClI,gCAAS,SAAQ;AAAA,oBACnB;AAAA,kBACF;AAGA,sBAAI,iBAAiB,WAAW,KAAK,SAAS,YAAW,aAAc,GAAG;AACxE,8BAAS,SAAQ;AAAA,kBACnB;AAAA,gBACF;AAAA,cACF;AACA,qBAAO,OAAO,QAAQ,QAAQ;AAAA,YAChC;AAQA,gBAAI,CAAC,IAAI,gBAAgB,KAAK,CAAC,IAAI,oBAAoB,GAAG;AAExD,kBAAI,UAAU;AAAA,gBACZ,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,GAAG;AAAA,gBACH,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,GAAG;AAAA,cACL;AAIA,kBAAI,gBAAgB;AACpB,kBAAI,iBAAiB,SAAU,OAAO,OAAO;AAG3C,uBAAQ,iBAAiB,UAAS,IAAI,MAAM,CAAC,KAAK;AAAA,cACpD;AAGA,kBAAI,gBAAgB,SAAU,OAAO;AACnC,oBAAI,SAAS,MAAM,OAAO,MAAM,MAAM,OAAO,SAAS,SAAS;AAE/D,oBAAI,CAAC,YAAY;AACf,sBAAI,QAAQ,MAAK;AAGjB,sBAAI,SAAS,CAAC,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAGnE,sBAAI,SAAS,SAAU,OAAM,QAAO;AAClC,2BAAO,OAAO,UAAS,MAAO,SAAO,QAAQ,MAAO,SAAO,OAAQ,UAAQ,CAAE,UAAQ,OAAO,CAAC,IAAI,MAAO,SAAO,OAAO,UAAS,GAAG,IAAI,MAAO,SAAO,OAAO,UAAS,GAAG;AAAA,kBACzK;AACA,4BAAU,SAAU,QAAO;AAIzB,2BAAO,MAAM,SAAQ,KAAK;AAC1B,yBAAK,OAAO,MAAM,OAAO,QAAQ,IAAI,OAAO,GAAG,OAAO,OAAO,GAAG,CAAC,KAAK,MAAM;AAAO;AACnF,yBAAK,QAAQ,MAAO,QAAO,OAAO,MAAM,CAAC,KAAK,KAAK,GAAG,OAAO,MAAM,QAAQ,CAAC,KAAK,MAAM;AAAQ;AAC/F,2BAAO,IAAI,OAAO,OAAO,MAAM,KAAK;AAKpC,2BAAQ,UAAQ,QAAQ,SAAS;AAGjC,4BAAQ,MAAM,OAAO,IAAI,IAAI;AAC7B,8BAAU,MAAM,OAAO,GAAG,IAAI;AAC9B,8BAAU,MAAM,OAAO,GAAG,IAAI;AAC9B,mCAAe,OAAO;AAAA,kBACxB;AAAA,gBACF,OAAO;AACL,4BAAU,SAAU,QAAO;AACzB,2BAAO,OAAM,eAAe;AAC5B,4BAAQ,OAAM,YAAY;AAC1B,2BAAO,OAAM,WAAW;AACxB,4BAAQ,OAAM,YAAY;AAC1B,8BAAU,OAAM,cAAc;AAC9B,8BAAU,OAAM,cAAc;AAC9B,mCAAe,OAAM,mBAAmB;AAAA,kBAC1C;AAAA,gBACF;AACA,gCAAgB,SAAU,QAAO;AAC/B,sBAAI,SAAQ,KAAK,KAAK,SAAQ,IAAI,GAAG;AAInC,4BAAQ,MAAK;AAEb,6BAAS,SAAQ,KAAK,QAAQ,MAAO,QAAO,IAAI,MAAM,OAAO,eAAe,GAAG,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,eAAe,GAAG,IAAI,KAChI,MAAM,eAAe,GAAG,QAAQ,CAAC,IAAI,MAAM,eAAe,GAAG,IAAI,IAGjE,MAAM,eAAe,GAAG,KAAK,IAAI,MAAM,eAAe,GAAG,OAAO,IAAI,MAAM,eAAe,GAAG,OAAO,IAEnG,MAAM,eAAe,GAAG,YAAY,IAAI;AACxC,2BAAO,QAAQ,OAAO,QAAQ,UAAU,UAAU,eAAe;AAAA,kBACnE,OAAO;AACL,6BAAQ;AAAA,kBACV;AACA,yBAAO;AAAA,gBACT;AACA,uBAAO,cAAc,KAAK;AAAA,cAC5B;AAKA,kBAAI,IAAI,gBAAgB,KAAK,CAAC,IAAI,oBAAoB,GAAG;AAEvD,oBAAS,cAAT,SAAqB,KAAK;AACxB,yBAAO,cAAc,IAAI;AAAA,gBAC3B;AAFS;AAKT,oBAAI,kBAAkB,SAAQ;AAC9B,yBAAQ,YAAY,SAAU,QAAQ,QAAQ,OAAO;AACnD,sBAAI,eAAe,MAAK,UAAU;AAClC,wBAAK,UAAU,SAAS;AACxB,sBAAI,SAAS,gBAAgB,QAAQ,QAAQ,KAAK;AAClD,wBAAK,UAAU,SAAS;AACxB,yBAAO;AAAA,gBACT;AAAA,cACF,OAAO;AAKL,oBAAI,gBAAgB;AACpB,oBAAI,aAAa,SAAU,WAAW;AACpC,sBAAI,WAAW,UAAU,WAAW,CAAC,GAAG,UAAU,QAAQ;AAC1D,sBAAI,SAAS;AACX,2BAAO;AAAA,kBACT;AACA,yBAAO,gBAAgB,eAAe,GAAG,SAAS,SAAS,EAAE,CAAC;AAAA,gBAChE;AACA,oBAAI,WAAW;AACf,oBAAI,QAAQ,SAAU,OAAO;AAC3B,2BAAS,YAAY;AACrB,yBAAO,MAEH,UAAS,KAAK,KAAK,IACf,MAAM,QAAQ,UAAU,UAAU,IAClC,SAEN;AAAA,gBACJ;AAIA,oBAAI,YAAY,SAAU,UAAU,QAAQ,UAAU,YAAY,YAAY,aAAa,OAAO;AAChG,sBAAI,OAAO,MAAM,WAAW,SAAS,SAAS,OAAO,QAAQ,QAAQ;AACrE,0BAAQ,WAAY;AAElB,4BAAQ,OAAO;AAAA,kBACjB,CAAC;AACD,sBAAI,OAAO,SAAS,YAAY,OAAO;AACrC,wBAAI,MAAM,kBAAkB,SAAS,KAAK,KAAK,KAAK,aAAa,MAAM,WAAW,MAAK,UAAU,QAAQ;AACvG,8BAAQ,cAAc,KAAK;AAAA,oBAC7B,WAAW,OAAO,MAAM,UAAU,YAAY;AAC5C,8BAAQ,MAAM,OAAO,QAAQ;AAAA,oBAC/B;AAAA,kBACF;AACA,sBAAI,UAAU;AAGZ,4BAAQ,SAAS,KAAK,QAAQ,UAAU,KAAK;AAAA,kBAC/C;AAEA,sBAAI,SAAS,YAAW;AACtB,2BAAO,UAAU,aAAY,QAAQ;AAAA,kBACvC;AACA,yBAAO,OAAO;AAEd,sBAAI,QAAQ,UAAU;AACpB,gCAAY,SAAS,KAAK,KAAK;AAAA,kBACjC;AACA,0BAAQ,aAAa;AAAA,yBACd;AAAA,yBACA;AAEH,6BAAO,KAAK;AAAA,yBACT;AAAA,yBACA;AAGH,6BAAO,QAAQ,KAAK,KAAK,QAAQ,IAAI,IAAI,KAAK,QAAQ;AAAA,yBACnD;AAAA,yBACA;AAEH,6BAAO,MAAM,KAAK,KAAK;AAAA;AAG3B,sBAAI,OAAO,SAAS,UAAU;AAG5B,yBAAK,SAAS,MAAM,QAAQ,YAAW;AACrC,0BAAI,MAAM,YAAY,OAAO;AAE3B,8BAAM,WAAU;AAAA,sBAClB;AAAA,oBACF;AAEA,0BAAM,KAAK,KAAK;AAChB,8BAAU,CAAC;AAEX,6BAAS;AACT,mCAAe;AACf,wBAAI,aAAa,YAAY;AAE3B,2BAAK,QAAQ,GAAG,SAAS,MAAM,QAAQ,QAAQ,QAAQ,SAAS;AAC9D,kCAAU,UAAU,OAAO,OAAO,UAAU,YAAY,YAAY,aAAa,KAAK;AACtF,gCAAQ,KAAK,YAAY,aAAY,SAAS,OAAO;AAAA,sBACvD;AACA,+BAAS,QAAQ,SAAU,aAAa,QAAQ,cAAc,QAAQ,KAAK,QAAQ,WAAW,IAAI,OAAO,SAAS,MAAO,MAAM,QAAQ,KAAK,GAAG,IAAI,MAAQ;AAAA,oBAC7J,OAAO;AAIL,6BAAO,cAAc,OAAO,SAAU,WAAU;AAC9C,4BAAI,WAAU,UAAU,WAAU,OAAO,UAAU,YAAY,YAAY,aAAa,KAAK;AAC7F,4BAAI,aAAY,YAAW;AAOzB,kCAAQ,KAAK,MAAM,SAAQ,IAAI,MAAO,cAAa,MAAM,MAAM,QAAO;AAAA,wBACxE;AAAA,sBACF,CAAC;AACD,+BAAS,QAAQ,SAAU,aAAa,QAAQ,cAAc,QAAQ,KAAK,QAAQ,WAAW,IAAI,OAAO,SAAS,MAAO,MAAM,QAAQ,KAAK,GAAG,IAAI,MAAQ;AAAA,oBAC7J;AAEA,0BAAM,IAAI;AACV,2BAAO;AAAA,kBACT;AAAA,gBACF;AAGA,yBAAQ,YAAY,SAAU,QAAQ,QAAQ,OAAO;AACnD,sBAAI,YAAY,UAAU,YAAY;AACtC,sBAAI,YAAY,OAAO,WAAW,QAAQ;AACxC,gCAAY,SAAS,KAAK,MAAM;AAChC,wBAAI,aAAa,eAAe;AAC9B,iCAAW;AAAA,oBACb,WAAW,aAAa,YAAY;AAElC,mCAAa,CAAC;AACd,+BAAS,QAAQ,GAAG,SAAS,OAAO,QAAQ,OAAO,QAAQ,UAAS;AAClE,gCAAQ,OAAO;AACf,oCAAY,SAAS,KAAK,KAAK;AAC/B,4BAAI,aAAa,qBAAqB,aAAa,mBAAmB;AACpE,qCAAW,SAAS;AAAA,wBACtB;AAAA,sBACF;AAAA,oBACF;AAAA,kBACF;AACA,sBAAI,OAAO;AACT,gCAAY,SAAS,KAAK,KAAK;AAC/B,wBAAI,aAAa,aAAa;AAG5B,0BAAK,UAAS,QAAQ,KAAK,GAAG;AAC5B,4BAAI,QAAQ,IAAI;AACd,kCAAQ;AAAA,wBACV;AACA,6BAAK,aAAa,IAAI,WAAW,SAAS,SAAQ;AAChD,wCAAc;AAAA,wBAChB;AAAA,sBACF;AAAA,oBACF,WAAW,aAAa,aAAa;AACnC,mCAAa,MAAM,UAAU,KAAK,QAAQ,MAAM,MAAM,GAAG,EAAE;AAAA,oBAC7D;AAAA,kBACF;AAIA,yBAAO,UAAU,IAAK,SAAQ,CAAC,GAAG,MAAM,MAAM,QAAQ,QAAQ,UAAU,YAAY,YAAY,IAAI,CAAC,CAAC;AAAA,gBACxG;AAAA,cACF;AAAA,YACF;AAGA,gBAAI,CAAC,IAAI,YAAY,GAAG;AACtB,kBAAI,eAAe,QAAO;AAI1B,kBAAI,YAAY;AAAA,gBACd,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,IAAI;AAAA,gBACJ,KAAK;AAAA,gBACL,KAAK;AAAA,gBACL,KAAK;AAAA,gBACL,KAAK;AAAA,cACP;AAGA,kBAAI,OAAO;AAGX,kBAAI,QAAQ,WAAY;AACtB,wBAAQ,SAAS;AACjB,sBAAM,YAAY;AAAA,cACpB;AAKA,kBAAI,MAAM,WAAY;AACpB,oBAAI,SAAS,QAAQ,SAAS,OAAO,QAAQ,OAAO,OAAO,UAAU,UAAU;AAC/E,uBAAO,QAAQ,QAAQ;AACrB,6BAAW,OAAO,WAAW,KAAK;AAClC,0BAAQ;AAAA,yBACD;AAAA,yBAAQ;AAAA,yBAAS;AAAA,yBAAS;AAG7B;AACA;AAAA,yBACG;AAAA,yBAAU;AAAA,yBAAU;AAAA,yBAAS;AAAA,yBAAS;AAAA,yBAAS;AAGlD,8BAAQ,iBAAiB,OAAO,OAAO,KAAK,IAAI,OAAO;AACvD;AACA,6BAAO;AAAA,yBACJ;AAKH,2BAAK,QAAQ,KAAK,SAAS,QAAQ,UAAS;AAC1C,mCAAW,OAAO,WAAW,KAAK;AAClC,4BAAI,WAAW,IAAI;AAGjB,gCAAM;AAAA,wBACR,WAAW,YAAY,IAAI;AAIzB,qCAAW,OAAO,WAAW,EAAE,KAAK;AACpC,kCAAQ;AAAA,iCACD;AAAA,iCAAS;AAAA,iCAAS;AAAA,iCAAS;AAAA,iCAAS;AAAA,iCAAU;AAAA,iCAAU;AAAA,iCAAU;AAErE,uCAAS,UAAU;AACnB;AACA;AAAA,iCACG;AAIH,sCAAQ,EAAE;AACV,mCAAK,WAAW,QAAQ,GAAG,QAAQ,UAAU,SAAS;AACpD,2CAAW,OAAO,WAAW,KAAK;AAGlC,oCAAI,CAAE,aAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,OAAO,YAAY,MAAM,YAAY,KAAK;AAEhH,wCAAM;AAAA,gCACR;AAAA,8BACF;AAEA,uCAAS,aAAa,OAAO,OAAO,MAAM,OAAO,KAAK,CAAC;AACvD;AAAA;AAGA,oCAAM;AAAA;AAAA,wBAEZ,OAAO;AACL,8BAAI,YAAY,IAAI;AAGlB;AAAA,0BACF;AACA,qCAAW,OAAO,WAAW,KAAK;AAClC,kCAAQ;AAER,iCAAO,YAAY,MAAM,YAAY,MAAM,YAAY,IAAI;AACzD,uCAAW,OAAO,WAAW,EAAE,KAAK;AAAA,0BACtC;AAEA,mCAAS,OAAO,MAAM,OAAO,KAAK;AAAA,wBACpC;AAAA,sBACF;AACA,0BAAI,OAAO,WAAW,KAAK,KAAK,IAAI;AAElC;AACA,+BAAO;AAAA,sBACT;AAEA,4BAAM;AAAA;AAGN,8BAAQ;AAER,0BAAI,YAAY,IAAI;AAClB,mCAAW;AACX,mCAAW,OAAO,WAAW,EAAE,KAAK;AAAA,sBACtC;AAEA,0BAAI,YAAY,MAAM,YAAY,IAAI;AAEpC,4BAAI,YAAY,MAAQ,YAAW,OAAO,WAAW,QAAQ,CAAC,GAAI,YAAY,MAAM,YAAY,KAAK;AAEnG,gCAAM;AAAA,wBACR;AACA,mCAAW;AAEX,+BAAO,QAAQ,UAAY,YAAW,OAAO,WAAW,KAAK,GAAI,YAAY,MAAM,YAAY,KAAK;AAAQ;AAG5G,4BAAI,OAAO,WAAW,KAAK,KAAK,IAAI;AAClC,qCAAW,EAAE;AAEb,iCAAO,WAAW,QAAQ,YAAY;AACpC,uCAAW,OAAO,WAAW,QAAQ;AACrC,gCAAI,WAAW,MAAM,WAAW,IAAI;AAClC;AAAA,4BACF;AAAA,0BACF;AACA,8BAAI,YAAY,OAAO;AAErB,kCAAM;AAAA,0BACR;AACA,kCAAQ;AAAA,wBACV;AAGA,mCAAW,OAAO,WAAW,KAAK;AAClC,4BAAI,YAAY,OAAO,YAAY,IAAI;AACrC,qCAAW,OAAO,WAAW,EAAE,KAAK;AAGpC,8BAAI,YAAY,MAAM,YAAY,IAAI;AACpC;AAAA,0BACF;AAEA,+BAAK,WAAW,OAAO,WAAW,QAAQ,YAAY;AACpD,uCAAW,OAAO,WAAW,QAAQ;AACrC,gCAAI,WAAW,MAAM,WAAW,IAAI;AAClC;AAAA,4BACF;AAAA,0BACF;AACA,8BAAI,YAAY,OAAO;AAErB,kCAAM;AAAA,0BACR;AACA,kCAAQ;AAAA,wBACV;AAEA,+BAAO,CAAC,OAAO,MAAM,OAAO,KAAK;AAAA,sBACnC;AAEA,0BAAI,UAAU;AACZ,8BAAM;AAAA,sBACR;AAEA,0BAAI,OAAO,OAAO,MAAM,OAAO,QAAQ,CAAC;AACxC,0BAAI,QAAQ,QAAQ;AAClB,iCAAS;AACT,+BAAO;AAAA,sBACT,WAAW,QAAQ,UAAU,OAAO,WAAW,QAAQ,CAAE,KAAK,KAAK;AACjE,iCAAS;AACT,+BAAO;AAAA,sBACT,WAAW,QAAQ,QAAQ;AACzB,iCAAS;AACT,+BAAO;AAAA,sBACT;AAEA,4BAAM;AAAA;AAAA,gBAEZ;AAGA,uBAAO;AAAA,cACT;AAGA,kBAAI,MAAM,SAAU,OAAO;AACzB,oBAAI,SAAS;AACb,oBAAI,SAAS,KAAK;AAEhB,wBAAM;AAAA,gBACR;AACA,oBAAI,OAAO,SAAS,UAAU;AAC5B,sBAAK,kBAAiB,MAAM,OAAO,CAAC,IAAI,MAAM,OAAO,KAAK;AAExD,2BAAO,MAAM,MAAM,CAAC;AAAA,kBACtB;AAEA,sBAAI,SAAS,KAAK;AAEhB,8BAAU,CAAC;AACX,+BAAS;AACP,8BAAQ,IAAI;AAEZ,0BAAI,SAAS,KAAK;AAChB;AAAA,sBACF;AAIA,0BAAI,YAAY;AACd,4BAAI,SAAS,KAAK;AAChB,kCAAQ,IAAI;AACZ,8BAAI,SAAS,KAAK;AAEhB,kCAAM;AAAA,0BACR;AAAA,wBACF,OAAO;AAEL,gCAAM;AAAA,wBACR;AAAA,sBACF,OAAO;AACL,qCAAa;AAAA,sBACf;AAEA,0BAAI,SAAS,KAAK;AAChB,8BAAM;AAAA,sBACR;AACA,8BAAQ,KAAK,IAAI,KAAK,CAAC;AAAA,oBACzB;AACA,2BAAO;AAAA,kBACT,WAAW,SAAS,KAAK;AAEvB,8BAAU,CAAC;AACX,+BAAS;AACP,8BAAQ,IAAI;AAEZ,0BAAI,SAAS,KAAK;AAChB;AAAA,sBACF;AAGA,0BAAI,YAAY;AACd,4BAAI,SAAS,KAAK;AAChB,kCAAQ,IAAI;AACZ,8BAAI,SAAS,KAAK;AAEhB,kCAAM;AAAA,0BACR;AAAA,wBACF,OAAO;AAEL,gCAAM;AAAA,wBACR;AAAA,sBACF,OAAO;AACL,qCAAa;AAAA,sBACf;AAIA,0BAAI,SAAS,OAAO,OAAO,SAAS,YAAa,kBAAiB,MAAM,OAAO,CAAC,IAAI,MAAM,OAAO,OAAO,IAAI,KAAK,KAAK;AACpH,8BAAM;AAAA,sBACR;AACA,8BAAQ,MAAM,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC;AAAA,oBACrC;AACA,2BAAO;AAAA,kBACT;AAEA,wBAAM;AAAA,gBACR;AACA,uBAAO;AAAA,cACT;AAGA,kBAAI,SAAS,SAAU,QAAQ,UAAU,UAAU;AACjD,oBAAI,UAAU,KAAK,QAAQ,UAAU,QAAQ;AAC7C,oBAAI,YAAY,YAAW;AACzB,yBAAO,OAAO;AAAA,gBAChB,OAAO;AACL,yBAAO,YAAY;AAAA,gBACrB;AAAA,cACF;AAKA,kBAAI,OAAO,SAAU,QAAQ,UAAU,UAAU;AAC/C,oBAAI,QAAQ,OAAO,WAAW;AAC9B,oBAAI,OAAO,SAAS,YAAY,OAAO;AAIrC,sBAAI,SAAS,KAAK,KAAK,KAAK,YAAY;AACtC,yBAAK,SAAS,MAAM,QAAQ,YAAW;AACrC,6BAAO,UAAU,QAAQ,OAAO,QAAQ,QAAQ;AAAA,oBAClD;AAAA,kBACF,OAAO;AACL,2BAAO,OAAO,SAAU,WAAU;AAChC,6BAAO,OAAO,WAAU,QAAQ;AAAA,oBAClC,CAAC;AAAA,kBACH;AAAA,gBACF;AACA,uBAAO,SAAS,KAAK,QAAQ,UAAU,KAAK;AAAA,cAC9C;AAGA,uBAAQ,QAAQ,SAAU,QAAQ,UAAU;AAC1C,oBAAI,QAAQ;AACZ,wBAAQ;AACR,yBAAS,KAAK;AACd,yBAAS,IAAI,IAAI,CAAC;AAElB,oBAAI,IAAI,KAAK,KAAK;AAChB,wBAAM;AAAA,gBACR;AAEA,wBAAQ,SAAS;AACjB,uBAAO,YAAY,SAAS,KAAK,QAAQ,KAAK,gBAAgB,KAAM,SAAQ,CAAC,GAAG,MAAM,MAAM,QAAQ,QAAQ,IAAI,QAAQ,IAAI;AAAA,cAC9H;AAAA,YACF;AAAA,UACF;AAEA,mBAAQ,eAAe;AACvB,iBAAO;AAAA,QACT;AAEA,YAAI,eAAe,CAAC,UAAU;AAE5B,uBAAa,MAAM,WAAW;AAAA,QAChC,OAAO;AAEL,cAAI,aAAa,KAAK,MAClB,eAAe,KAAK,OACpB,aAAa;AAEjB,cAAI,QAAQ,aAAa,MAAO,KAAK,QAAQ;AAAA,YAG3C,cAAc,WAAY;AACxB,kBAAI,CAAC,YAAY;AACf,6BAAa;AACb,qBAAK,OAAO;AACZ,qBAAK,QAAQ;AACb,6BAAa,eAAe;AAAA,cAC9B;AACA,qBAAO;AAAA,YACT;AAAA,UACF,CAAE;AAEF,eAAK,OAAO;AAAA,YACV,SAAS,MAAM;AAAA,YACf,aAAa,MAAM;AAAA,UACrB;AAAA,QACF;AAGA,YAAI,UAAU;AACZ,iBAAO,WAAY;AACjB,mBAAO;AAAA,UACT,CAAC;AAAA,QACH;AAAA,MACF,GAAG,KAAK,OAAI;AAAA;AAAA;;;ACz6BZ;AAAA;AAAA,aAAO,UAAU;AAEjB,sBAAgB,QAAQ;AACpB,iBAAS,OAAO,QAAQ,SAAS,IAAI;AACrC,YAAI,UAAU;AAEd,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AAEpC,cAAI,IAAI,OAAO,WAAW,CAAC;AAE3B,cAAI,IAAI,KAAK;AACT,uBAAW,OAAO,aAAa,CAAC;AAAA,UACpC,WACU,IAAI,OAAS,IAAI,MAAO;AAC9B,uBAAW,OAAO,aAAc,KAAK,IAAK,GAAG;AAC7C,uBAAW,OAAO,aAAc,IAAI,KAAM,GAAG;AAAA,UACjD,OACK;AACD,uBAAW,OAAO,aAAc,KAAK,KAAM,GAAG;AAC9C,uBAAW,OAAO,aAAe,KAAK,IAAK,KAAM,GAAG;AACpD,uBAAW,OAAO,aAAc,IAAI,KAAM,GAAG;AAAA,UACjD;AAAA,QAEJ;AAEA,eAAO;AAAA,MACX;AAAA;AAAA;;;AC1BA;AAAA;AAAA,UAAI,aAAa;AACjB,UAAI,SAAS;AAEb,aAAO,UAAU;AACjB,sBAAgB,OAAO;AACnB,YAAI,SAAS;AACb,YAAI,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;AACxC,YAAI,IAAI;AAER,gBAAQ,WAAW,KAAK;AAExB,eAAO,IAAI,MAAM,QAAQ;AAErB,iBAAO,MAAM,WAAW,GAAG;AAC3B,iBAAO,MAAM,WAAW,GAAG;AAC3B,iBAAO,MAAM,WAAW,GAAG;AAE3B,iBAAO,QAAQ;AACf,iBAAS,QAAO,MAAM,IAAM,QAAQ;AACpC,iBAAS,QAAO,OAAO,IAAM,QAAQ;AACrC,iBAAO,OAAO;AAEd,cAAI,MAAM,IAAI,GAAG;AACb,mBAAO,OAAO;AAAA,UAClB,WAAW,MAAM,IAAI,GAAG;AACpB,mBAAO;AAAA,UACX;AAEA,mBAAS,SACL,OAAO,OAAO,IAAI,IAAI,OAAO,OAAO,IAAI,IACxC,OAAO,OAAO,IAAI,IAAI,OAAO,OAAO,IAAI;AAAA,QAEhD;AAEA,eAAO;AAAA,MACX;AAAA;AAAA;;;ACnCA;AAAA;AASA,UAAI;AACF,eAAO,UAAU,OAAO,mBAAmB,eACzC,qBAAqB,IAAI,eAAe;AAAA,MAC5C,SAAS,KAAP;AAGA,eAAO,UAAU;AAAA,MACnB;AAAA;AAAA;;;AChBA;AAAA;AAIA,UAAI,QAAQ,kBAAiB,OAAO;AAMpC,aAAO,UAAU;AAMjB,UAAI,QAAQ;AAMZ,sBAAe;AAAA,MAAC;AAgBhB,qBAAe,KAAK,MAAM,IAAG;AAC3B,YAAI,AAAc,OAAO,QAArB,YAA2B;AAC7B,eAAK;AACL,iBAAO,CAAC;AAAA,QACV;AACA,YAAI,CAAC;AAAM,iBAAO,CAAC;AAEnB,YAAI,SAAS,KAAK,UAAU;AAI5B,YAAI,KAAK,KAAK,QAAS,SAAU;AAEjC,YAAI,QAAQ,KAAK,SAAS;AAC1B,YAAI,UAAU,AAAQ,KAAK,WAAb,OAAuB,KAAK,UAAU;AACpD,YAAI,MAAM;AACV,YAAI,SAAS,SAAS,qBAAqB,QAAQ,EAAE,MAAM,SAAS;AACpE,YAAI;AACJ,YAAI;AAGJ,YAAI,SAAS;AACX,kBAAQ,WAAW,WAAU;AAC3B,oBAAQ;AACR,gBAAI;AAAI,iBAAG,IAAI,MAAM,SAAS,CAAC;AAAA,UACjC,GAAG,OAAO;AAAA,QACZ;AAEA,2BAAkB;AAChB,cAAI,OAAO;AAAY,mBAAO,WAAW,YAAY,MAAM;AAC3D,iBAAO,MAAM;AACb,cAAI;AAAO,yBAAa,KAAK;AAAA,QAC/B;AAEA,0BAAiB;AACf,cAAI,OAAO,KAAK;AACd,oBAAQ;AAAA,UACV;AAAA,QACF;AAEA,eAAO,MAAM,SAAS,MAAK;AACzB,gBAAM,aAAa,IAAI;AACvB,kBAAQ;AACR,cAAI;AAAI,eAAG,MAAM,IAAI;AAAA,QACvB;AAGA,eAAQ,EAAC,IAAI,QAAQ,GAAG,IAAI,MAAM,OAAO,QAAQ,MAAM,IAAI,EAAE;AAC7D,cAAM,IAAI,QAAQ,MAAM,GAAG;AAE3B,cAAM,kBAAkB,GAAG;AAG3B,iBAAS,SAAS,cAAc,QAAQ;AACxC,eAAO,MAAM;AACb,eAAO,WAAW,aAAa,QAAQ,MAAM;AAE7C,eAAO;AAAA,MACT;AAAA;AAAA;;;AChGA;AAAA;AAAA;AAMA,UAAI,QAAO;AACX,UAAI,eAAe;AACnB,UAAI,OAAO;AACX,UAAI,QAAQ;AAMZ,gBAAU,OAAO,UAAU,OAAO,OAAO;AAMzC,cAAQ,WAAW;AAMnB,cAAQ,SAAS;AAMjB,cAAQ,OAAO;AAMf,cAAQ,SAAS;AAMjB,cAAQ,OAAO,OAAO,QAAQ;AAY9B,oBAAc,KAAK,KAAK,SAAS,IAAI;AACnC,YAAI,UAAU,WAAW;AAAG,eAAK,SAAS,UAAU,CAAC;AAErD,YAAI,MAAM,IAAI;AACd,YAAI,UAAU;AACd,YAAI,qBAAqB;AACzB,YAAI,KAAK,QAAQ,KAAK,IAAI;AAI1B,iBAAS,KAAK,SAAS;AACrB,cAAI,iBAAiB,GAAG,QAAQ,EAAE;AAAA,QACpC;AACA,YAAI,KAAK,MAAK,UAAU,GAAG,CAAC;AAE5B,wBAAgB;AACd,cAAI,IAAI,eAAe,GAAG;AACxB,mBAAO,GAAG,MAAM,GAAG;AAAA,UACrB;AAAA,QACF;AAAA,MACF;AAWA,sBAAgB,KAAK,KAAK,GAAG,IAAI;AAC/B,YAAI,UAAU,WAAW;AAAG,eAAK;AAEjC,YAAI,SAAS,QAAQ;AACrB,YAAI,OAAO,OAAO,GAAG;AACrB,eAAO,MAAM,SAAS,MAAM;AAC5B,cAAM,KAAK,EAAE,OAAO,QAAQ,SAAS,GAAG,SAAS,KAAK,MAAK;AACzD,cAAI;AAAK,mBAAO,GAAG,GAAG;AACtB,aAAG,MAAM;AAAA,YACP;AAAA,YACA,MAAM;AAAA,UACR,CAAC;AAAA,QACH,CAAC;AAAA,MACH;AAQA,sBAAgB,KAAK;AACnB,YAAI,MAAM;AACV,cAAM,MAAK,UAAU,GAAG;AACxB,cAAM,aAAa,GAAG;AACtB,cAAM,IAAI,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG;AAChD,eAAO,mBAAmB,GAAG;AAAA,MAC/B;AAAA;AAAA;;;ACnHA;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,UAAI,UAAU;AACd,UAAI,OAAO;AACX,UAAI,QAAQ,kBAAiB,sBAAsB;AACnD,uBAAiB,SAAS;AACtB,aAAK,QAAQ,OAAO;AAAA,MACxB;AAIA,cAAQ,UAAU,UAAU,SAAU,SAAS;AAC3C,kBAAU,WAAW,CAAC;AACtB,aAAK,OAAO,QAAQ,QAAQ;AAC5B,aAAK,aAAa,QAAQ,cAAc;AACxC,aAAK,aAAa,QAAQ,cAAc,KAAK;AAC7C,aAAK,eAAe,QAAQ,gBAAgB;AAC5C,aAAK,QAAQ,CAAC;AACd,YAAI,KAAK,aAAa,GAAG;AACrB,cAAI,QAAO;AACX,sBAAY,WAAY;AACpB,kBAAK,OAAO;AAAA,UAChB,GAAG,KAAK,UAAU;AAAA,QACtB;AAAA,MACJ;AAIA,cAAQ,UAAU,YAAY,SAAU,QAAQ,MAAM;AAClD,YAAI,KAAK,OAAO,IAAI,KAAK,YAAY;AACjC;AAAA,QACJ;AACA,YAAI,KAAK,MAAM,UAAU,KAAK,cAAc;AACxC;AAAA,QACJ;AACA,aAAK,MAAM,KAAK,EAAE,MAAM,WAAW,QAAgB,OAAO,GAAG,KAAW,CAAC;AAEzE,YAAI,OAAO,QAAQ,OAAO,IAAI,GAAG;AAC7B,eAAK,OAAO;AAAA,QAChB;AAAA,MACJ;AAIA,cAAQ,UAAU,SAAS,WAAY;AACnC,YAAI,QAAO;AACX,YAAI,MAAK,MAAM,UAAU,GAAG;AACxB;AAAA,QACJ;AACA,YAAI,UAAU,EAAE,QAAQ,KAAK,MAAM;AACnC,YAAI,UAAU,EAAE,gBAAgB,aAAa;AAC7C,cAAK,QAAQ,CAAC;AAGd,YAAI,KAAK,SAAS;AACd;AACJ,aAAK,aAAa,KAAK,OAAO,MAAM,SAAS,SAAS,SAAU,KAAK,KAAK;AACtE,gBAAM,wBAAwB,SAAS,CAAC,KAAK,GAAG,CAAC;AAAA,QACrD,CAAC;AAAA,MACL;AAIA,aAAO,UAAU,QAAQ,IAAI,QAAQ,CAAC;AAItC,aAAO,QAAQ,UAAU;AAAA;AAAA;;;ACnEzB;AAAA;AAAA;AAEA,UAAI,MAAM,OAAO,UAAU;AAC3B,UAAI,YAAY,OAAO,UAAU;AACjC,UAAI,QAAQ,OAAO,UAAU;AAU7B,UAAI,SAAS,SAAS,KAAK,OAAO;AAChC,eAAO,UAAU,KAAK,KAAK,KAAK;AAAA,MAClC;AAaA,UAAI,MAAM,cAAa,SAAS,MAAM;AACpC,eAAO,IAAI,KAAK,SAAS,IAAI;AAAA,MAC/B;AAYA,UAAI,WAAW,mBAAkB,KAAK;AACpC,eAAO,MAAM,KAAK,GAAG,MAAM;AAAA,MAC7B;AAaA,UAAI,cAAc,sBAAqB,KAAK;AAC1C,eAAO,OAAO,QAAS,QAAO,QAAQ,cAAc,OAAO,IAAI,WAAW;AAAA,MAC5E;AAYA,UAAI,YAAY,oBAAmB,QAAQ,MAAM;AAC/C,eAAO,QAAQ;AAEf,YAAI,UAAU,CAAC;AAEf,iBAAS,IAAI,GAAG,MAAM,OAAO,QAAQ,IAAI,KAAK,KAAK,GAAG;AACpD,cAAI,KAAK,QAAQ,CAAC,GAAG;AACnB,oBAAQ,KAAK,OAAO,CAAC,CAAC;AAAA,UACxB;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAYA,UAAI,aAAa,qBAAoB,QAAQ,MAAM;AACjD,eAAO,QAAQ;AAEf,YAAI,UAAU,CAAC;AAEf,iBAAS,OAAO,QAAQ;AACtB,cAAI,KAAK,QAAQ,GAAG,GAAG;AACrB,oBAAQ,KAAK,OAAO,GAAG,CAAC;AAAA,UAC1B;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAkCA,UAAI,OAAO,eAAc,QAAQ;AAC/B,YAAI,UAAU,MAAM;AAClB,iBAAO,CAAC;AAAA,QACV;AAGA,YAAI,SAAS,MAAM,GAAG;AACpB,iBAAO,UAAU,QAAQ,MAAM;AAAA,QACjC;AAGA,YAAI,YAAY,MAAM,GAAG;AACvB,iBAAO,UAAU,QAAQ,GAAG;AAAA,QAC9B;AAEA,eAAO,WAAW,MAAM;AAAA,MAC1B;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACpKjB;AAAA;AAAA;AAwBA,UAAI,OAAO;AACX,UAAI,cAAc,OAAO,UAAU;AASnC,UAAI,WAAW,mBAAkB,KAAK;AAClC,YAAI,OAAO,OAAO;AAClB,eAAQ,SAAS,YACZ,SAAS,YAAY,YAAY,KAAK,GAAG,MAAM;AAAA,MACxD;AASA,UAAI,UAAU,OAAO,MAAM,YAAY,aACjC,MAAM,UACN,kBAAiB,KAAK;AACpB,eAAO,YAAY,KAAK,GAAG,MAAM;AAAA,MACrC;AAUJ,UAAI,cAAc,sBAAqB,KAAK;AACxC,eAAQ,OAAO,QACV,SAAQ,GAAG,KAAM,QAAQ,cAAc,SAAS,IAAI,MAAM;AAAA,MACnE;AAUA,UAAI,YAAY,oBAAmB,UAAU,OAAO;AAChD,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AAEtC,cAAI,SAAS,MAAM,IAAI,GAAG,KAAK,MAAM,OAAO;AACxC;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAUA,UAAI,WAAW,mBAAkB,UAAU,QAAQ;AAC/C,YAAI,KAAK,KAAK,MAAM;AACpB,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK,GAAG;AAEnC,cAAI,SAAS,OAAO,GAAG,KAAK,GAAG,IAAI,MAAM,MAAM,OAAO;AAClD;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAgCA,UAAI,OAAO,eAAc,UAAU,YAAY;AAC3C,eAAQ,aAAY,UAAU,IAAI,YAAY,UAAU,KAAK,MAAM,UAAU,UAAU;AAAA,MAC3F;AAIA,aAAO,UAAU;AAAA;AAAA;;;ACzIjB;AAAA;AAAA;AAEA,UAAI,MAAM,OAAO,UAAU;AAsB3B,UAAI,SAAS,iBAAgB,MAAqB;AAChD,YAAI,UAAU,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAErD,iBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK,GAAG;AAC1C,mBAAS,OAAO,QAAQ,IAAI;AAC1B,gBAAI,IAAI,KAAK,QAAQ,IAAI,GAAG,GAAG;AAC7B,mBAAK,OAAO,QAAQ,GAAG;AAAA,YACzB;AAAA,UACF;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC1CjB;AAAA;AAAA;AAIA,UAAI,UAAU;AACd,UAAI,QAAQ;AAIZ,UAAI,MAAM,OAAO,UAAU;AAI3B,aAAO,UAAU,QAAQ,IAAI,OAAO,CAAC;AAIrC,wBAAkB;AACd,aAAK,QAAQ,CAAC;AAAA,MAClB;AAIA,aAAO,UAAU,MAAM,SAAU,KAAK,OAAO;AACzC,aAAK,MAAM,OAAO,MAAM,KAAK;AAC7B,eAAO;AAAA,MACX;AAIA,aAAO,UAAU,MAAM,SAAU,KAAK;AAClC,YAAI,CAAC,IAAI,KAAK,KAAK,OAAO,GAAG;AACzB;AACJ,eAAO,MAAM,KAAK,MAAM,IAAI;AAAA,MAChC;AAIA,aAAO,UAAU,SAAS,SAAU,KAAK;AACrC,eAAO,KAAK,MAAM;AAClB,eAAO;AAAA,MACX;AAAA;AAAA;;;ACzCA;AAAA;AAAA;AAEA,UAAI,QAAO;AAEX,aAAO,UAAW,WAAW;AAE5B,YAAI,QAAQ,CAAC,GACZ,MAAO,OAAO,UAAU,cAAc,SAAS,QAC/C,MAAM,IAAI,UACV,mBAAmB,gBACnB,YAAY,UACZ;AAED,cAAM,WAAW;AACjB,cAAM,UAAU;AAChB,cAAM,MAAM,SAAS,KAAK,OAAO;AAAA,QAAC;AAClC,cAAM,MAAM,SAAS,KAAK,YAAY;AAAA,QAAC;AACvC,cAAM,MAAM,SAAS,KAAK;AAAE,iBAAO,MAAM,IAAI,GAAG,MAAM;AAAA,QAAU;AAChE,cAAM,SAAS,SAAS,KAAK;AAAA,QAAC;AAC9B,cAAM,QAAQ,WAAW;AAAA,QAAC;AAC1B,cAAM,WAAW,SAAS,KAAK,YAAY,eAAe;AACzD,cAAI,iBAAiB,MAAM;AAC1B,4BAAgB;AAChB,yBAAa;AAAA,UACd;AACA,cAAI,cAAc,MAAM;AACvB,yBAAa,CAAC;AAAA,UACf;AACA,cAAI,MAAM,MAAM,IAAI,KAAK,UAAU;AACnC,wBAAc,GAAG;AACjB,gBAAM,IAAI,KAAK,GAAG;AAAA,QACnB;AACA,cAAM,SAAS,WAAW;AACzB,cAAI,MAAM,CAAC;AACX,gBAAM,QAAQ,SAAS,KAAK,KAAK;AAChC,gBAAI,OAAO;AAAA,UACZ,CAAC;AACD,iBAAO;AAAA,QACR;AACA,cAAM,UAAU,WAAW;AAAA,QAAC;AAC5B,cAAM,YAAY,SAAS,OAAO;AACjC,iBAAO,MAAK,UAAU,KAAK;AAAA,QAC5B;AACA,cAAM,cAAc,SAAS,OAAO;AACnC,cAAI,OAAO,SAAS,UAAU;AAAE,mBAAO;AAAA,UAAU;AACjD,cAAI;AAAE,mBAAO,MAAK,MAAM,KAAK;AAAA,UAAE,SACzB,GAAN;AAAW,mBAAO,SAAS;AAAA,UAAU;AAAA,QACtC;AAKA,+CAAuC;AACtC,cAAI;AAAE,mBAAQ,oBAAoB,OAAO,IAAI;AAAA,UAAmB,SAC1D,KAAN;AAAa,mBAAO;AAAA,UAAM;AAAA,QAC3B;AAEA,YAAI,4BAA4B,GAAG;AAClC,oBAAU,IAAI;AACd,gBAAM,MAAM,SAAS,KAAK,KAAK;AAC9B,gBAAI,QAAQ,QAAW;AAAE,qBAAO,MAAM,OAAO,GAAG;AAAA,YAAE;AAClD,oBAAQ,QAAQ,KAAK,MAAM,UAAU,GAAG,CAAC;AACzC,mBAAO;AAAA,UACR;AACA,gBAAM,MAAM,SAAS,KAAK,YAAY;AACrC,gBAAI,MAAM,MAAM,YAAY,QAAQ,QAAQ,GAAG,CAAC;AAChD,mBAAQ,QAAQ,SAAY,aAAa;AAAA,UAC1C;AACA,gBAAM,SAAS,SAAS,KAAK;AAAE,oBAAQ,WAAW,GAAG;AAAA,UAAE;AACvD,gBAAM,QAAQ,WAAW;AAAE,oBAAQ,MAAM;AAAA,UAAE;AAC3C,gBAAM,UAAU,SAAS,UAAU;AAClC,qBAAS,IAAE,GAAG,IAAE,QAAQ,QAAQ,KAAK;AACpC,kBAAI,MAAM,QAAQ,IAAI,CAAC;AACvB,uBAAS,KAAK,MAAM,IAAI,GAAG,CAAC;AAAA,YAC7B;AAAA,UACD;AAAA,QACD,WAAW,OAAO,IAAI,gBAAgB,aAAa;AAClD,cAAI,cACH;AAWD,cAAI;AACH,+BAAmB,IAAI,cAAc,UAAU;AAC/C,6BAAiB,KAAK;AACtB,6BAAiB,MAAM,MAAI,YAAU,yBAAuB,YAAU,uCAAuC;AAC7G,6BAAiB,MAAM;AACvB,2BAAe,iBAAiB,EAAE,OAAO,GAAG;AAC5C,sBAAU,aAAa,cAAc,KAAK;AAAA,UAC3C,SAAQ,GAAN;AAGD,sBAAU,IAAI,cAAc,KAAK;AACjC,2BAAe,IAAI;AAAA,UACpB;AACA,cAAI,gBAAgB,SAAS,eAAe;AAC3C,mBAAO,WAAW;AACjB,kBAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAClD,mBAAK,QAAQ,OAAO;AAGpB,2BAAa,YAAY,OAAO;AAChC,sBAAQ,YAAY,mBAAmB;AACvC,sBAAQ,KAAK,gBAAgB;AAC7B,kBAAI,SAAS,cAAc,MAAM,OAAO,IAAI;AAC5C,2BAAa,YAAY,OAAO;AAChC,qBAAO;AAAA,YACR;AAAA,UACD;AAKA,cAAI,sBAAsB,IAAI,OAAO,yCAAyC,GAAG;AACjF,cAAI,WAAW,SAAS,KAAK;AAC5B,mBAAO,IAAI,QAAQ,MAAM,OAAO,EAAE,QAAQ,qBAAqB,KAAK;AAAA,UACrE;AACA,gBAAM,MAAM,cAAc,SAAS,UAAS,KAAK,KAAK;AACrD,kBAAM,SAAS,GAAG;AAClB,gBAAI,QAAQ,QAAW;AAAE,qBAAO,MAAM,OAAO,GAAG;AAAA,YAAE;AAClD,qBAAQ,aAAa,KAAK,MAAM,UAAU,GAAG,CAAC;AAC9C,qBAAQ,KAAK,gBAAgB;AAC7B,mBAAO;AAAA,UACR,CAAC;AACD,gBAAM,MAAM,cAAc,SAAS,UAAS,KAAK,YAAY;AAC5D,kBAAM,SAAS,GAAG;AAClB,gBAAI,MAAM,MAAM,YAAY,SAAQ,aAAa,GAAG,CAAC;AACrD,mBAAQ,QAAQ,SAAY,aAAa;AAAA,UAC1C,CAAC;AACD,gBAAM,SAAS,cAAc,SAAS,UAAS,KAAK;AACnD,kBAAM,SAAS,GAAG;AAClB,qBAAQ,gBAAgB,GAAG;AAC3B,qBAAQ,KAAK,gBAAgB;AAAA,UAC9B,CAAC;AACD,gBAAM,QAAQ,cAAc,SAAS,UAAS;AAC7C,gBAAI,aAAa,SAAQ,YAAY,gBAAgB;AACrD,qBAAQ,KAAK,gBAAgB;AAC7B,qBAAS,IAAE,WAAW,SAAO,GAAG,KAAG,GAAG,KAAK;AAC1C,uBAAQ,gBAAgB,WAAW,GAAG,IAAI;AAAA,YAC3C;AACA,qBAAQ,KAAK,gBAAgB;AAAA,UAC9B,CAAC;AACD,gBAAM,UAAU,cAAc,SAAS,UAAS,UAAU;AACzD,gBAAI,aAAa,SAAQ,YAAY,gBAAgB;AACrD,qBAAS,IAAE,GAAG,MAAM,OAAK,WAAW,IAAI,EAAE,GAAG;AAC5C,uBAAS,KAAK,MAAM,MAAM,YAAY,SAAQ,aAAa,KAAK,IAAI,CAAC,CAAC;AAAA,YACvE;AAAA,UACD,CAAC;AAAA,QACF;AAEA,YAAI;AACH,cAAI,UAAU;AACd,gBAAM,IAAI,SAAS,OAAO;AAC1B,cAAI,MAAM,IAAI,OAAO,KAAK,SAAS;AAAE,kBAAM,WAAW;AAAA,UAAK;AAC3D,gBAAM,OAAO,OAAO;AAAA,QACrB,SAAQ,GAAN;AACD,gBAAM,WAAW;AAAA,QAClB;AACA,cAAM,UAAU,CAAC,MAAM;AAEvB,eAAO;AAAA,MACR,EAAE;AAAA;AAAA;;;ACxKF;AAAA;AAAA;AAIA,UAAI,UAAU;AACd,UAAI,WAAW;AACf,UAAI,QAAQ;AAMZ,qBAAe,SAAS;AACpB,aAAK,QAAQ,OAAO;AAAA,MACxB;AAIA,YAAM,UAAU,UAAU,SAAU,SAAS;AACzC,YAAI,UAAU,WAAW;AACrB,iBAAO,KAAK;AAChB,kBAAU,WAAW,CAAC;AACtB,iBAAS,SAAS,EAAE,SAAS,KAAK,CAAC;AACnC,aAAK,UAAU,QAAQ,WAAW,MAAM;AACxC,aAAK,WAAW;AAAA,MACpB;AAIA,YAAM,UAAU,MAAM,SAAU,KAAK,OAAO;AACxC,YAAI,CAAC,KAAK;AACN,iBAAO;AACX,eAAO,MAAM,IAAI,KAAK,KAAK;AAAA,MAC/B;AAIA,YAAM,UAAU,MAAM,SAAU,KAAK;AACjC,YAAI,CAAC,KAAK;AACN,iBAAO;AACX,eAAO,MAAM,IAAI,GAAG;AAAA,MACxB;AAIA,YAAM,UAAU,SAAS,SAAU,KAAK;AACpC,YAAI,CAAC,KAAK;AACN,iBAAO;AACX,eAAO,MAAM,OAAO,GAAG;AAAA,MAC3B;AAIA,aAAO,UAAU,QAAQ,IAAI,MAAM,CAAC;AAIpC,aAAO,QAAQ,QAAQ;AAAA;AAAA;;;ACzDvB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,UAAI,QAAQ;AACZ,UAAI,SAAS;AACb,UAAI,QAAQ,kBAAiB,kBAAkB;AAC/C,UAAI,WAAW;AACf,UAAI,SAAS;AACb,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,kBAAkB;AAItB,aAAO,UAAU;AAIjB,sBAAgB,SAAS;AACrB,aAAK,QAAQ,OAAO;AACpB,aAAK,WAAW;AAAA,MACpB;AAOA,aAAO,UAAU,aAAa,WAAY;AACtC,eAAO,IAAI,eAAe,IAAI;AAE9B,YAAI,OAAO,IAAI,aAAa,GAAG;AAC3B,iBAAO,OAAO,aAAa;AAC3B,eAAK,WAAW;AAChB;AAAA,QACJ;AAEA,YAAI,MAAM,SAAS;AACf,eAAK,WAAW;AAChB;AAAA,QACJ;AAEA,cAAM,uEAAuE;AAC7E,aAAK,WAAW;AAAA,MACpB;AAIA,aAAO,UAAU,UAAU,WAAY;AACnC,eAAO,KAAK;AAAA,MAChB;AAIA,aAAO,UAAU,UAAU,SAAU,SAAS;AAC1C,YAAI,UAAU,WAAW;AACrB,iBAAO,KAAK;AAChB,aAAK,WAAW,SAAS,WAAW,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC;AAAA,MAC/D;AAIA,aAAO,UAAU,KAAK,SAAU,IAAI;AAChC,gBAAQ,UAAU;AAAA,eACT;AACD,mBAAO,KAAK,OAAO;AAAA,eAClB;AACD,mBAAO,KAAK,OAAO,EAAE;AAAA;AAAA;AAAA,MAIjC;AAIA,aAAO,UAAU,SAAS,WAAY;AAClC,YAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAO,KAAK,QAAQ,SAAY,OAAO,KAAK;AAAA,QAChD;AAEA,YAAI,WAAW,KAAK,iBAAiB;AACrC,YAAI,UAAU;AACV,iBAAO;AAAA,QACX;AAEA,YAAI,OAAO,KAAK,uBAAuB;AACvC,YAAI,MAAM;AAEN,eAAK,gBAAgB,IAAI;AACzB,iBAAO;AAAA,QACX;AACA,eAAO;AAAA,MACX;AAMA,aAAO,UAAU,mBAAmB,WAAY;AAC5C,eAAO,KAAK,QAAQ,EAAE,IAAI,KAAK,SAAS,OAAO,GAAG;AAAA,MACtD;AAIA,aAAO,UAAU,yBAAyB,WAAY;AAClD,YAAI,CAAC,KAAK,SAAS,8BAA8B;AAC7C,iBAAO,MAAM,IAAI,KAAK,SAAS,OAAO,GAAG;AAAA,QAC7C;AACA,eAAO;AAAA,MACX;AAIA,aAAO,UAAU,SAAS,SAAU,IAAI;AACpC,YAAI,KAAK,SAAS,SAAS;AACvB,eAAK,gBAAgB,EAAE;AACvB,eAAK,qBAAqB,EAAE;AAAA,QAChC,OACK;AACD,eAAK,MAAM;AAAA,QACf;AAAA,MACJ;AAIA,aAAO,UAAU,kBAAkB,SAAU,IAAI;AAC7C,aAAK,QAAQ,EAAE,IAAI,KAAK,SAAS,OAAO,KAAK,EAAE;AAAA,MACnD;AAIA,aAAO,UAAU,uBAAuB,SAAU,IAAI;AAClD,YAAI,CAAC,KAAK,SAAS,8BAA8B;AAC7C,gBAAM,IAAI,KAAK,SAAS,OAAO,KAAK,EAAE;AAAA,QAC1C;AAAA,MACJ;AAMA,aAAO,UAAU,aAAa,OAAO,UAAU,SAAS,SAAU,QAAQ;AACtE,gBAAQ,UAAU;AAAA,eACT;AACD,mBAAO,KAAK,WAAW;AAAA,eACtB;AACD,mBAAO,KAAK,WAAW,MAAM;AAAA;AAAA;AAAA,MAIzC;AAKA,aAAO,UAAU,aAAa,WAAY;AACtC,YAAI,MAAM,KAAK,SAAS,UAClB,MAAM,IAAI,KAAK,SAAS,aAAa,GAAG,IACxC,KAAK;AACX,eAAO,MAAM,gBAAgB,MAAM,GAAG,CAAC,IAAI,CAAC;AAAA,MAChD;AAIA,aAAO,UAAU,aAAa,SAAU,QAAQ;AAC5C,iBAAS,UAAU,CAAC;AACpB,YAAI,KAAK,SAAS,SAAS;AACvB,gBAAM,IAAI,KAAK,SAAS,aAAa,KAAK,MAAM;AAAA,QACpD,OACK;AACD,eAAK,UAAU;AAAA,QACnB;AAAA,MACJ;AAKA,aAAO,UAAU,WAAW,SAAU,IAAI,QAAQ;AAC9C,iBAAS,UAAU,CAAC;AACpB,YAAI,UAAU,KAAK,GAAG;AACtB,YAAI,YAAY,QAAQ,YAAY;AAChC,mBAAS,OAAO,KAAK,OAAO,GAAG,MAAM;AACzC,YAAI;AACA,eAAK,GAAG,EAAE;AACd,aAAK,MAAM,mBAAmB,IAAI,MAAM;AACxC,aAAK,OAAO,MAAM;AAClB,aAAK,KAAK;AAAA,MACd;AAIA,aAAO,UAAU,OAAO,WAAY;AAChC,YAAI,CAAC,KAAK,SAAS;AACf,iBAAO;AACX,aAAK,OAAO,KAAK,GAAG,CAAC;AACrB,aAAK,WAAW,KAAK,OAAO,CAAC;AAC7B,eAAO;AAAA,MACX;AAIA,aAAO,UAAU,SAAS,WAAY;AAClC,aAAK,GAAG,IAAI;AACZ,aAAK,OAAO,CAAC,CAAC;AACd,aAAK,QAAQ,EAAE,OAAO,KAAK,SAAS,OAAO,GAAG;AAC9C,cAAM,OAAO,KAAK,SAAS,OAAO,GAAG;AACrC,cAAM,OAAO,KAAK,SAAS,aAAa,GAAG;AAAA,MAC/C;AAIA,aAAO,UAAU,QAAQ,WAAY;AACjC,aAAK,OAAO;AACZ,aAAK,QAAQ,CAAC,CAAC;AAAA,MACnB;AAIA,aAAO,UAAU,OAAO,WAAY;AAChC,aAAK,GAAG,KAAK,GAAG,CAAC;AACjB,aAAK,OAAO,KAAK,OAAO,CAAC;AAAA,MAC7B;AAAA;AAAA;;;AC/NA;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,UAAI,SAAS;AACb,UAAI,UAAU;AACd,UAAI,QAAQ,kBAAiB,iBAAiB;AAC9C,UAAI,UAAU;AAId,YAAM,WAAW;AAAA,QACb,SAAS;AAAA,QACT,QAAQ;AAAA,UACJ,KAAK;AAAA,QACT;AAAA,QACA,cAAc;AAAA,UACV,KAAK;AAAA,QACT;AAAA,MACJ;AAIA,qBAAe,SAAS;AACpB,aAAK,WAAW,MAAM;AACtB,aAAK,QAAQ;AACb,eAAO,KAAK,MAAM,OAAO;AAAA,MAC7B;AAIA,cAAQ,OAAO,MAAM;AAIrB,aAAO,UAAU,QAAQ,IAAI,MAAM,CAAC;AAIpC,aAAO,QAAQ,QAAQ;AAAA;AAAA;;;ACxCvB;AAAA;AAAA;AAIA,AAQA,UAAI,WAAW,OAAO;AACtB,UAAI,OAAO,SAAS;AACpB,UAAI,QAAQ,SAAS;AACrB,UAAI;AACJ,UAAI,OAAO,WAAW,YAAY;AAChC,wBAAgB,OAAO,UAAU;AAAA,MACnC;AACA,UAAI;AACJ,UAAI,OAAO,WAAW,YAAY;AAChC,wBAAgB,OAAO,UAAU;AAAA,MACnC;AACA,UAAI,cAAc,SAAU,OAAO;AACjC,eAAO,UAAU;AAAA,MACnB;AACA,UAAI,iBAAiB;AAAA,QACnB,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,WAAW;AAAA,MACb;AAEA,UAAI,cAAc;AAClB,UAAI,WAAW;AAMf,UAAI,KAAK,CAAC;AAgBV,SAAG,IAAI,GAAG,OAAO,SAAU,OAAO,MAAM;AACtC,eAAO,OAAO,UAAU;AAAA,MAC1B;AAWA,SAAG,UAAU,SAAU,OAAO;AAC5B,eAAO,OAAO,UAAU;AAAA,MAC1B;AAWA,SAAG,QAAQ,SAAU,OAAO;AAC1B,YAAI,OAAO,MAAM,KAAK,KAAK;AAC3B,YAAI;AAEJ,YAAI,SAAS,oBAAoB,SAAS,wBAAwB,SAAS,mBAAmB;AAC5F,iBAAO,MAAM,WAAW;AAAA,QAC1B;AAEA,YAAI,SAAS,mBAAmB;AAC9B,eAAK,OAAO,OAAO;AACjB,gBAAI,KAAK,KAAK,OAAO,GAAG,GAAG;AACzB,qBAAO;AAAA,YACT;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAEA,eAAO,CAAC;AAAA,MACV;AAWA,SAAG,QAAQ,eAAe,OAAO,OAAO;AACtC,YAAI,UAAU,OAAO;AACnB,iBAAO;AAAA,QACT;AAEA,YAAI,OAAO,MAAM,KAAK,KAAK;AAC3B,YAAI;AAEJ,YAAI,SAAS,MAAM,KAAK,KAAK,GAAG;AAC9B,iBAAO;AAAA,QACT;AAEA,YAAI,SAAS,mBAAmB;AAC9B,eAAK,OAAO,OAAO;AACjB,gBAAI,CAAC,GAAG,MAAM,MAAM,MAAM,MAAM,IAAI,KAAK,CAAE,QAAO,QAAQ;AACxD,qBAAO;AAAA,YACT;AAAA,UACF;AACA,eAAK,OAAO,OAAO;AACjB,gBAAI,CAAC,GAAG,MAAM,MAAM,MAAM,MAAM,IAAI,KAAK,CAAE,QAAO,QAAQ;AACxD,qBAAO;AAAA,YACT;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAEA,YAAI,SAAS,kBAAkB;AAC7B,gBAAM,MAAM;AACZ,cAAI,QAAQ,MAAM,QAAQ;AACxB,mBAAO;AAAA,UACT;AACA,iBAAO,OAAO;AACZ,gBAAI,CAAC,GAAG,MAAM,MAAM,MAAM,MAAM,IAAI,GAAG;AACrC,qBAAO;AAAA,YACT;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAEA,YAAI,SAAS,qBAAqB;AAChC,iBAAO,MAAM,cAAc,MAAM;AAAA,QACnC;AAEA,YAAI,SAAS,iBAAiB;AAC5B,iBAAO,MAAM,QAAQ,MAAM,MAAM,QAAQ;AAAA,QAC3C;AAEA,eAAO;AAAA,MACT;AAYA,SAAG,SAAS,SAAU,OAAO,MAAM;AACjC,YAAI,OAAO,OAAO,KAAK;AACvB,eAAO,SAAS,WAAW,CAAC,CAAC,KAAK,SAAS,CAAC,eAAe;AAAA,MAC7D;AAWA,SAAG,WAAW,GAAG,gBAAgB,SAAU,OAAO,aAAa;AAC7D,eAAO,iBAAiB;AAAA,MAC1B;AAWA,SAAG,MAAM,GAAG,UAAU,SAAU,OAAO;AACrC,eAAO,UAAU;AAAA,MACnB;AAWA,SAAG,QAAQ,GAAG,YAAY,SAAU,OAAO;AACzC,eAAO,OAAO,UAAU;AAAA,MAC1B;AAeA,SAAG,OAAO,GAAG,YAAY,SAAU,OAAO;AACxC,YAAI,sBAAsB,MAAM,KAAK,KAAK,MAAM;AAChD,YAAI,iBAAiB,CAAC,GAAG,MAAM,KAAK,KAAK,GAAG,UAAU,KAAK,KAAK,GAAG,OAAO,KAAK,KAAK,GAAG,GAAG,MAAM,MAAM;AACtG,eAAO,uBAAuB;AAAA,MAChC;AAeA,SAAG,QAAQ,MAAM,WAAW,SAAU,OAAO;AAC3C,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAUA,SAAG,KAAK,QAAQ,SAAU,OAAO;AAC/B,eAAO,GAAG,KAAK,KAAK,KAAK,MAAM,WAAW;AAAA,MAC5C;AAUA,SAAG,MAAM,QAAQ,SAAU,OAAO;AAChC,eAAO,GAAG,MAAM,KAAK,KAAK,MAAM,WAAW;AAAA,MAC7C;AAWA,SAAG,YAAY,SAAU,OAAO;AAC9B,eAAO,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,KAAK,KAC3B,KAAK,KAAK,OAAO,QAAQ,KACzB,SAAS,MAAM,MAAM,KACrB,GAAG,OAAO,MAAM,MAAM,KACtB,MAAM,UAAU;AAAA,MACvB;AAeA,SAAG,OAAO,GAAG,aAAa,SAAU,OAAO;AACzC,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAWA,SAAG,WAAW,SAAU,OAAO;AAC7B,eAAO,GAAG,KAAK,KAAK,KAAK,QAAQ,OAAO,KAAK,CAAC,MAAM;AAAA,MACtD;AAWA,SAAG,UAAU,SAAU,OAAO;AAC5B,eAAO,GAAG,KAAK,KAAK,KAAK,QAAQ,OAAO,KAAK,CAAC,MAAM;AAAA,MACtD;AAeA,SAAG,OAAO,SAAU,OAAO;AACzB,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AASA,SAAG,KAAK,QAAQ,SAAU,OAAO;AAC/B,eAAO,GAAG,KAAK,KAAK,KAAK,CAAC,MAAM,OAAO,KAAK,CAAC;AAAA,MAC/C;AAeA,SAAG,UAAU,SAAU,OAAO;AAC5B,eAAO,UAAU,UACZ,OAAO,gBAAgB,eACvB,iBAAiB,eACjB,MAAM,aAAa;AAAA,MAC1B;AAeA,SAAG,QAAQ,SAAU,OAAO;AAC1B,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAeA,SAAG,KAAK,GAAG,cAAc,SAAU,OAAO;AACxC,YAAI,UAAU,OAAO,WAAW,eAAe,UAAU,OAAO;AAChE,YAAI,SAAS;AACX,iBAAO;AAAA,QACT;AACA,YAAI,MAAM,MAAM,KAAK,KAAK;AAC1B,eAAO,QAAQ,uBAAuB,QAAQ,gCAAgC,QAAQ;AAAA,MACxF;AAeA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAUA,SAAG,WAAW,SAAU,OAAO;AAC7B,eAAO,UAAU,YAAY,UAAU;AAAA,MACzC;AAWA,SAAG,UAAU,SAAU,OAAO;AAC5B,eAAO,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY,KAAK,KAAK,CAAC,GAAG,SAAS,KAAK,KAAK,QAAQ,MAAM;AAAA,MACzF;AAYA,SAAG,cAAc,SAAU,OAAO,GAAG;AACnC,YAAI,qBAAqB,GAAG,SAAS,KAAK;AAC1C,YAAI,oBAAoB,GAAG,SAAS,CAAC;AACrC,YAAI,kBAAkB,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY,KAAK,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,MAAM;AAC1G,eAAO,sBAAsB,qBAAsB,mBAAmB,QAAQ,MAAM;AAAA,MACtF;AAWA,SAAG,UAAU,GAAG,SAAS,SAAU,OAAO;AACxC,eAAO,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY,KAAK,KAAK,QAAQ,MAAM;AAAA,MAClE;AAYA,SAAG,UAAU,SAAU,OAAO,QAAQ;AACpC,YAAI,YAAY,KAAK,GAAG;AACtB,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD,WAAW,CAAC,GAAG,UAAU,MAAM,GAAG;AAChC,gBAAM,IAAI,UAAU,oCAAoC;AAAA,QAC1D;AACA,YAAI,MAAM,OAAO;AAEjB,eAAO,EAAE,OAAO,GAAG;AACjB,cAAI,QAAQ,OAAO,MAAM;AACvB,mBAAO;AAAA,UACT;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAYA,SAAG,UAAU,SAAU,OAAO,QAAQ;AACpC,YAAI,YAAY,KAAK,GAAG;AACtB,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD,WAAW,CAAC,GAAG,UAAU,MAAM,GAAG;AAChC,gBAAM,IAAI,UAAU,oCAAoC;AAAA,QAC1D;AACA,YAAI,MAAM,OAAO;AAEjB,eAAO,EAAE,OAAO,GAAG;AACjB,cAAI,QAAQ,OAAO,MAAM;AACvB,mBAAO;AAAA,UACT;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAWA,SAAG,MAAM,SAAU,OAAO;AACxB,eAAO,CAAC,GAAG,OAAO,KAAK,KAAK,UAAU;AAAA,MACxC;AAWA,SAAG,OAAO,SAAU,OAAO;AACzB,eAAO,GAAG,SAAS,KAAK,KAAM,GAAG,OAAO,KAAK,KAAK,UAAU,SAAS,QAAQ,MAAM;AAAA,MACrF;AAWA,SAAG,MAAM,SAAU,OAAO;AACxB,eAAO,GAAG,SAAS,KAAK,KAAM,GAAG,OAAO,KAAK,KAAK,UAAU,SAAS,QAAQ,MAAM;AAAA,MACrF;AAYA,SAAG,KAAK,SAAU,OAAO,OAAO;AAC9B,YAAI,YAAY,KAAK,KAAK,YAAY,KAAK,GAAG;AAC5C,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AACA,eAAO,CAAC,GAAG,SAAS,KAAK,KAAK,CAAC,GAAG,SAAS,KAAK,KAAK,SAAS;AAAA,MAChE;AAYA,SAAG,KAAK,SAAU,OAAO,OAAO;AAC9B,YAAI,YAAY,KAAK,KAAK,YAAY,KAAK,GAAG;AAC5C,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AACA,eAAO,CAAC,GAAG,SAAS,KAAK,KAAK,CAAC,GAAG,SAAS,KAAK,KAAK,QAAQ;AAAA,MAC/D;AAYA,SAAG,KAAK,SAAU,OAAO,OAAO;AAC9B,YAAI,YAAY,KAAK,KAAK,YAAY,KAAK,GAAG;AAC5C,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AACA,eAAO,CAAC,GAAG,SAAS,KAAK,KAAK,CAAC,GAAG,SAAS,KAAK,KAAK,SAAS;AAAA,MAChE;AAYA,SAAG,KAAK,SAAU,OAAO,OAAO;AAC9B,YAAI,YAAY,KAAK,KAAK,YAAY,KAAK,GAAG;AAC5C,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AACA,eAAO,CAAC,GAAG,SAAS,KAAK,KAAK,CAAC,GAAG,SAAS,KAAK,KAAK,QAAQ;AAAA,MAC/D;AAYA,SAAG,SAAS,SAAU,OAAO,OAAO,QAAQ;AAC1C,YAAI,YAAY,KAAK,KAAK,YAAY,KAAK,KAAK,YAAY,MAAM,GAAG;AACnE,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD,WAAW,CAAC,GAAG,OAAO,KAAK,KAAK,CAAC,GAAG,OAAO,KAAK,KAAK,CAAC,GAAG,OAAO,MAAM,GAAG;AACvE,gBAAM,IAAI,UAAU,+BAA+B;AAAA,QACrD;AACA,YAAI,gBAAgB,GAAG,SAAS,KAAK,KAAK,GAAG,SAAS,KAAK,KAAK,GAAG,SAAS,MAAM;AAClF,eAAO,iBAAkB,SAAS,SAAS,SAAS;AAAA,MACtD;AAcA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAUA,SAAG,YAAY,qBAAqB,OAAO;AACzC,YAAI,CAAC,OAAO;AACV,iBAAO;AAAA,QACT;AACA,YAAI,OAAO,UAAU,YAAY,GAAG,OAAO,KAAK,KAAK,GAAG,GAAG,KAAK,KAAK,GAAG,MAAM,KAAK,GAAG;AACpF,iBAAO;AAAA,QACT;AACA,eAAO;AAAA,MACT;AAWA,SAAG,OAAO,SAAU,OAAO;AACzB,eAAO,GAAG,OAAO,KAAK,KAAK,MAAM,gBAAgB,UAAU,CAAC,MAAM,YAAY,CAAC,MAAM;AAAA,MACvF;AAeA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAeA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,MAAM,KAAK,KAAK,MAAM;AAAA,MAC/B;AAeA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,GAAG,OAAO,KAAK,KAAM,EAAC,MAAM,UAAU,YAAY,KAAK,KAAK;AAAA,MACrE;AAeA,SAAG,MAAM,SAAU,OAAO;AACxB,eAAO,GAAG,OAAO,KAAK,KAAM,EAAC,MAAM,UAAU,SAAS,KAAK,KAAK;AAAA,MAClE;AAWA,SAAG,SAAS,SAAU,OAAO;AAC3B,eAAO,OAAO,WAAW,cAAc,MAAM,KAAK,KAAK,MAAM,qBAAqB,OAAO,cAAc,KAAK,KAAK,MAAM;AAAA,MACzH;AAWA,SAAG,SAAS,SAAU,OAAO;AAE3B,eAAO,OAAO,WAAW,cAAc,MAAM,KAAK,KAAK,MAAM,qBAAqB,OAAO,cAAc,KAAK,KAAK,MAAM;AAAA,MACzH;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACjzBjB;AAAA;AAAA;AAEA,sBAAgB,GAAG;AACjB,YAAI,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU;AACpD,iBAAO;AAAA,QACT;AAIA,YAAI,QAAQ,EAAE;AACd,YAAI,SAAS,EAAE;AACf,YAAI,CAAC,SAAS,WAAW,QAAW;AAElC,iBAAQ,CAAC,SAAS,KAAO,CAAC,SAAS,KAAO,SAAS;AAAA,QACrD,WAAW,UAAU,GAAG;AACtB,iBAAO;AAAA,QACT;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA;AAEA,UAAI;AAAJ,UAAc;AAEd,iBAAW,SAAU,IAAI;AACxB,YAAI,OAAO,OAAO;AAAY,gBAAM,IAAI,UAAU,KAAK,oBAAoB;AAC3E,eAAO;AAAA,MACR;AAEA,mBAAa,SAAU,UAAU;AAChC,YAAI,OAAO,SAAS,eAAe,EAAE,GAAG,OAAO,IAAI;AACnD,YAAI,SAAS,WAAY;AACxB,cAAI;AACJ,cAAI,CAAC;AAAO;AACZ,iBAAO;AACP,kBAAQ;AACR,cAAI,OAAO,SAAS,YAAY;AAC/B,iBAAK;AACL;AAAA,UACD;AACA,eAAK,QAAQ,SAAU,IAAI;AAAE,eAAG;AAAA,UAAG,CAAC;AAAA,QACrC,CAAC,EAAE,QAAQ,MAAM,EAAE,eAAe,KAAK,CAAC;AACxC,eAAO,SAAU,IAAI;AACpB,mBAAS,EAAE;AACX,cAAI,OAAO;AACV,gBAAI,OAAO,UAAU;AAAY,sBAAQ,CAAC,OAAO,EAAE;AAAA;AAC9C,oBAAM,KAAK,EAAE;AAClB;AAAA,UACD;AACA,kBAAQ;AACR,eAAK,OAAQ,IAAI,EAAE,IAAI;AAAA,QACxB;AAAA,MACD;AAEA,aAAO,UAAW,WAAY;AAE7B,YAAK,OAAO,YAAY,eAAgB,WACrC,OAAO,QAAQ,aAAa,YAAa;AAC3C,iBAAO,QAAQ;AAAA,QAChB;AAGA,YAAK,OAAO,aAAa,YAAa,UAAU;AAC/C,cAAI,OAAO,qBAAqB,YAAY;AAC3C,mBAAO,WAAW,gBAAgB;AAAA,UACnC;AACA,cAAI,OAAO,2BAA2B,YAAY;AACjD,mBAAO,WAAW,sBAAsB;AAAA,UACzC;AAAA,QACD;AAIA,YAAI,OAAO,iBAAiB,YAAY;AACvC,iBAAO,SAAU,IAAI;AAAE,yBAAa,SAAS,EAAE,CAAC;AAAA,UAAG;AAAA,QACpD;AAGA,YAAI,OAAO,eAAe,YAAY;AACrC,iBAAO,SAAU,IAAI;AAAE,uBAAW,SAAS,EAAE,GAAG,CAAC;AAAA,UAAG;AAAA,QACrD;AAEA,eAAO;AAAA,MACR,EAAE;AAAA;AAAA;;;AC/DF;AAAA;AAAA;AAMA,UAAI,OAAO;AAEX,UAAI,cAAc,OAAO,UAAU;AAWnC,UAAI,WAAW,mBAAkB,KAAK;AACpC,YAAI,OAAO,OAAO;AAClB,eAAO,SAAS,YAAa,SAAS,YAAY,YAAY,KAAK,GAAG,MAAM;AAAA,MAC9E;AAWA,UAAI,UAAU,OAAO,MAAM,YAAY,aAAa,MAAM,UAAU,kBAAiB,KAAK;AACxF,eAAO,YAAY,KAAK,GAAG,MAAM;AAAA,MACnC;AAYA,UAAI,cAAc,sBAAqB,KAAK;AAC1C,eAAO,OAAO,QAAS,SAAQ,GAAG,KAAM,QAAQ,cAAc,SAAS,IAAI,MAAM;AAAA,MACnF;AAWA,UAAI,YAAY,oBAAmB,UAAU,OAAO;AAClD,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AAExC,cAAI,SAAS,MAAM,IAAI,GAAG,KAAK,MAAM,OAAO;AAC1C;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAWA,UAAI,WAAW,mBAAkB,UAAU,QAAQ;AACjD,YAAI,KAAK,KAAK,MAAM;AAEpB,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK,GAAG;AAErC,cAAI,SAAS,OAAO,GAAG,KAAK,GAAG,IAAI,MAAM,MAAM,OAAO;AACpD;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAiCA,UAAI,OAAO,eAAc,UAAU,YAAY;AAC7C,eAAQ,aAAY,UAAU,IAAI,YAAY,UAAU,KAAK,MAAM,UAAU,UAAU;AAAA,MACzF;AAMA,aAAO,UAAU;AAAA;AAAA;;;AChIjB;AAAA;AAAA;AAMA,UAAI,OAAO;AAEX,UAAI,aAAa,OAAO,UAAU;AAWlC,UAAI,gBAAgB,wBAAuB,QAAQ,QAAQ;AAEzD,YAAI,WAAW,QAAQ;AACrB,iBAAO,WAAW,KAAK,IAAI,WAAW,IAAI;AAAA,QAC5C;AAEA,eAAO,WAAW,UAAU,WAAW;AAAA,MACzC;AA+BA,UAAI,WAAW,mBAAkB,eAAe,YAAY;AAC1D,YAAI,QAAQ;AAGZ,YAAI,OAAO,eAAe,UAAU;AAClC,iBAAO,WAAW,KAAK,YAAY,aAAa,MAAM;AAAA,QACxD;AAGA,aAAK,SAAS,OAAO;AACnB,cAAI,cAAc,OAAO,aAAa,GAAG;AACvC,oBAAQ;AAER,mBAAO;AAAA,UACT;AAAA,QACF,GAAG,UAAU;AAEb,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACjFjB;AAAA;AAAA;AAwBA,UAAI,OAAO;AAiBX,UAAI,MAAM,cAAa,UAAU,YAAY;AACzC,YAAI,OAAO,aAAa,YAAY;AAChC,gBAAM,IAAI,UAAU,wCAAwC,OAAO,QAAQ;AAAA,QAC/E;AACA,YAAI,SAAS,CAAC;AACd,aAAK,SAAU,KAAK,GAAG,aAAY;AAC/B,iBAAO,KAAK,SAAS,KAAK,GAAG,WAAU,CAAC;AAAA,QAC5C,GAAG,UAAU;AACb,eAAO;AAAA,MACX;AAIA,aAAO,UAAU;AAAA;AAAA;;;ACtDjB;AAAA;AAOA,UAAI,kBAAmB,OAAO,UAAW,eAAe,OAAO,mBAAmB,OAAO,gBAAgB,KAAK,MAAM,KAC7F,OAAO,YAAa,eAAe,OAAO,OAAO,SAAS,mBAAmB,cAAc,SAAS,gBAAgB,KAAK,QAAQ;AAExJ,UAAI,iBAAiB;AAEf,gBAAQ,IAAI,WAAW,EAAE;AAE7B,eAAO,UAAU,qBAAqB;AACpC,0BAAgB,KAAK;AACrB,iBAAO;AAAA,QACT;AAAA,MACF,OAAO;AAKD,eAAO,IAAI,MAAM,EAAE;AAEvB,eAAO,UAAU,mBAAmB;AAClC,mBAAS,IAAI,GAAG,GAAG,IAAI,IAAI,KAAK;AAC9B,gBAAK,KAAI,OAAU;AAAG,kBAAI,KAAK,OAAO,IAAI;AAC1C,iBAAK,KAAK,MAAQ,MAAI,MAAS,KAAK;AAAA,UACtC;AAEA,iBAAO;AAAA,QACT;AAAA,MACF;AArBM;AAWA;AAAA;AAAA;;;ACvBN;AAAA;AAIA,UAAI,YAAY,CAAC;AACjB,WAAS,IAAI,GAAG,IAAI,KAAK,EAAE,GAAG;AAC5B,kBAAU,KAAM,KAAI,KAAO,SAAS,EAAE,EAAE,OAAO,CAAC;AAAA,MAClD;AAFS;AAIT,2BAAqB,KAAK,QAAQ;AAChC,YAAI,KAAI,UAAU;AAClB,YAAI,MAAM;AAEV,eAAQ;AAAA,UACN,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UACvB,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UAAO;AAAA,UAC9B,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UAAO;AAAA,UAC9B,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UAAO;AAAA,UAC9B,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UAAO;AAAA,UAC9B,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UACvB,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,UACvB,IAAI,IAAI;AAAA,UAAO,IAAI,IAAI;AAAA,QACzB,EAAG,KAAK,EAAE;AAAA,MACZ;AAEA,aAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,UAAI,MAAM;AACV,UAAI,cAAc;AAElB,kBAAY,SAAS,KAAK,QAAQ;AAChC,YAAI,IAAI,OAAO,UAAU;AAEzB,YAAI,OAAO,WAAY,UAAU;AAC/B,gBAAM,YAAY,WAAW,IAAI,MAAM,EAAE,IAAI;AAC7C,oBAAU;AAAA,QACZ;AACA,kBAAU,WAAW,CAAC;AAEtB,YAAI,OAAO,QAAQ,UAAW,SAAQ,OAAO,KAAK;AAGlD,aAAK,KAAM,KAAK,KAAK,KAAQ;AAC7B,aAAK,KAAM,KAAK,KAAK,KAAQ;AAG7B,YAAI,KAAK;AACP,mBAAS,KAAK,GAAG,KAAK,IAAI,EAAE,IAAI;AAC9B,gBAAI,IAAI,MAAM,KAAK;AAAA,UACrB;AAAA,QACF;AAEA,eAAO,OAAO,YAAY,IAAI;AAAA,MAChC;AAEA,aAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,MAAC,UAAU,SAAS;AAChB,YAAI,OAAO,YAAY,UAAU;AAE7B,iBAAO,UAAU,QAAQ;AAAA,QAC7B,WAAW,OAAO,WAAW,cAAc,OAAO,KAAK;AAEnD,iBAAO,OAAO;AAAA,QAClB,OAAO;AAEH,cAAI;AAEJ,cAAI;AACA,mBAAO;AAAA,UACX,SAAS,GAAP;AACE,mBAAO;AAAA,UACX;AAEA,eAAK,WAAW,QAAQ;AAAA,QAC5B;AAAA,MACJ,GAAE,SAAU,YAAW;AAEnB;AAeA,YAAI,QAAQ,SAAU,GAAG,GAAG;AACxB,iBAAQ,IAAI,IAAK;AAAA,QACrB,GACI,UAAU,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAG7F,qBAAa,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC3B,cAAI,MAAM,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;AAClC,iBAAO,MAAO,KAAK,IAAM,MAAO,KAAK,GAAK,CAAC;AAAA,QAC/C;AAEA,oBAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC7B,iBAAO,IAAK,IAAI,IAAO,CAAC,IAAK,GAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,QAClD;AAEA,oBAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC7B,iBAAO,IAAK,IAAI,IAAM,IAAK,CAAC,GAAK,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,QAClD;AAEA,oBAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC7B,iBAAO,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,QACvC;AAEA,oBAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC7B,iBAAO,IAAI,IAAK,KAAK,CAAC,IAAK,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,QAC5C;AAEA,0BAAkB,GAAG,GAAG;AACpB,cAAI,IAAI,EAAE,IACN,IAAI,EAAE,IACN,IAAI,EAAE,IACN,IAAI,EAAE;AAEV,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,SAAS;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,SAAS;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,MAAM;AACpC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AACzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,SAAS;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AACzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,UAAU;AAExC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,WAAW;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,SAAS;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,QAAQ;AACrC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,UAAU;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,SAAS;AACrC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,SAAS;AACrC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AAEzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,OAAO;AACnC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,UAAU;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,SAAS;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,WAAW;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AACzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,SAAS;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,QAAQ;AACrC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,UAAU;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,SAAS;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AAEvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AACzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,SAAS;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,UAAU;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,QAAQ;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,SAAS;AACvC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,WAAW;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,UAAU;AACxC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,UAAU;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,KAAK,IAAI,WAAW;AACzC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,SAAS;AACtC,cAAI,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,IAAI,UAAU;AAEvC,YAAE,KAAK,MAAM,GAAG,EAAE,EAAE;AACpB,YAAE,KAAK,MAAM,GAAG,EAAE,EAAE;AACpB,YAAE,KAAK,MAAM,GAAG,EAAE,EAAE;AACpB,YAAE,KAAK,MAAM,GAAG,EAAE,EAAE;AAAA,QACxB;AAEA,wBAAgB,GAAG;AACf,cAAI,UAAU,CAAC,GACX;AAEJ,eAAK,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG;AACxB,oBAAQ,KAAK,KAAK,EAAE,WAAW,CAAC,IAAK,GAAE,WAAW,IAAI,CAAC,KAAK,KAAM,GAAE,WAAW,IAAI,CAAC,KAAK,MAAO,GAAE,WAAW,IAAI,CAAC,KAAK;AAAA,UAC3H;AACA,iBAAO;AAAA,QACX;AAEA,8BAAsB,GAAG;AACrB,cAAI,UAAU,CAAC,GACX;AAEJ,eAAK,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG;AACxB,oBAAQ,KAAK,KAAK,EAAE,KAAM,GAAE,IAAI,MAAM,KAAM,GAAE,IAAI,MAAM,MAAO,GAAE,IAAI,MAAM;AAAA,UAC/E;AACA,iBAAO;AAAA,QACX;AAEA,sBAAc,GAAG;AACb,cAAI,IAAI,EAAE,QACN,QAAQ,CAAC,YAAY,YAAY,aAAa,SAAS,GACvD,GACA,QACA,MACA,KACA,IACA;AAEJ,eAAK,IAAI,IAAI,KAAK,GAAG,KAAK,IAAI;AAC1B,qBAAS,OAAO,OAAO,EAAE,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;AAAA,UAClD;AACA,cAAI,EAAE,UAAU,IAAI,EAAE;AACtB,mBAAS,EAAE;AACX,iBAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACtD,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,iBAAK,KAAK,MAAM,EAAE,WAAW,CAAC,KAAO,KAAI,KAAM;AAAA,UACnD;AACA,eAAK,KAAK,MAAM,OAAU,KAAI,KAAM;AACpC,cAAI,IAAI,IAAI;AACR,qBAAS,OAAO,IAAI;AACpB,iBAAK,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG;AACxB,mBAAK,KAAK;AAAA,YACd;AAAA,UACJ;AAGA,gBAAM,IAAI;AACV,gBAAM,IAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB;AAC7C,eAAK,SAAS,IAAI,IAAI,EAAE;AACxB,eAAK,SAAS,IAAI,IAAI,EAAE,KAAK;AAE7B,eAAK,MAAM;AACX,eAAK,MAAM;AAEX,mBAAS,OAAO,IAAI;AACpB,iBAAO;AAAA,QACX;AAEA,4BAAoB,GAAG;AACnB,cAAI,IAAI,EAAE,QACN,QAAQ,CAAC,YAAY,YAAY,aAAa,SAAS,GACvD,GACA,QACA,MACA,KACA,IACA;AAEJ,eAAK,IAAI,IAAI,KAAK,GAAG,KAAK,IAAI;AAC1B,qBAAS,OAAO,aAAa,EAAE,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;AAAA,UACvD;AAMA,cAAK,IAAI,KAAM,IAAI,EAAE,SAAS,IAAI,EAAE,IAAI,IAAI,WAAW,CAAC;AAExD,mBAAS,EAAE;AACX,iBAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACtD,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,iBAAK,KAAK,MAAM,EAAE,MAAQ,KAAI,KAAM;AAAA,UACxC;AAEA,eAAK,KAAK,MAAM,OAAU,KAAI,KAAM;AACpC,cAAI,IAAI,IAAI;AACR,qBAAS,OAAO,IAAI;AACpB,iBAAK,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG;AACxB,mBAAK,KAAK;AAAA,YACd;AAAA,UACJ;AAGA,gBAAM,IAAI;AACV,gBAAM,IAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB;AAC7C,eAAK,SAAS,IAAI,IAAI,EAAE;AACxB,eAAK,SAAS,IAAI,IAAI,EAAE,KAAK;AAE7B,eAAK,MAAM;AACX,eAAK,MAAM;AAEX,mBAAS,OAAO,IAAI;AAEpB,iBAAO;AAAA,QACX;AAEA,sBAAc,GAAG;AACb,cAAI,IAAI,IACJ;AACJ,eAAK,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG;AACvB,iBAAK,QAAS,KAAM,IAAI,IAAI,IAAM,MAAQ,QAAS,KAAM,IAAI,IAAM;AAAA,UACvE;AACA,iBAAO;AAAA,QACX;AAEA,qBAAa,GAAG;AACZ,cAAI;AACJ,eAAK,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK,GAAG;AAC9B,cAAE,KAAK,KAAK,EAAE,EAAE;AAAA,UACpB;AACA,iBAAO,EAAE,KAAK,EAAE;AAAA,QACpB;AAGA,YAAI,IAAI,KAAK,OAAO,CAAC,MAAM,oCAAoC;AAC3D,kBAAQ,SAAU,GAAG,GAAG;AACpB,gBAAI,MAAO,KAAI,SAAW,KAAI,QAC1B,MAAO,MAAK,MAAO,MAAK,MAAO,QAAO;AAC1C,mBAAQ,OAAO,KAAO,MAAM;AAAA,UAChC;AAAA,QACJ;AAUA,YAAI,OAAO,gBAAgB,eAAe,CAAC,YAAY,UAAU,OAAO;AACpE,UAAC,YAAY;AACT,2BAAe,KAAK,QAAQ;AACxB,oBAAO,MAAM,KAAM;AAEnB,kBAAI,MAAM,GAAG;AACT,uBAAO,KAAK,IAAI,MAAM,QAAQ,CAAC;AAAA,cACnC;AAEA,qBAAO,KAAK,IAAI,KAAK,MAAM;AAAA,YAC/B;AAEA,wBAAY,UAAU,QAAQ,SAAU,MAAM,IAAI;AAC9C,kBAAI,SAAS,KAAK,YACd,QAAQ,MAAM,MAAM,MAAM,GAC1B,MAAM,QACN,KACA,QACA,aACA;AAEJ,kBAAI,OAAO,YAAW;AAClB,sBAAM,MAAM,IAAI,MAAM;AAAA,cAC1B;AAEA,kBAAI,QAAQ,KAAK;AACb,uBAAO,IAAI,YAAY,CAAC;AAAA,cAC5B;AAEA,oBAAM,MAAM;AACZ,uBAAS,IAAI,YAAY,GAAG;AAC5B,4BAAc,IAAI,WAAW,MAAM;AAEnC,4BAAc,IAAI,WAAW,MAAM,OAAO,GAAG;AAC7C,0BAAY,IAAI,WAAW;AAE3B,qBAAO;AAAA,YACX;AAAA,UACJ,GAAG;AAAA,QACP;AAQA,wBAAgB,KAAK;AACjB,cAAI,kBAAkB,KAAK,GAAG,GAAG;AAC7B,kBAAM,SAAS,mBAAmB,GAAG,CAAC;AAAA,UAC1C;AAEA,iBAAO;AAAA,QACX;AAEA,qCAA6B,KAAK,kBAAkB;AAChD,cAAI,SAAS,IAAI,QACd,OAAO,IAAI,YAAY,MAAM,GAC7B,MAAM,IAAI,WAAW,IAAI,GACzB;AAEH,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,gBAAI,KAAK,IAAI,WAAW,CAAC;AAAA,UAC7B;AAEA,iBAAO,mBAAmB,MAAM;AAAA,QACpC;AAEA,qCAA6B,MAAM;AAC/B,iBAAO,OAAO,aAAa,MAAM,MAAM,IAAI,WAAW,IAAI,CAAC;AAAA,QAC/D;AAEA,yCAAiC,OAAO,QAAQ,kBAAkB;AAC9D,cAAI,SAAS,IAAI,WAAW,MAAM,aAAa,OAAO,UAAU;AAEhE,iBAAO,IAAI,IAAI,WAAW,KAAK,CAAC;AAChC,iBAAO,IAAI,IAAI,WAAW,MAAM,GAAG,MAAM,UAAU;AAEnD,iBAAO,mBAAmB,SAAS,OAAO;AAAA,QAC9C;AAEA,mCAA2B,MAAK;AAC5B,cAAI,QAAQ,CAAC,GACT,SAAS,KAAI,QACb;AAEJ,eAAK,IAAI,GAAG,IAAI,SAAS,GAAG,KAAK,GAAG;AAChC,kBAAM,KAAK,SAAS,KAAI,OAAO,GAAG,CAAC,GAAG,EAAE,CAAC;AAAA,UAC7C;AAEA,iBAAO,OAAO,aAAa,MAAM,QAAQ,KAAK;AAAA,QAClD;AAWA,4BAAoB;AAEhB,eAAK,MAAM;AAAA,QACf;AAUA,iBAAS,UAAU,SAAS,SAAU,KAAK;AAGvC,eAAK,aAAa,OAAO,GAAG,CAAC;AAE7B,iBAAO;AAAA,QACX;AASA,iBAAS,UAAU,eAAe,SAAU,UAAU;AAClD,eAAK,SAAS;AACd,eAAK,WAAW,SAAS;AAEzB,cAAI,SAAS,KAAK,MAAM,QACpB;AAEJ,eAAK,IAAI,IAAI,KAAK,QAAQ,KAAK,IAAI;AAC/B,qBAAS,KAAK,OAAO,OAAO,KAAK,MAAM,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;AAAA,UAChE;AAEA,eAAK,QAAQ,KAAK,MAAM,UAAU,IAAI,EAAE;AAExC,iBAAO;AAAA,QACX;AAUA,iBAAS,UAAU,MAAM,SAAU,KAAK;AACpC,cAAI,OAAO,KAAK,OACZ,SAAS,KAAK,QACd,GACA,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACtD;AAEJ,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,iBAAK,KAAK,MAAM,KAAK,WAAW,CAAC,KAAO,KAAI,KAAM;AAAA,UACtD;AAEA,eAAK,QAAQ,MAAM,MAAM;AACzB,gBAAM,IAAI,KAAK,KAAK;AAEpB,cAAI,KAAK;AACL,kBAAM,kBAAkB,GAAG;AAAA,UAC/B;AAEA,eAAK,MAAM;AAEX,iBAAO;AAAA,QACX;AAOA,iBAAS,UAAU,QAAQ,WAAY;AACnC,eAAK,QAAQ;AACb,eAAK,UAAU;AACf,eAAK,QAAQ,CAAC,YAAY,YAAY,aAAa,SAAS;AAE5D,iBAAO;AAAA,QACX;AAOA,iBAAS,UAAU,WAAW,WAAY;AACtC,iBAAO;AAAA,YACH,MAAM,KAAK;AAAA,YACX,QAAQ,KAAK;AAAA,YACb,MAAM,KAAK;AAAA,UACf;AAAA,QACJ;AASA,iBAAS,UAAU,WAAW,SAAU,OAAO;AAC3C,eAAK,QAAQ,MAAM;AACnB,eAAK,UAAU,MAAM;AACrB,eAAK,QAAQ,MAAM;AAEnB,iBAAO;AAAA,QACX;AAMA,iBAAS,UAAU,UAAU,WAAY;AACrC,iBAAO,KAAK;AACZ,iBAAO,KAAK;AACZ,iBAAO,KAAK;AAAA,QAChB;AAQA,iBAAS,UAAU,UAAU,SAAU,MAAM,QAAQ;AACjD,cAAI,IAAI,QACJ,KACA,IACA;AAEJ,eAAK,KAAK,MAAM,OAAU,KAAI,KAAM;AACpC,cAAI,IAAI,IAAI;AACR,qBAAS,KAAK,OAAO,IAAI;AACzB,iBAAK,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG;AACxB,mBAAK,KAAK;AAAA,YACd;AAAA,UACJ;AAIA,gBAAM,KAAK,UAAU;AACrB,gBAAM,IAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB;AAC7C,eAAK,SAAS,IAAI,IAAI,EAAE;AACxB,eAAK,SAAS,IAAI,IAAI,EAAE,KAAK;AAE7B,eAAK,MAAM;AACX,eAAK,MAAM;AACX,mBAAS,KAAK,OAAO,IAAI;AAAA,QAC7B;AAWA,iBAAS,OAAO,SAAU,KAAK,KAAK;AAGhC,iBAAO,SAAS,WAAW,OAAO,GAAG,GAAG,GAAG;AAAA,QAC/C;AAUA,iBAAS,aAAa,SAAU,SAAS,KAAK;AAC1C,cAAI,OAAO,KAAK,OAAO,GACnB,MAAM,IAAI,IAAI;AAElB,iBAAO,MAAM,kBAAkB,GAAG,IAAI;AAAA,QAC1C;AASA,iBAAS,cAAc,WAAY;AAE/B,eAAK,MAAM;AAAA,QACf;AASA,iBAAS,YAAY,UAAU,SAAS,SAAU,KAAK;AACnD,cAAI,OAAO,wBAAwB,KAAK,MAAM,QAAQ,KAAK,IAAI,GAC3D,SAAS,KAAK,QACd;AAEJ,eAAK,WAAW,IAAI;AAEpB,eAAK,IAAI,IAAI,KAAK,QAAQ,KAAK,IAAI;AAC/B,qBAAS,KAAK,OAAO,aAAa,KAAK,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;AAAA,UAC/D;AAEA,eAAK,QAAS,IAAI,KAAM,SAAS,IAAI,WAAW,KAAK,OAAO,MAAM,IAAI,EAAE,CAAC,IAAI,IAAI,WAAW,CAAC;AAE7F,iBAAO;AAAA,QACX;AAUA,iBAAS,YAAY,UAAU,MAAM,SAAU,KAAK;AAChD,cAAI,OAAO,KAAK,OACZ,SAAS,KAAK,QACd,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACtD,GACA;AAEJ,eAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,iBAAK,KAAK,MAAM,KAAK,MAAQ,KAAI,KAAM;AAAA,UAC3C;AAEA,eAAK,QAAQ,MAAM,MAAM;AACzB,gBAAM,IAAI,KAAK,KAAK;AAEpB,cAAI,KAAK;AACL,kBAAM,kBAAkB,GAAG;AAAA,UAC/B;AAEA,eAAK,MAAM;AAEX,iBAAO;AAAA,QACX;AAOA,iBAAS,YAAY,UAAU,QAAQ,WAAY;AAC/C,eAAK,QAAQ,IAAI,WAAW,CAAC;AAC7B,eAAK,UAAU;AACf,eAAK,QAAQ,CAAC,YAAY,YAAY,aAAa,SAAS;AAE5D,iBAAO;AAAA,QACX;AAOA,iBAAS,YAAY,UAAU,WAAW,WAAY;AAClD,cAAI,QAAQ,SAAS,UAAU,SAAS,KAAK,IAAI;AAGjD,gBAAM,OAAO,oBAAoB,MAAM,IAAI;AAE3C,iBAAO;AAAA,QACX;AASA,iBAAS,YAAY,UAAU,WAAW,SAAU,OAAO;AAEvD,gBAAM,OAAO,oBAAoB,MAAM,MAAM,IAAI;AAEjD,iBAAO,SAAS,UAAU,SAAS,KAAK,MAAM,KAAK;AAAA,QACvD;AAEA,iBAAS,YAAY,UAAU,UAAU,SAAS,UAAU;AAE5D,iBAAS,YAAY,UAAU,UAAU,SAAS,UAAU;AAU5D,iBAAS,YAAY,OAAO,SAAU,KAAK,KAAK;AAC5C,cAAI,OAAO,WAAW,IAAI,WAAW,GAAG,CAAC,GACrC,MAAM,IAAI,IAAI;AAElB,iBAAO,MAAM,kBAAkB,GAAG,IAAI;AAAA,QAC1C;AAEA,eAAO;AAAA,MACX,CAAC;AAAA;AAAA;;;AC9rBD;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,UAAI,QAAQ,kBAAiB,wBAAwB;AACrD,UAAI,WAAW;AACf,UAAI,OAAO;AACX,UAAI,WAAW;AACf,UAAI,MAAM;AACV,UAAI,OAAO;AACX,UAAI,OAAO;AACX,UAAI,MAAM,oBAAqB;AAI/B,UAAI,MAAM,OAAO,UAAU;AAI3B,aAAO,UAAU;AAIjB,UAAI,WAAW,CAAC,gBAAgB,eAAe,aAAa,SAAS;AACrE,yBAAmB,KAAK,MAAM;AAC1B,YAAI,QAAQ,IAAI,SAAU,GAAG;AACzB,iBAAO,EAAE,YAAY;AAAA,QACzB,GAAG,IAAI;AACP,YAAI,OAAO,IAAI,WAAW,CAAC;AAC3B,YAAI,gBAAe,KAAK,gBAAgB,CAAC;AACzC,YAAI,YAAY,KAAK,aAAa,CAAC;AACnC,YAAI,UAAU,KAAK,WAAW,CAAC;AAC/B,YAAI,MAAM,CAAC;AACX,cAAM,MAAM,GAAG;AAEf,aAAK,SAAU,OAAO,KAAK;AACvB,cAAI,CAAC,YAAY,GAAG;AAChB;AACJ,cAAI,CAAC,IAAI,KAAK,eAAc,GAAG;AAC3B,0BAAa,OAAO;AACxB,iBAAO,KAAK;AAAA,QAChB,GAAG,IAAI;AAEP,eAAO,KAAK;AACZ,aAAK,SAAU,OAAO,KAAK;AACvB,cAAI,CAAC,YAAY,GAAG;AAChB;AACJ,cAAI,KAAK,cAAa,IAAI,MAAM;AAC5B;AACJ,cAAI,IAAI,KAAK,eAAc,GAAG,KAAK,OAAO,UAAU,SAAS;AACzD;AACJ,wBAAa,OAAO;AAAA,QACxB,GAAG,SAAS;AAGZ,aAAK,SAAU,QAAQ,KAAK;AACxB,cAAI,SAAS,KAAK,QAAQ,GAAG;AACzB,gBAAI,OAAO,KAAK;AAAA,UACpB,OACK;AACD,oBAAQ,OAAO,KAAK;AAAA,UACxB;AAAA,QACJ,GAAG,IAAI;AAEP,YAAI,YAAY,SAAS,IAAI,OAAO,KAAK,UAAU,GAAG,IAAI,KAAK,CAAC;AAEhE,eAAO,IAAI;AACX,YAAI,eAAe;AACnB,YAAI,UAAU;AACd,cAAM,SAAS,KAAK,GAAG;AACvB,cAAM,MAAM,GAAG;AACf,eAAO;AACP,6BAAqB,OAAM;AACvB,iBAAO,CAAC,CAAE,UAAS,OAAM,IAAI,KACzB,MAAK,YAAY,MAAM,SACvB,SAAS,MAAK,YAAY,GAAG,KAAK;AAAA,QAC1C;AAAA,MACJ;AAAA;AAAA;;;AC9EA;AAAA;AAAA,UAAI,OAAO,OAAO,mBAAmB,qBAAqB;AAA1D,UACI,SAAS,OAAO,sBAAsB,wBAAwB;AADlE,UAEI,SAAS,SAAS,qBAAqB,OAAO;AAalD,cAAQ,OAAO,SAAS,IAAI,MAAM,IAAI,SAAQ;AAC5C,WAAG,MAAM,SAAS,MAAM,IAAI,WAAW,KAAK;AAC5C,eAAO;AAAA,MACT;AAaA,cAAQ,SAAS,SAAS,IAAI,MAAM,IAAI,SAAQ;AAC9C,WAAG,QAAQ,SAAS,MAAM,IAAI,WAAW,KAAK;AAC9C,eAAO;AAAA,MACT;AAAA;AAAA;;;AClCA;AAAA;AAAA;AAOA,2BAAqB;AACnB,YAAI,OAAO,SAAS,qBAAqB,MAAM;AAE/C,iBAAS,IAAI,GAAG,KAAK,MAAM,KAAK,IAAI,KAAK;AACvC,cAAI,IAAI,aAAa,KAAK,MAAM,aAAa;AAC3C,mBAAO,IAAI,aAAa,MAAM;AAAA,UAChC;AAAA,QACF;AAAA,MACF;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,UAAI,YAAY;AAChB,UAAI,WAAW;AACf,UAAI,MAAM;AAMV,8BAAwB;AACpB,eAAO;AAAA,UACH,MAAM,cAAc;AAAA,UACpB,UAAU,SAAS;AAAA,UACnB,QAAQ,SAAS;AAAA,UACjB,OAAO,SAAS;AAAA,UAChB,KAAK,aAAa,SAAS,MAAM;AAAA,QACrC;AAAA,MACJ;AAIA,+BAAyB;AACrB,YAAI,QAAQ,UAAU;AACtB,YAAI,CAAC;AACD,iBAAO,OAAO,SAAS;AAC3B,YAAI,SAAS,IAAI,MAAM,KAAK;AAC5B,eAAO,OAAO;AAAA,MAClB;AAKA,4BAAsB,QAAQ;AAC1B,YAAI,QAAQ,UAAU;AACtB,YAAI;AACA,iBAAO,SAAS,KAAK,KAAK,IAAI,QAAQ,QAAQ;AAClD,YAAI,OAAM,OAAO,SAAS;AAC1B,YAAI,IAAI,KAAI,QAAQ,GAAG;AACvB,eAAO,MAAM,KAAK,OAAM,KAAI,MAAM,GAAG,CAAC;AAAA,MAC1C;AAIA,aAAO,UAAU;AAAA;AAAA;;;AC/CjB;AAAA;AAAA;AAEA,UAAI,cAAc,OAAO,UAAU;AAGnC,UAAI,SAAS,SAAS,KAAK;AACzB,eAAO,OAAO;AAAA,MAChB;AAGA,UAAI,UAAU,SAAS,KAAK;AAC1B,eAAO,YAAY,KAAK,GAAG,MAAM;AAAA,MACnC;AAGA,UAAI,WAAW,SAAS,KAAK;AAC1B,eAAO,OAAO,QAAQ,YAAY,YAAY,KAAK,GAAG,MAAM;AAAA,MAC/D;AAGA,UAAI,WAAW,SAAS,KAAK;AAC3B,eAAO,OAAO,QAAQ,OAAO,QAAQ;AAAA,MACvC;AAmBA,UAAI,OAAO,eAAc,OAAO,QAAQ;AACtC,YAAI,CAAC,OAAO,MAAM,KAAK,CAAC,SAAS,MAAM,GAAG;AACxC,iBAAO,CAAC;AAAA,QACV;AAEA,YAAI,SAAS,KAAK,GAAG;AACnB,kBAAQ,CAAC,KAAK;AAAA,QAChB;AAEA,YAAI,CAAC,QAAQ,KAAK,GAAG;AACnB,kBAAQ,CAAC;AAAA,QACX;AAEA,YAAI,SAAS,CAAC;AAEd,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,cAAI,SAAS,MAAM,EAAE,KAAK,MAAM,MAAM,QAAQ;AAC5C,mBAAO,MAAM,MAAM,OAAO,MAAM;AAAA,UAClC;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACrEjB;AAAA;AAAA;AAaA,8BAAwB,GAAG;AACzB,YAAI,KAAK,OAAO;AAChB,eAAO,EAAE,iBAAiB,EAAE,eAAe,IAAI,EAAE,cAAc;AAAA,MACjE;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,UAAI,MAAM;AACV,UAAI,cAAc;AAOlB,UAAI;AACJ,UAAI;AAGJ,UAAI,aAAa;AACjB,UAAI,aAAa;AAGjB,kBAAY,SAAS,KAAK,QAAQ;AAChC,YAAI,IAAI,OAAO,UAAU;AACzB,YAAI,IAAI,OAAO,CAAC;AAEhB,kBAAU,WAAW,CAAC;AACtB,YAAI,OAAO,QAAQ,QAAQ;AAC3B,YAAI,WAAW,QAAQ,aAAa,SAAY,QAAQ,WAAW;AAKnE,YAAI,QAAQ,QAAQ,YAAY,MAAM;AACpC,cAAI,YAAY,IAAI;AACpB,cAAI,QAAQ,MAAM;AAEhB,mBAAO,UAAU;AAAA,cACf,UAAU,KAAK;AAAA,cACf,UAAU;AAAA,cAAI,UAAU;AAAA,cAAI,UAAU;AAAA,cAAI,UAAU;AAAA,cAAI,UAAU;AAAA,YACpE;AAAA,UACF;AACA,cAAI,YAAY,MAAM;AAEpB,uBAAW,YAAa,WAAU,MAAM,IAAI,UAAU,MAAM;AAAA,UAC9D;AAAA,QACF;AAMA,YAAI,QAAQ,QAAQ,UAAU,SAAY,QAAQ,QAAQ,IAAI,KAAK,EAAE,QAAQ;AAI7E,YAAI,QAAQ,QAAQ,UAAU,SAAY,QAAQ,QAAQ,aAAa;AAGvE,YAAI,KAAM,QAAQ,aAAe,SAAQ,cAAY;AAGrD,YAAI,KAAK,KAAK,QAAQ,aAAa,QAAW;AAC5C,qBAAW,WAAW,IAAI;AAAA,QAC5B;AAIA,YAAK,MAAK,KAAK,QAAQ,eAAe,QAAQ,UAAU,QAAW;AACjE,kBAAQ;AAAA,QACV;AAGA,YAAI,SAAS,KAAO;AAClB,gBAAM,IAAI,MAAM,iDAAkD;AAAA,QACpE;AAEA,qBAAa;AACb,qBAAa;AACb,oBAAY;AAGZ,iBAAS;AAGT,YAAI,KAAO,UAAQ,aAAa,MAAQ,SAAS;AACjD,UAAE,OAAO,OAAO,KAAK;AACrB,UAAE,OAAO,OAAO,KAAK;AACrB,UAAE,OAAO,OAAO,IAAI;AACpB,UAAE,OAAO,KAAK;AAGd,YAAI,MAAO,QAAQ,aAAc,MAAS;AAC1C,UAAE,OAAO,QAAQ,IAAI;AACrB,UAAE,OAAO,MAAM;AAGf,UAAE,OAAO,QAAQ,KAAK,KAAM;AAC5B,UAAE,OAAO,QAAQ,KAAK;AAGtB,UAAE,OAAO,aAAa,IAAI;AAG1B,UAAE,OAAO,WAAW;AAGpB,iBAAS,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC1B,YAAE,IAAI,KAAK,KAAK;AAAA,QAClB;AAEA,eAAO,MAAM,MAAM,YAAY,CAAC;AAAA,MAClC;AAEA,aAAO,UAAU;AAAA;AAAA;;;AC5GjB;AAAA;AAAA,UAAI,KAAK;AACT,UAAI,KAAK;AAET,UAAI,OAAO;AACX,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,aAAO,UAAU;AAAA;AAAA;;;ACPjB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,UAAI,SAAS;AACb,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,QAAQ,kBAAiB,gBAAgB;AAC7C,UAAI,UAAU;AACd,UAAI,YAAY;AAChB,UAAI,OAAO;AACX,UAAI,eAAe;AACnB,WAAK,WAAW;AAAA,QACZ,SAAS;AAAA,QACT,QAAQ;AAAA,UACJ,KAAK;AAAA,UACL,QAAQ;AAAA,QACZ;AAAA,QACA,cAAc;AAAA,UACV,KAAK;AAAA,QACT;AAAA,MACJ;AAIA,oBAAc,SAAS;AACnB,aAAK,WAAW,KAAK;AACrB,aAAK,QAAQ;AACb,eAAO,KAAK,MAAM,OAAO;AAAA,MAC7B;AAIA,cAAQ,MAAM,MAAM;AAyBpB,WAAK,UAAU,KAAK,SAAU,IAAI;AAC9B,YAAI,OAAO,KAAK,OAAO;AACvB,YAAI,MAAM,OAAO,UAAU,GAAG,MAAM,MAAM,SAAS;AACnD,YAAI,QAAQ;AACR,iBAAO;AAKX,YAAI,QAAQ,MAAM;AACd,eAAK,YAAY,IAAI;AAEzB,eAAO;AAAA,MACX;AAOA,WAAK,UAAU,cAAc,SAAU,aAAa;AAChD,YAAI,QAAQ,KAAK,QAAQ;AAEzB,YAAI,UAAU,QAAQ;AAClB,gBAAM,IAAI,oBAAoB,WAAW;AACzC,eAAK,8BAA8B,WAAW;AAC9C,iBAAO;AAAA,QACX;AAEA,sBAAc,MAAM,IAAI,kBAAkB;AAC1C,YAAI,aAAa;AAEb,eAAK,8BAA8B,WAAW;AAE9C,gBAAM,IAAI,oBAAoB,WAAW;AACzC,iBAAO;AAAA,QACX;AACA,YAAI,CAAC,KAAK,SAAS,8BAA8B;AAE7C,wBAAc,aAAa,IAAI,kBAAkB;AACjD,cAAI,aAAa;AAEb,kBAAM,IAAI,oBAAoB,WAAW;AACzC,mBAAO;AAAA,UACX;AAAA,QACJ;AAEA,sBAAc,UAAU,MAAM;AAC9B,YAAI,aAAa;AACb,wBAAc,YAAY,MAAM,MAAM,EAAE;AACxC,gBAAM,IAAI,oBAAoB,WAAW;AACzC,eAAK,8BAA8B,WAAW;AAC9C,gBAAM,OAAO,MAAM;AACnB,iBAAO;AAAA,QACX;AAEA,sBAAc,KAAK,GAAG;AACtB,cAAM,IAAI,oBAAoB,WAAW;AACzC,aAAK,8BAA8B,WAAW;AAC9C,eAAO,MAAM,IAAI,kBAAkB;AAAA,MACvC;AAIA,WAAK,UAAU,gCAAgC,SAAU,IAAI;AACzD,YAAI,CAAC,KAAK,SAAS,8BAA8B;AAC7C,uBAAa,IAAI,oBAAoB,EAAE;AAAA,QAC3C;AAAA,MACJ;AAIA,WAAK,UAAU,SAAS,WAAY;AAChC,eAAO,UAAU,OAAO,KAAK,IAAI;AACjC,aAAK,YAAY,IAAI;AAAA,MACzB;AAIA,WAAK,UAAU,OAAO,WAAY;AAC9B,YAAI,KAAK,eAAe;AACpB;AACJ,eAAO,UAAU,KAAK,KAAK,IAAI;AAAA,MACnC;AAMA,WAAK,UAAU,iBAAiB,WAAY;AACxC,YAAI,OAAO,OAAO,IAAI,KAAK,SAAS,OAAO,MAAM;AACjD,YAAI,CAAC;AACD,iBAAO;AACX,aAAK,GAAG,KAAK,EAAE;AACf,aAAK,OAAO,KAAK,MAAM;AACvB,eAAO,OAAO,KAAK,SAAS,OAAO,MAAM;AACzC,eAAO;AAAA,MACX;AAIA,aAAO,UAAU,QAAQ,IAAI,KAAK,CAAC;AAInC,aAAO,QAAQ,OAAO;AAAA;AAAA;;;ACjKtB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,UAAI,aAAa,OAAO;AAIxB,UAAI,QAAQ,eAA4B;AACxC,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,QAAQ,eAA4B;AACxC,UAAI,WAAW,eAA4B;AAC3C,UAAI,wBAAwB,qBAAwB;AACpD,UAAI,6BAA6B,qBAC5B;AACL,UAAI,6BAA6B,qBAC5B;AACL,UAAI,OAAO,eAA4B;AACvC,UAAI,QAAQ,eAA4B;AACxC,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,UAAI,SAAS;AACb,UAAI,SAAS;AACb,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI,OAAO;AACX,UAAI,QAAQ;AACZ,UAAI,KAAK;AACT,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,WAAW;AACf,UAAI,YAAY;AAChB,UAAI,KAAK,0BAA2B;AACpC,UAAI,eAAe;AACnB,UAAI,OAAO;AACX,UAAI,UAAU;AACd,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,OAAO;AAIX,2BAAqB;AACjB,aAAK,SAAS,CAAC,CAAC;AAChB,aAAK,eAAe,CAAC;AACrB,aAAK,qBAAqB,IAAI,sBAAsB;AACpD,aAAK,0BAA0B,IAAI,2BAA2B;AAC9D,aAAK,0BAA0B,CAAC;AAChC,aAAK,gBAAgB,CAAC;AACtB,aAAK,WAAW;AAChB,aAAK,WAAW;AAEhB,aAAK,QAAQ;AACb,aAAK,MAAM,MAAM,cAAc;AAC/B,gBAAQ,IAAI;AACZ,YAAI,QAAO;AACX,aAAK,GAAG,cAAc,SAAU,UAAU,SAAS;AAC/C,cAAI,QAAQ;AACR,kBAAK,KAAK;AACd,gBAAK,YAAY,OAAO,SAAS,MAAM;AAAA,QAC3C,CAAC;AAAA,MACL;AAIA,cAAQ,UAAU,SAAS;AAI3B,gBAAU,UAAU,MAAM,SAAU,QAAQ;AACxC,eAAO,IAAI;AACX,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,iBAAiB,SAAU,aAAa;AACxD,YAAI,QAAO,YAAY,UAAU;AACjC,YAAI,CAAC;AACD,gBAAM,IAAI,UAAU,yCAAyC;AACjE,aAAK,aAAa,SAAQ;AAC1B,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,sBAAsB,SAAU,YAAY;AAC5D,aAAK,mBAAmB,IAAI,UAAU;AACtC,eAAO;AAAA,MACX;AAKA,gBAAU,UAAU,2BAA2B,SAAU,YAAY;AACjE,aAAK,wBAAwB,IAAI,UAAU;AAC3C,eAAO;AAAA,MACX;AAKA,gBAAU,UAAU,2BAA2B,SAAU,iBAAiB,aAAa;AACnF,YAAI,QAAO;AACX,oBAAY,QAAQ,SAAU,YAAY;AACtC,cAAI,CAAC,MAAK,wBAAwB,kBAAkB;AAChD,kBAAK,wBAAwB,mBAAmB,IAAI,2BAA2B;AAAA,UACnF;AACA,gBAAK,wBAAwB,iBAAiB,IAAI,UAAU;AAAA,QAChE,CAAC;AACD,eAAO;AAAA,MACX;AAMA,gBAAU,UAAU,OAAO,UAAU,UAAU,aAAa,SAAU,UAAU,SAAS;AACrF,mBAAW,YAAY,CAAC;AACxB,kBAAU,WAAW,CAAC;AACtB,aAAK,SAAS,OAAO;AACrB,aAAK,WAAW;AAEhB,YAAI,QAAO;AACX,aAAK,SAAU,OAAO,OAAM;AACxB,cAAI,cAAc,MAAK,aAAa;AACpC,cAAI,CAAC;AACD,mBAAO,SAAS;AAAA,QACxB,GAAG,QAAQ;AAEX,aAAK,SAAU,MAAM,OAAM;AAEvB,cAAI,QAAQ,cAAc;AACtB,gBAAI,QAAQ,aAAa,WAAU,SAC9B,QAAQ,aAAa,QAAQ,SAAS,CAAC,QAAQ,aAAa,QAAQ;AACrE;AAAA,YACJ;AAAA,UACJ;AACA,cAAI,cAAc,MAAK,aAAa;AACpC,cAAI,aAAa,CAAC;AAClB,iBAAO,MAAM,YAAY,IAAI;AAC7B,cAAI,cAAc,IAAI,YAAY,UAAU;AAC5C,gBAAK,IAAI,sBAAsB,OAAM,IAAI;AACzC,gBAAK,IAAI,WAAW;AAAA,QACxB,GAAG,QAAQ;AACX,YAAI,gBAAe,KAAK;AAExB,aAAK,KAAK;AACV,cAAM,KAAK;AAEX,YAAI,iBAAiB;AACrB,YAAI,mBAAmB,KAAK,aAAY,EAAE;AAC1C,YAAI,QAAQ,WAAY;AACpB;AACA,cAAI,kBAAkB,kBAAkB;AACpC,kBAAK,WAAW;AAChB,kBAAK,KAAK,OAAO;AAAA,UACrB;AAAA,QACJ;AAEA,YAAI,oBAAoB,GAAG;AACvB,gBAAM;AAAA,QACV;AAGA,aAAK,wBAAwB,CAAC;AAC9B,YAAI,qBAAqB;AACzB,aAAK,SAAU,aAAa;AACxB,cAAI,QAAQ,mBACR,YAAY,QAAQ,oBAAoB,OAAO;AAE/C,gBAAI,OAAO,YAAY;AACvB,wBAAY,OAAO,WAAY;AAC3B,kBAAI,oBAAoB;AACpB,uBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,cACrC;AACA,mCAAqB;AACrB;AAAA,YACJ;AAAA,UACJ;AACA,sBAAY,YAAY;AACxB,sBAAY,KAAK,SAAS,KAAK;AAC/B,cAAI;AACA,oBAAQ,UAAU,mCAAmC;AAAA,cACjD,QAAQ;AAAA,cACR,kBAAkB,YAAY;AAAA,YAClC,CAAC;AACD,wBAAY,WAAW;AAAA,UAC3B,SACO,GAAP;AACI,gBAAI,kBAAkB,YAAY;AAClC,oBAAQ,UAAU,yCAAyC;AAAA,cACvD,QAAQ;AAAA,cACR,kBAAkB,YAAY;AAAA,YAClC,CAAC;AACD,kBAAK,sBAAsB,KAAK,eAAe;AAC/C,kBAAK,IAAI,yCAAyC,iBAAiB,CAAC;AAEpE,wBAAY,MAAM;AAAA,UACtB;AAAA,QACJ,GAAG,aAAY;AAEf,aAAK,cAAc;AACnB,aAAK,KAAK,cAAc,UAAU,OAAO;AACzC,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,iBAAiB,SAAU,IAAI;AAC/C,aAAK,KAAK,EAAE,YAAY,EAAE;AAC1B,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,MAAM,SAAU,aAAa;AAC7C,aAAK,cAAc,YAAY,QAAQ;AACvC,eAAO;AAAA,MACX;AAUA,gBAAU,UAAU,WAAW,SAAU,IAAI,QAAQ,SAAS,IAAI;AAG9D,YAAI,GAAG,GAAG,OAAO;AACb,UAAC,KAAK,SAAW,UAAU;AAC/B,YAAI,GAAG,GAAG,MAAM;AACZ,UAAC,KAAK,QAAU,UAAU,MAAQ,SAAS;AAC/C,YAAI,GAAG,OAAO,EAAE;AACZ,UAAC,UAAU,QAAU,SAAS,IAAM,KAAK,KAAK,GAAG;AAIrD,aAAK,SAAS,IAAI,MAAM;AACxB,YAAI,MAAM,KAAK,UAAU;AAAA,UACrB;AAAA,UACA,QAAQ,KAAK,OAAO;AAAA,UACpB,QAAQ,KAAK,GAAG;AAAA,QACpB,CAAC;AAED,YAAI,KAAK,QAAQ,cAAc;AAC3B,mBAAS,IAAI,cAAc,KAAK,QAAQ,YAAY;AAAA,QACxD;AACA,aAAK,QAAQ,YAAY,IAAI,SAAS,GAAG,CAAC;AAE1C,aAAK,KAAK,YAAY,IAAI,QAAQ,OAAO;AACzC,aAAK,UAAU,EAAE;AACjB,eAAO;AAAA,MACX;AAMA,gBAAU,UAAU,OAAO,WAAY;AACnC,eAAO;AAAA,MACX;AAWA,gBAAU,UAAU,QAAQ,SAAU,IAAI,QAAQ,SAAS,IAAI;AAE3D,YAAI,CAAC,UAAU;AACX,iBAAO;AACX,YAAI,GAAG,GAAG,OAAO;AACb,UAAC,KAAK,SAAW,UAAU;AAC/B,YAAI,GAAG,GAAG,MAAM;AACZ,UAAC,KAAK,QAAU,UAAU,MAAQ,SAAS;AAC/C,YAAI,GAAG,OAAO,EAAE;AACZ,UAAC,UAAU,QAAU,SAAS,IAAM,KAAK,MAAM,GAAG;AAGtD,cAAM,SAAS,IAAI,MAAM;AACzB,YAAI,MAAM,KAAK,UAAU;AAAA,UACrB;AAAA,UACA,QAAQ,MAAM,OAAO;AAAA,UACrB,SAAS,MAAM,GAAG;AAAA,QACtB,CAAC;AAED,YAAI,KAAK,QAAQ,cAAc;AAC3B,mBAAS,IAAI,cAAc,KAAK,QAAQ,YAAY;AAAA,QACxD;AACA,aAAK,QAAQ,SAAS,IAAI,MAAM,GAAG,CAAC;AACpC,aAAK,KAAK,SAAS,IAAI,QAAQ,OAAO;AACtC,aAAK,UAAU,EAAE;AACjB,eAAO;AAAA,MACX;AAUA,gBAAU,UAAU,QAAQ,SAAU,OAAO,YAAY,SAAS,IAAI;AAGlE,YAAI,GAAG,GAAG,OAAO;AACb,UAAC,KAAK,SAAW,UAAU;AAC/B,YAAI,GAAG,GAAG,UAAU;AAChB,UAAC,KAAK,YAAc,UAAU,MAAQ,aAAa;AAGvD,YAAI,OAAO,KAAK,QAAQ,QAAQ,CAAC;AACjC,YAAI,SAAS,KAAK,SAAS,CAAC;AAC5B,YAAI,yBAAyB,CAAC;AAE9B,YAAI,MAAM,KAAK,UAAU;AAAA,UACrB;AAAA,UACA;AAAA,UACA;AAAA,QACJ,CAAC;AAED,eAAO,OAAO;AACd,YAAI,MAAM;AACN,eAAK,IAAI,gBAAgB,OAAO,IAAI;AACpC,cAAI,KAAK,YAAY,OAAO;AAExB,qCAAyB,EAAE,KAAK,OAAO,cAAc,KAAK;AAAA,UAC9D,OACK;AACD,qCAAyB,KAAK,gBAAgB,CAAC;AAAA,UACnD;AAAA,QACJ,OACK;AACD,cAAI,cAAc,OAAO,aAAa,EAAE,SAAS,KAAK;AACtD,cAAI,CAAC,YAAY,SAAS;AAEtB,qCAAyB,EAAE,KAAK,OAAO,cAAc,KAAK;AAAA,UAC9D;AAAA,QACJ;AAEA,iBAAS,IAAI,cAAc,KAAK,oCAAoC,sBAAsB,CAAC;AAC3F,aAAK,QAAQ,SAAS,IAAI,MAAM,GAAG,CAAC;AACpC,aAAK,KAAK,SAAS,OAAO,YAAY,OAAO;AAC7C,aAAK,UAAU,EAAE;AACjB,eAAO;AAAA,MACX;AAYA,gBAAU,UAAU,aAAa,UAAU,UAAU,YAAY,SAAU,OAAO,OAAO,YAAY;AACjG,YAAI,CAAC;AACD,iBAAO;AAEX,YAAI,KAAK,KAAK,MAAM;AAChB,kBAAQ,CAAC,KAAK;AAClB,YAAI,QAAO;AACX,aAAK,SAAU,IAAI;AACf,cAAI,KAAK,EAAE,MAAM,WAAW;AACxB,kBAAM,IAAI,UAAU,iDAAiD;AAAA,UACzE;AACA,aAAG,IAAI,SAAS,SAAU,GAAG;AACzB,gBAAI,KAAK,GAAG,GAAG,KAAK,IAAI,MAAM,EAAE,IAAI;AACpC,gBAAI,QAAQ,GAAG,GAAG,UAAU,IAAI,WAAW,EAAE,IAAI;AACjD,gBAAI,OAAO,GAAG,aAAa,MAAM,KAC7B,GAAG,eAAe,gCAAgC,MAAM,KACxD,GAAG,aAAa,YAAY;AAChC,kBAAK,MAAM,IAAI,KAAK;AACpB,gBAAI,QAAQ,GAAG,WAAW,YAAY,CAAC,OAAO,CAAC,GAAG;AAC9C,sBAAQ,CAAC;AACT,oBAAK,UAAU,WAAY;AACvB,uBAAO,SAAS,OAAO;AAAA,cAC3B,CAAC;AAAA,YACL;AAAA,UACJ,CAAC;AAAA,QACL,GAAG,KAAK;AACR,eAAO;AAAA,MACX;AAYA,gBAAU,UAAU,cAAc,UAAU,UAAU,YAAY,SAAU,OAAO,OAAO,YAAY;AAClG,YAAI,CAAC;AACD,iBAAO;AAEX,YAAI,KAAK,KAAK,MAAM;AAChB,kBAAQ,CAAC,KAAK;AAClB,YAAI,QAAO;AACX,aAAK,SAAU,IAAI;AACf,cAAI,KAAK,EAAE,MAAM;AACb,kBAAM,IAAI,UAAU,iDAAiD;AACzE,2BAAiB,GAAG;AAChB,oBAAQ,CAAC;AACT,gBAAI,KAAK,GAAG,GAAG,KAAK,IAAI,MAAM,EAAE,IAAI;AACpC,gBAAI,QAAQ,GAAG,GAAG,UAAU,IAAI,WAAW,EAAE,IAAI;AACjD,kBAAK,MAAM,IAAI,KAAK;AACpB,kBAAK,UAAU,WAAY;AACvB,iBAAG,OAAO;AAAA,YACd,CAAC;AAAA,UACL;AAGA,cAAI,IAAI,OAAO,UAAU,OAAO;AAChC,cAAI,GAAG;AACH,cAAE,EAAE,EAAE,OAAO,OAAO;AAAA,UACxB,OACK;AACD,eAAG,IAAI,UAAU,OAAO;AAAA,UAC5B;AAAA,QACJ,GAAG,KAAK;AACR,eAAO;AAAA,MACX;AAYA,gBAAU,UAAU,OAAO,SAAU,UAAU,OAAM,YAAY,SAAS,IAAI;AAG1E,YAAI,GAAG,GAAG,OAAO;AACb,UAAC,KAAK,SAAW,UAAU;AAC/B,YAAI,GAAG,GAAG,UAAU;AAChB,UAAC,KAAK,YAAc,UAAU,aAAa;AAC/C,YAAI,GAAG,GAAG,KAAI;AACV,UAAC,KAAK,OAAQ,UAAU,aAAa,QAAO;AAChD,YAAI,KAAK,QAAQ,MAAM;AACnB,UAAC,UAAU,OAAQ,aAAa,UAAY,QAAO,WAAW;AAClE,YAAI,KAAK,KAAI,MAAM;AACf,UAAC,UAAU,YAAc,aAAa,OAAQ,QAAO;AACzD,YAAI,KAAK,QAAQ,MAAM,YAAY,KAAK,KAAI,MAAM;AAC9C,UAAC,QAAO,UAAY,WAAW;AAEnC,qBAAa,MAAM,UAAU,KAAK,CAAC;AACnC,YAAI;AACA,qBAAW,OAAO;AACtB,YAAI;AACA,qBAAW,WAAW;AAG1B,YAAI,OAAO,aAAa;AACxB,iBAAS,YAAY,IAAI;AAIzB,YAAI,YAAY,KAAK,KAAK,IAAI,GAAG,UAAU;AAC3C,YAAI,CAAC,GAAG,MAAM,SAAS,GAAG;AACtB,oBAAU,WAAW,CAAC;AACtB,kBAAQ,UAAU,QAAQ,WAAW,CAAC;AACtC,kBAAQ,QAAQ,OAAO;AAAA,QAC3B;AACA,YAAI,MAAM,KAAK,UAAU;AAAA,UACrB;AAAA,UACA;AAAA,UACA;AAAA,UACA,MAAM;AAAA,QACV,CAAC;AAED,YAAI,KAAK,QAAQ,cAAc;AAC3B,mBAAS,IAAI,cAAc,KAAK,QAAQ,YAAY;AAAA,QACxD;AACA,aAAK,QAAQ,QAAQ,IAAI,KAAK,GAAG,CAAC;AAClC,aAAK,KAAK,QAAQ,UAAU,OAAM,YAAY,OAAO;AACrD,aAAK,UAAU,EAAE;AACjB,eAAO;AAAA,MACX;AAKA,gBAAU,UAAU,WAAW,SAAU,MAAK;AAC1C,YAAI,aAAa,CAAC;AAClB,YAAI;AACA,qBAAW,OAAO;AACtB,aAAK,KAAK,UAAU;AACpB,eAAO;AAAA,MACX;AAUA,gBAAU,UAAU,QAAQ,SAAU,IAAI,MAAM,SAAS,IAAI;AAGzD,YAAI,GAAG,GAAG,OAAO;AACb,UAAC,KAAK,SAAW,UAAU;AAC/B,YAAI,GAAG,GAAG,IAAI;AACV,UAAC,KAAK,MAAQ,UAAU,MAAQ,OAAO;AAC3C,YAAI,GAAG,OAAO,IAAI;AACd,UAAC,UAAU,MAAQ,OAAO;AAE9B,YAAI,MAAM,KAAK,UAAU;AAAA,UACrB;AAAA,UACA,YAAY;AAAA,UACZ,QAAQ;AAAA,QACZ,CAAC;AAED,YAAI,KAAK,QAAQ,cAAc;AAC3B,mBAAS,IAAI,cAAc,KAAK,QAAQ,YAAY;AAAA,QACxD;AACA,aAAK,QAAQ,SAAS,IAAI,MAAM,GAAG,CAAC;AACpC,aAAK,KAAK,SAAS,IAAI,MAAM,OAAO;AACpC,aAAK,UAAU,EAAE;AACjB,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,QAAQ,SAAU,IAAI;AACtC,YAAI,GAAG,GAAG,EAAE,GAAG;AACX,cAAI,KAAK,UAAU;AACf,qBAAS,EAAE;AAAA,UACf,OACK;AACD,iBAAK,KAAK,SAAS,EAAE;AAAA,UACzB;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,UAAU,SAAU,SAAS;AAC7C,aAAK,WAAW;AAAA,MACpB;AAIA,gBAAU,UAAU,QAAQ,SAAU,KAAK;AACvC,YAAI,CAAC,UAAU,UAAU,KAAK;AAC1B,gBAAM,OAAO,eAAgB,QAAO,IAAI;AAAA,QAC5C,OACK;AACD,gBAAM,QAAQ;AAAA,QAClB;AAAA,MACJ;AAKA,gBAAU,UAAU,WAAW,SAAU,SAAS;AAC9C,kBAAU,WAAW,CAAC;AACtB,aAAK,UAAU;AACf,eAAO,QAAQ,QAAQ,MAAM;AAC7B,gBAAQ,QAAQ,QAAQ,OAAO;AAC/B,cAAM,QAAQ,QAAQ,YAAY;AAClC,aAAK,QAAQ,QAAQ,IAAI;AACzB,cAAM,QAAQ,QAAQ,KAAK;AAC3B,eAAO;AAAA,MACX;AAKA,gBAAU,UAAU,YAAY,SAAU,IAAI;AAC1C,YAAI,GAAG,GAAG,EAAE,GAAG;AACX,eAAK,WAAW,WAAW,IAAI,KAAK,QAAQ,IAAI,SAAS,EAAE;AAAA,QAC/D;AACA,eAAO;AAAA,MACX;AASA,gBAAU,UAAU,UAAU,SAAU,QAAQ,QAAQ;AACpD,YAAI,QAAO;AACX,YAAI;AACA,eAAK,mBAAmB,iBAAiB,OAAO,MAAM,IAAI,OAAO,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK,eAAe,SAAU,QAAQ;AAEjH,gBAAI,WAAW,MAAM;AACjB,oBAAK,IAAI,yEAAyE,MAAM;AACxF;AAAA,YACJ;AAEA,gBAAI,CAAE,mBAAkB,SAAS;AAC7B,uBAAS,IAAI,OAAO,MAAM;AAAA,YAC9B;AACA,kBAAK,KAAK,UAAU,MAAM;AAC1B,oBAAQ,UAAU,uBAAuB;AAAA,cACrC;AAAA,YACJ,CAAC;AACD,wCAA4B,MAAM;AAAA,UACtC,CAAC;AAAA,QACL,SACO,GAAP;AACI,kBAAQ,UAAU,6BAA6B;AAAA,YAC3C;AAAA,UACJ,CAAC;AACD,gBAAK,IAAI,mDAAmD,QAAQ,MAAM,CAAC;AAAA,QAC/E;AACA,eAAO;AACP,6CAAqC,SAAQ;AACzC,cAAI,wBAAwB,MAAK,yBAAyB,CAAC;AAC3D,eAAK,SAAU,aAAa,OAAM;AAC9B,gBAAI,aAAa,OAAO,MAAM,IAAI,OAAO,CAAC,CAAC,GAAG,OAAM;AACpD,gBAAI,CAAC,WAAW,QAAQ,KAAI;AACxB;AAGJ,gBAAI,sBAAsB,QAAQ,KAAI,KAAK,GAAG;AAC1C,oBAAK,IAAI,mGAAmG,QAAQ,KAAI;AAAA,YAC5H,OACK;AACD,kBAAI;AAEA,sBAAK,wBAAwB,iBAAiB,YAAY,YAAY,MAAM,SAAU,QAAQ;AAE1F,sBAAI,WAAW,MAAM;AACjB,0BAAK,IAAI,qEAAqE,KAAI;AAClF;AAAA,kBACJ;AAEA,sBAAI,CAAE,mBAAkB,SAAS;AAC7B,6BAAS,IAAI,OAAO,MAAM;AAAA,kBAC9B;AAGA,sBAAI,MAAK,wBAAwB,YAAY,OAAO;AAChD,0BAAK,wBAAwB,YAAY,MAAM,iBAAiB,YAAY,YAAY,MAAM,SAAU,SAAQ;AAE5G,0BAAI,YAAW,MAAM;AACjB,8BAAK,IAAI,qEAAqE,KAAI;AAClF;AAAA,sBACJ;AAEA,0BAAI,CAAE,oBAAkB,SAAS;AAC7B,kCAAS,IAAI,OAAO,OAAM;AAAA,sBAC9B;AACA,8BAAQ,UAAU,mCAAmC;AAAA,wBACjD;AAAA,wBACA,kBAAkB,YAAY;AAAA,sBAClC,CAAC;AACD,kCAAY,OAAO,KAAK,aAAa,QAAQ,OAAM;AAAA,oBACvD,CAAC;AAAA,kBACL,OACK;AACD,4BAAQ,UAAU,mCAAmC;AAAA,sBACjD;AAAA,sBACA,kBAAkB,YAAY;AAAA,oBAClC,CAAC;AACD,gCAAY,OAAO,KAAK,aAAa,QAAQ,MAAM;AAAA,kBACvD;AAAA,gBACJ,CAAC;AAAA,cACL,SACO,GAAP;AACI,wBAAQ,UAAU,yCAAyC;AAAA,kBACvD;AAAA,kBACA,kBAAkB,YAAY;AAAA,gBAClC,CAAC;AACD,sBAAK,IAAI,mDAAmD,QAAQ,OAAM,CAAC;AAAA,cAC/E;AAAA,YACJ;AAAA,UACJ,GAAG,MAAK,aAAa;AAAA,QACzB;AAAA,MACJ;AAOA,gBAAU,UAAU,OAAO,SAAU,MAAM;AACvC,YAAI,SAAS,KAAK,MAAM;AACxB,YAAI,CAAC,KAAK;AACN;AACJ,aAAK,QAAQ,MAAM,MAAM,IAAI;AAAA,MACjC;AAMA,gBAAU,UAAU,QAAQ,WAAY;AACpC,aAAK,KAAK,EAAE,OAAO;AACnB,aAAK,MAAM,EAAE,OAAO;AAAA,MACxB;AAMA,gBAAU,UAAU,cAAc,SAAU,OAAO;AAE/C,YAAI,SAAS,IAAI,MAAM,KAAK;AAC5B,YAAI,IAAI,OAAO,MAAM,MAAM,GAAG,EAAE,OAAO,SAAU,KAAK,KAAK;AACvD,cAAI,KAAK,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,GAAG;AAC3C,cAAI,KAAK,UAAU,CAAC,EAAE,QAAQ,KAAK,GAAG;AACtC,iBAAO;AAAA,QACX,GAAG,CAAC,CAAC;AAEL,YAAI,SAAS,WAAW,cAAc,CAAC;AACvC,YAAI,QAAQ,WAAW,aAAa,CAAC;AAErC,YAAI,EAAE;AACF,eAAK,SAAS,EAAE,SAAS,MAAM;AACnC,YAAI,EAAE;AACF,eAAK,MAAM,EAAE,WAAW,KAAK;AACjC,YAAI,EAAE;AACF,eAAK,YAAY,EAAE,OAAO;AAC9B,eAAO;AAQP,4BAAoB,QAAQ,QAAQ;AAChC,cAAI,SAAS,OAAO;AACpB,cAAI;AACJ,iBAAO,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,KAAK;AAClD,gBAAI,IAAI,OAAO,GAAG,MAAM,MAAM,QAAQ;AAClC,oBAAM,IAAI,OAAO,MAAM;AACvB,kBAAI,OAAO,OAAO;AAAA,YACtB;AACA,mBAAO;AAAA,UACX,GAAG,CAAC,CAAC;AAAA,QACT;AAAA,MACJ;AAIA,gBAAU,UAAU,YAAY,SAAU,KAAK;AAC3C,cAAM,UAAU,KAAK,KAAK,KAAK,aAAa,CAAC;AAC7C,YAAI,IAAI;AACJ,eAAK,YAAY,IAAI,WAAW;AACpC,YAAI,cAAc,KAAK,YAAY;AAEnC,YAAI,QAAQ,OAAO,SAAS,IAAI,QAAQ,QAAQ,CAAC,GAAG,aAAa,CAAC;AAClE,eAAO;AAAA,MACX;AAOA,gBAAU,UAAU,sCAAsC,SAAU,kBAAkB;AAElF,YAAI,CAAC,KAAK,QAAQ,cAAc;AAC5B,iBAAO;AAAA,QACX;AAEA,YAAI,gBAAe,OAAO,CAAC,GAAG,KAAK,QAAQ,YAAY;AACvD,YAAI;AAGJ,YAAI,iBAAiB,QAAQ,OAAO;AAChC,0BAAe,EAAE,KAAK,MAAM;AAAA,QAChC;AACA,aAAK,mBAAmB,kBAAkB;AACtC,cAAI,iBAAiB,eAAe,eAAe,GAAG;AAElD,gBAAI,KAAK,QAAQ,aAAa,qBAAqB,OAAO;AACtD,4BAAa,mBAAmB,iBAAiB;AAAA,YACrD;AAAA,UACJ;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAIA,gBAAU,UAAU,aAAa,WAAY;AACzC,eAAO,YAAY;AACnB,eAAO;AAAA,MACX;AAIA,aAAO,UAAU;AACjB,aAAO,QAAQ,SAAS;AACxB,aAAO,QAAQ,SAAS;AACxB,aAAO,QAAQ,QAAQ;AACvB,aAAO,QAAQ,UAAU;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/yBzB;AAAA;AAAA;AACA,aAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAM5D,UAAI,YAAY;AAEhB,UAAI,aAAY,IAAI,UAAU;AAG9B,iBAAU,UAAU;AAEpB,iBAAU,UAAU,kBAA2B;AAI/C,aAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAIA,UAAI;AACJ,UAAI;AACF,eAAO;AAAA,MACT,SAAS,GAAP;AACA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AASjB,qBAAe,KAAI;AACjB,gBAAQ,KAAK,GAAG;AAAA,eACT;AACH,gBAAI,OAAO,CAAC;AACZ,qBAAS,OAAO,KAAK;AACnB,kBAAI,OAAO,UAAU,eAAe,KAAK,KAAK,GAAG,GAAG;AAClD,qBAAK,OAAO,MAAM,IAAI,IAAI;AAAA,cAC5B;AAAA,YACF;AACA,mBAAO;AAAA,eAEJ;AACH,gBAAI,OAAO,IAAI,MAAM,IAAI,MAAM;AAC/B,qBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,IAAI,GAAG,KAAK;AAC1C,mBAAK,KAAK,MAAM,IAAI,EAAE;AAAA,YACxB;AACA,mBAAO;AAAA,eAEJ;AAEH,gBAAI,QAAQ;AACZ,qBAAS,IAAI,YAAY,MAAM;AAC/B,qBAAS,IAAI,SAAS,MAAM;AAC5B,qBAAS,IAAI,aAAa,MAAM;AAChC,mBAAO,IAAI,OAAO,IAAI,QAAQ,KAAK;AAAA,eAEhC;AACH,mBAAO,IAAI,KAAK,IAAI,QAAQ,CAAC;AAAA;AAG7B,mBAAO;AAAA;AAAA,MAEb;AAAA;AAAA;;;ACxDA;AAAA;AACA,UAAI,OAAO;AACX,UAAI,QAAQ;AAOZ,aAAO,UAAU;AAUjB,qBAAgB,KAAK,QAAQ;AAC3B,gBAAQ,KAAK,MAAM;AAAA,eACZ;AAAU,mBAAO,kBAAkB,MAAM,GAAG,GAAG,MAAM;AAAA,eACrD;AAAY,mBAAO,gBAAgB,MAAM,GAAG,GAAG,MAAM;AAAA;AAAA,MAE9D;AAUA,iCAA4B,KAAK,SAAS;AACxC,iBAAS,OAAO,SAAS;AACvB,cAAI,AAAc,IAAI,SAAlB;AAAwB;AAC5B,cAAI,QAAQ,QAAQ,IAAI;AACxB,iBAAO,IAAI;AAAA,QACb;AACA,eAAO;AAAA,MACT;AAUA,+BAA0B,KAAK,SAAS;AAEtC,YAAI,SAAS,CAAC;AACd,iBAAS,OAAO;AAAK,iBAAO,QAAQ,GAAG,KAAK,IAAI;AAChD,eAAO;AAAA,MACT;AAAA;AAAA;;;ACxDA;AAAA;AAAA;AAMA,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,OAAO;AASX,4BAAsB,KAAK,SAAS;AAClC,cAAM,MAAM,GAAG;AACf,aAAK,SAAS,KAAK,KAAK;AACtB,cAAI,KAAK,GAAG,MAAM,QAAQ;AACxB,gBAAI,OAAO,QAAQ,GAAG;AAAA,UACxB;AACA,cAAI,KAAK,GAAG,MAAM,YAAY,KAAK,GAAG,MAAM,SAAS;AACnD,gBAAI,OAAO,aAAa,KAAK,OAAO;AAAA,UACtC;AAAA,QACF,GAAG,GAAG;AACN,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAgBA,aAAO,UAAU,SAAU,KAAK,SAAS;AACvC,mBAAY,WAAU,CAAC;AACvB,eAAO,IAAI,YAAY,EACpB,QAAQ,QAAQ,WAAW,cAAc,GAAG,EAC5C,QAAQ,YAAY,EAAE,EACtB,QAAQ,OAAO,QAAQ,aAAa,GAAG;AAAA,MAC5C;AAAA;AAAA;;;ACtBA;AAAA;AAAA;AAEA,UAAI,cAAc,OAAO,UAAU;AASnC,UAAI,aAAa,SAAS,KAAK;AAC7B,eAAO,OAAO,QAAQ;AAAA,MACxB;AASA,UAAI,WAAW,SAAS,KAAK;AAC3B,YAAI,OAAO,OAAO;AAClB,eAAO,SAAS,YAAa,SAAS,YAAY,YAAY,KAAK,GAAG,MAAM;AAAA,MAC9E;AAaA,UAAI,eAAe,uBAAsB,GAAG;AAC1C,YAAI,OAAO,CAAC;AAEZ,iBAAS,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG;AAC9B,eAAK,KAAK,QAAQ,CAAC;AAAA,QACrB;AAEA,eAAO;AAAA,MACT;AAaA,UAAI,qBAAqB,6BAA4B,GAAG;AACtD,YAAI,aAAa,aAAa,CAAC,EAAE,KAAK,IAAI;AAC1C,YAAI,cAAc,GAAG,OACnB,sBAAsB,YAAY,SAClC,6CACA,MACF;AAGA,eAAO,IAAI,SAAS,QAAQ,WAAW;AAAA,MAEzC;AAGA,UAAI,oBAAoB;AAAA,QAEtB,SAAS,IAAI;AACX,iBAAO,WAAW;AAChB,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,QAEA,SAAS,IAAI;AACX,iBAAO,SAAS,MAAM;AACpB,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,QAEA,SAAS,IAAI;AACX,iBAAO,SAAS,MAAM,MAAM;AAC1B,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,QAEA,SAAS,IAAI;AACX,iBAAO,SAAS,MAAM,MAAM,MAAM;AAChC,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,QAEA,SAAS,IAAI;AACX,iBAAO,SAAS,MAAM,MAAM,MAAM,MAAM;AACtC,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,QAEA,SAAS,IAAI;AACX,iBAAO,SAAS,MAAM,MAAM,MAAM,MAAM,MAAM;AAC5C,mBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,UACjC;AAAA,QACF;AAAA,MAEF;AA0BA,UAAI,QAAQ,gBAAe,GAAG,MAAM;AAClC,YAAI,CAAC,WAAW,IAAI,GAAG;AACrB,gBAAM,IAAI,UAAU,iCAAiC,OAAO,IAAI;AAAA,QAClE;AAEA,YAAI,KAAK,IAAI,SAAS,CAAC,IAAI,IAAI,GAAG,CAAC;AAEnC,YAAI,CAAC,kBAAkB,IAAI;AACzB,4BAAkB,KAAK,mBAAmB,CAAC;AAAA,QAC7C;AAEA,eAAO,kBAAkB,GAAG,IAAI;AAAA,MAClC;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC3JjB;AAAA;AAAA;AAMA,UAAI,QAAQ;AAEZ,UAAI,cAAc,OAAO,UAAU;AASnC,UAAI,aAAa,SAAS,KAAK;AAC7B,eAAO,OAAO,QAAQ;AAAA,MACxB;AASA,UAAI,WAAW,SAAS,KAAK;AAC3B,YAAI,OAAO,OAAO;AAClB,eAAO,SAAS,YAAa,SAAS,YAAY,YAAY,KAAK,GAAG,MAAM;AAAA,MAC9E;AAeA,UAAI,QAAQ,gBAAe,GAAG,IAAI;AAChC,YAAI,CAAC,SAAS,CAAC,GAAG;AAChB,gBAAM,IAAI,UAAU,oCAAoC,OAAO,CAAC;AAAA,QAClE;AAEA,YAAI,CAAC,WAAW,EAAE,GAAG;AACnB,gBAAM,IAAI,UAAU,sCAAsC,OAAO,EAAE;AAAA,QACrE;AAEA,YAAI,YAAY;AAEhB,eAAO,MAAM,GAAG,QAAQ,WAAW;AACjC,uBAAa;AAEb,cAAI,YAAY,GAAG;AACjB;AAAA,UACF;AAEA,iBAAO,GAAG,MAAM,MAAM,SAAS;AAAA,QACjC,CAAC;AAAA,MACH;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACxEjB;AAAA;AACA,aAAO,UAAU;AAAA,QAEf,iBAAiB;AAAA,QACjB,iBAAiB;AAAA,QACjB,kBAAkB;AAAA,QAClB,kBAAkB;AAAA,QAElB,kBAAkB;AAAA,QAClB,mBAAmB;AAAA,QACnB,qBAAqB;AAAA,QACrB,uBAAuB;AAAA,QACvB,sBAAsB;AAAA,QAEtB,gBAAgB;AAAA,QAChB,gBAAgB;AAAA,QAChB,eAAe;AAAA,QACf,eAAe;AAAA,QACf,cAAc;AAAA,QACd,cAAc;AAAA,QACd,gBAAgB;AAAA,QAChB,gBAAgB;AAAA,QAChB,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,cAAc;AAAA,QACd,cAAc;AAAA,QACd,cAAc;AAAA,QACd,gBAAgB;AAAA,QAChB,gBAAgB;AAAA,QAChB,eAAe;AAAA,QACf,eAAe;AAAA,QACf,gBAAgB;AAAA,QAChB,kBAAkB;AAAA,QAClB,iBAAiB;AAAA,QACjB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,QACvB,uBAAuB;AAAA,QAEvB,eAAe;AAAA,QACf,eAAe;AAAA,QACf,cAAc;AAAA,QACd,eAAe;AAAA,QAEf,wBAAwB;AAAA,QACxB,wBAAwB;AAAA,QACxB,4BAA4B;AAAA,QAE5B,eAAe;AAAA,QACf,YAAY;AAAA,QAEZ,gBAAgB;AAAA,QAEhB,sBAAsB;AAAA,QACtB,oBAAoB;AAAA,QACpB,mBAAmB;AAAA,QACnB,yBAAyB;AAAA,QACzB,wBAAwB;AAAA,QAExB,mBAAmB;AAAA,QACnB,gBAAgB;AAAA,QAChB,0BAA0B;AAAA,QAC1B,wBAAwB;AAAA,QACxB,yBAAyB;AAAA,MAC3B;AAAA;AAAA;;;AChEA;AAAA;AAAA;AAMA,UAAI,OAAO;AAkBX,UAAI,QAAQ,gBAAe,WAAW,YAAY;AAChD,YAAI,OAAO,cAAc,YAAY;AACnC,gBAAM,IAAI,UAAU,8CAA8C,OAAO,SAAS;AAAA,QACpF;AAEA,YAAI,SAAS;AAEb,aAAK,SAAS,KAAK,KAAK,aAAY;AAClC,mBAAS,CAAC,CAAC,UAAU,KAAK,KAAK,WAAU;AAGzC,cAAI,CAAC,QAAQ;AACX,mBAAO;AAAA,UACT;AAAA,QACF,GAAG,UAAU;AAEb,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC/CjB;AAAA;AAAA;AAGA,UAAI,WAAW,OAAO,QAAQ,OAAO,KAAK,cAAc,aAAa,KAAK,YAAY;AAStF,mBAAa,KAAK;AAChB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAClD,YAAI,IAAI;AAER,eAAO,IAAI,QAAQ,cAAc,SAAS,OAAO,GAAG;AAClD,iBAAO,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,IAAI,QAAQ;AAAA,QAC9C,CAAC;AAAA,MACH;AAGA,UAAI,IAAI;AACR,UAAI,IAAI;AACR,UAAI,IAAI;AAMR,aAAO,UAAU;AAAA;AAAA;;;AC9BjB;AAAA;AAAA;AAMA,UAAI,OAAO;AA+BX,UAAI,QAAQ,gBAAe,UAAU,aAAa,YAAY;AAC5D,YAAI,OAAO,aAAa,YAAY;AAClC,gBAAM,IAAI,UAAU,wCAAwC,OAAO,QAAQ;AAAA,QAC7E;AAEA,aAAK,SAAS,KAAK,GAAG,aAAY;AAChC,wBAAc,SAAS,aAAa,KAAK,GAAG,WAAU;AAAA,QACxD,GAAG,UAAU;AAEb,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACrDjB;AAAA;AAWA,aAAO,UAAU,SAAS,IAAI,IAAG;AAC/B,eAAO,GAAG,mBACN,IAAI,IAAI,EAAE,IACV,OAAO,IAAI,EAAE;AAAA,MACnB;AAUA,mBAAa,IAAI,IAAG;AAClB,WAAG,iBAAiB,QAAQ,SAAS,GAAG,GAAE;AAAE,aAAG,MAAM,CAAC;AAAA,QAAG,GAAG,KAAK;AACjE,WAAG,iBAAiB,SAAS,SAAS,GAAE;AACtC,cAAI,MAAM,IAAI,MAAM,mBAAmB,GAAG,MAAM,GAAG;AACnD,cAAI,QAAQ;AACZ,aAAG,GAAG;AAAA,QACR,GAAG,KAAK;AAAA,MACV;AAUA,sBAAgB,IAAI,IAAG;AACrB,WAAG,YAAY,sBAAsB,SAAS,GAAE;AAC9C,cAAI,CAAC,kBAAkB,KAAK,GAAG,UAAU;AAAG;AAC5C,aAAG,MAAM,CAAC;AAAA,QACZ,CAAC;AACD,WAAG,YAAY,WAAW,SAAS,GAAE;AACnC,cAAI,MAAM,IAAI,MAAM,gCAAgC,GAAG,MAAM,GAAG;AAChE,cAAI,QAAQ,KAAK,OAAO;AACxB,aAAG,GAAG;AAAA,QACR,CAAC;AAAA,MACH;AAAA;AAAA;;;ACpDA;AAAA;AAIA,UAAI,KAAK;AACT,UAAI,SAAS;AACb,UAAI,OAAO;AAUX,aAAO,UAAU,oBAAoB,SAAS,IAAG;AAC/C,YAAI,CAAC;AAAS,gBAAM,IAAI,MAAM,sBAAsB;AAGpD,YAAI,GAAG,OAAO,OAAO;AAAG,oBAAU,EAAE,KAAM,QAAQ;AAElD,YAAI,QAAQ,SAAS,SAAS,aAAa,YAC/B,SAAS,SAAS,aAAa;AAI3C,YAAI,QAAQ,OAAO,QAAQ,IAAI,QAAQ,IAAI,MAAM,GAAG;AAClD,kBAAQ,MAAM,QAAQ,WAAW,QAAQ,MAAM,UAAU,QAAQ;AAAA,QACnE;AAGA,YAAI,SAAS,QAAQ;AAAO,kBAAQ,MAAM,QAAQ;AAAA,iBACzC,CAAC,SAAS,QAAQ;AAAM,kBAAQ,MAAM,QAAQ;AAIvD,YAAI,SAAS,SAAS,cAAc,QAAQ;AAC5C,eAAO,MAAM,QAAQ;AACrB,eAAO,QAAQ,QAAQ,SAAS;AAChC,eAAO,SAAS,QAAQ,UAAU;AAClC,eAAO,MAAM,UAAU;AAKvB,YAAI,GAAG,GAAG,EAAE,GAAG;AACb,iBAAO,QAAQ,EAAE;AAAA,QACnB;AAEA,aAAK,WAAU;AAEb,cAAI,cAAc,SAAS,qBAAqB,QAAQ,EAAE;AAC1D,sBAAY,WAAW,aAAa,QAAQ,WAAW;AAAA,QACzD,CAAC;AAID,eAAO;AAAA,MACT;AAAA;AAAA;;;AC3DA;AAAA;AAAA;AAMA,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,OAAO;AAQX,0BAAoB,SAAS,IAAI;AAC/B,YAAI,CAAC,SAAS;AACZ,gBAAM,IAAI,MAAM,uBAAwB;AAAA,QAC1C;AAGA,YAAI,KAAK,OAAO,MAAM,UAAU;AAC9B,oBAAU,EAAE,KAAM,QAAQ;AAAA,QAC5B;AAEA,YAAI,QAAQ,SAAS,SAAS,aAAa,YAAY,SAAS,SAAS,aAAa;AAItF,YAAI,QAAQ,OAAO,QAAQ,IAAI,QAAQ,IAAI,MAAM,GAAG;AAClD,kBAAQ,MAAO,SAAQ,WAAW,WAAW,QAAQ;AAAA,QACvD;AAGA,YAAI,SAAS,QAAQ,OAAO;AAC1B,kBAAQ,MAAM,QAAQ;AAAA,QACxB,WAAW,CAAC,SAAS,QAAQ,MAAM;AACjC,kBAAQ,MAAM,QAAQ;AAAA,QACxB;AAIA,YAAI,SAAS,SAAS,cAAc,QAAQ;AAC5C,eAAO,OAAO;AACd,eAAO,QAAQ;AACf,eAAO,MAAM,QAAQ;AAIrB,YAAI,KAAK,EAAE,MAAM,YAAY;AAC3B,iBAAO,QAAQ,EAAE;AAAA,QACnB;AAEA,aAAK,WAAW;AAEd,cAAI,cAAc,SAAS,qBAAqB,QAAQ,EAAE;AAC1D,sBAAY,WAAW,aAAa,QAAQ,WAAW;AAAA,QACzD,CAAC;AAID,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACrEjB;AAAA;AAKA,aAAO,UAAU;AAOjB,UAAI,WAAW;AACf,UAAI,eAAe;AAWnB,wBAAmB,QAAQ;AACzB,YAAI,SAAS,KAAK,MAAM;AAAG,iBAAO,OAAO,YAAY;AACrD,YAAI,aAAa,KAAK,MAAM;AAAG,iBAAQ,YAAW,MAAM,KAAK,QAAQ,YAAY;AACjF,eAAO,WAAW,MAAM,EAAE,YAAY;AAAA,MACxC;AAOA,UAAI,oBAAoB;AAUxB,0BAAqB,QAAQ;AAC3B,eAAO,OAAO,QAAQ,mBAAmB,SAAU,GAAG,MAAM;AAC1D,iBAAO,OAAO,MAAM,OAAO;AAAA,QAC7B,CAAC;AAAA,MACH;AAOA,UAAI,gBAAgB;AAUpB,0BAAqB,QAAQ;AAC3B,eAAO,OAAO,QAAQ,eAAe,SAAU,GAAG,UAAU,QAAQ;AAClE,iBAAO,WAAW,MAAM,OAAO,YAAY,EAAE,MAAM,EAAE,EAAE,KAAK,GAAG;AAAA,QACjE,CAAC;AAAA,MACH;AAAA;AAAA;;;ACtEA;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,KAAK;AACT,UAAI,aAAa;AACjB,UAAI,aAAa;AACjB,UAAI,WAAW;AACf,UAAI,YAAY;AAMhB,UAAI,MAAM,OAAO,UAAU;AAM3B,UAAI,OAAO,iBAAgB;AAAA,MAAC;AAM5B,UAAI,UAAU,OAAO;AACrB,UAAI,SAAS;AAOb,cAAQ,OAAO;AAOf,cAAQ,aAAa,WAAW;AAC9B,YAAI,QAAQ,KAAK;AACjB,iBAAS,KAAK;AAAA,MAChB;AASA,cAAQ,SAAS,WAAW;AAC1B,eAAO;AAAA,MACT;AAUA,cAAQ,OAAO,SAAS,MAAM;AAAA,MAAC;AAW/B,cAAQ,QAAQ,SAAS,OAAO;AAAA,MAAC;AA0CjC,cAAQ,MAAM,SAAS,SAAS,KAAK;AACnC,YAAI,uBAAuB,UAAU,GAAG;AACxC,YAAI,cAAc,eAAe,OAAO;AAExC,YAAI,gBAAgB,WAAW;AAC7B,iBAAO,CAAC;AAAA,QACV;AAEA,eAAO,MAAM,SAAS,gBAAgB,KAAK,MAAK;AAC9C,cAAI;AACJ,cAAI;AAEJ,cAAI,gBAAgB,OAAO;AACzB,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU,IAAI;AACd,qBAAS,IAAI;AAAA,UACf;AAEA,cAAI,UAAU,OAAO,MAAM,sBAAsB;AAC/C,2BAAe,KAAK,MAAM;AAAA,UAC5B;AAEA,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,OAAO;AAAA,MAChB;AAYA,cAAQ,SAAS,SAAS,QAAQ;AAChC,YAAI,CAAC,KAAK;AAAS;AACnB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAClD,YAAI,CAAC,KAAK;AAAQ,iBAAO,KAAK,MAAM,QAAQ,IAAI;AAEhD,aAAK,MAAM,cAAc,QAAQ,IAAI;AACrC,eAAO,KAAK,QAAQ,MAAM,MAAM,IAAI;AAAA,MACtC;AAWA,cAAQ,QAAQ,SAAS,QAAQ,MAAM;AACrC,YAAI,WAAW,UAAU,KAAK,oBAAoB,CAAC,KAAK,cAAc;AACpE,iBAAO,KAAK,KAAK,MAAM,MAAM,IAAI;AAAA,QACnC;AAEA,aAAK,OAAO,KAAK,EAAE,QAAgB,KAAW,CAAC;AAAA,MACjD;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,SAAS;AACd,YAAI,QAAO;AAEX,aAAK,SAAS,MAAM;AAClB,gBAAK,KAAK,QAAQ,MAAM,OAAM,KAAK,IAAI;AAAA,QACzC,GAAG,KAAK,MAAM;AAGd,aAAK,OAAO,SAAS;AAAA,MACvB;AAQA,cAAQ,QAAQ,WAAW;AACzB,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;AAC5C,iBAAO,KAAK,QAAQ,MAAM;AAAA,QAC5B;AAEA,eAAO,UAAU;AACjB,eAAO,SAAS;AAAA,MAClB;AAYA,cAAQ,OAAO,SAAS,OAAM,QAAQ,UAAU;AAE9C,YAAI,OAAO,UAAS,YAAY;AAAE,qBAAW;AAAM,mBAAS;AAAM,kBAAO;AAAA,QAAM;AAC/E,YAAI,SAAQ,OAAO,UAAS,UAAU;AAAE,qBAAW;AAAQ,mBAAS;AAAM,kBAAO;AAAA,QAAM;AACvF,YAAI,OAAO,WAAW,YAAY;AAAE,qBAAW;AAAQ,mBAAS;AAAA,QAAM;AAGtE,gBAAO,SAAQ;AACf,iBAAS,UAAU,CAAC;AAEpB,iBAAS,KAAK,OAAO,MAAM;AAC3B,YAAI,WAAW,KAAK,UAAU;AAC9B,YAAI,CAAC;AAAU,gBAAM,IAAI,MAAM,IAAI,8BAA8B,KAAI,CAAC;AACtE,YAAI,QAAQ,OAAO,UAAU,MAAM;AACnC,mBAAW,YAAY;AACvB,YAAI,QAAO;AACX,YAAI;AAEJ,gBAAQ,SAAS;AAAA,eACZ;AACH,kBAAM,QAAQ;AACd,kBAAM,SAAS;AACf,iBAAK,UAAU,OAAO,QAAQ;AAC9B;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,SAAS,KAAK;AACnC,kBAAI,CAAC;AAAK,uBAAO,SAAS;AAC1B,oBAAK,MAAM,iCAAiC,MAAK,MAAM,GAAG;AAAA,YAC5D,CAAC;AAED,mBAAO,MAAM;AACb,iBAAK,SAAS,KAAK,KAAK;AACtB,iBAAG,aAAa,KAAK,GAAG;AAAA,YAC1B,GAAG,KAAK;AACR;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,QAAQ;AAC/B;AAAA;AAAA;AAKF,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,QAAQ;AAChC,iBAAS,UAAU,CAAC;AACpB,YAAI,QAAQ,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAO;AACrD,YAAI,CAAC,OAAO,eAAe,OAAO;AAAG,iBAAO,QAAQ;AACpD,aAAK,SAAS,KAAK,KAAK;AACtB,cAAI,CAAC,OAAO,eAAe,GAAG;AAAG,mBAAO,OAAO;AAAA,QACjD,GAAG,KAAK,OAAO;AACf,eAAO;AAAA,MACT;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,KAAK,OAAO;AAAA,MACnB;AASA,cAAQ,kBAAkB,WAAW;AACnC,YAAI,aAAa,KAAK;AACtB,aAAK,aAAa,WAAW;AAC3B,eAAK,MAAM,YAAY;AACvB,eAAK,eAAe;AACpB,cAAI,MAAM,WAAW,MAAM,MAAM,SAAS;AAC1C,eAAK,KAAK,YAAY;AACtB,iBAAO;AAAA,QACT;AAEA,YAAI,KAAK;AAAkB,eAAK,aAAa,MAAM,GAAG,KAAK,UAAU;AAAA,MACvE;AASA,cAAQ,YAAY,WAAW;AAC7B,YAAI,OAAO,KAAK;AAChB,aAAK,OAAO,WAAW;AACrB,cAAI,KAAK,oBAAoB,CAAC,KAAK,cAAc;AAC/C,mBAAO,KAAK,WAAW,MAAM,MAAM,SAAS;AAAA,UAC9C;AAEA,iBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,QACnC;AAAA,MACF;AASA,cAAQ,aAAa,WAAW;AAC9B,YAAI,IAAI,KAAK;AACb,aAAK,QAAQ,SAAS,OAAO;AAC3B,cAAI,QAAQ,MAAM,MAAM;AACxB,cAAI;AACJ,cAAI;AAEJ,mBAAS,UAAU,QAAQ;AACzB,gBAAI,IAAI,KAAK,QAAQ,MAAM,GAAG;AAC5B,kBAAI,SAAS,OAAO;AACpB,kBAAI,CAAC,KAAK;AAAS;AACnB,kBAAI,CAAC,OAAO,KAAK,KAAK;AAAG;AACzB,oBAAM,KAAK,QAAQ,MAAM,MAAM,SAAS;AACxC,uBAAS;AACT;AAAA,YACF;AAAA,UACF;AAEA,cAAI,CAAC;AAAQ,kBAAM,EAAE,MAAM,MAAM,SAAS;AAC1C,iBAAO;AAAA,QACT;AAAA,MACF;AAUA,8BAAwB,SAAS;AAC/B,YAAI,GAAG,MAAM,OAAO,GAAG;AACrB,iBAAO,MAAM,SAAS,OAAO,IAAI,UAAU;AAAA,QAC7C;AACA,YAAI,GAAG,OAAO,OAAO;AAAG,iBAAO;AAC/B,eAAO;AAAA,MACT;AAaA,uBAAiB,MAAM;AACrB,YAAI,CAAC,GAAG,OAAO,IAAI;AAAG,iBAAO;AAC7B,YAAI,CAAC,GAAG,OAAO,KAAK,GAAG;AAAG,iBAAO;AACjC,YAAI,CAAC,IAAI,KAAK,MAAM,OAAO;AAAG,iBAAO;AACrC,eAAO;AAAA,MACT;AAWA,yBAAmB,OAAO,IAAI;AAC5B,aAAK,MAAM,WAAW;AAAA,QAAC;AACvB,YAAI,MAAM,IAAI,MAAM;AACpB,YAAI,UAAU,MAAM,IAAI,wBAAwB,GAAG;AACnD,YAAI,SAAS,WAAW;AAAE,aAAG;AAAA,QAAG;AAChC,YAAI,MAAM,MAAM;AAChB,YAAI,QAAQ;AACZ,YAAI,SAAS;AACb,eAAO;AAAA,MACT;AAYA,qBAAe,IAAI,SAAS,KAAK;AAC/B,eAAO,SAAS,GAAG;AACjB,cAAI,KAAK,OAAO;AAChB,cAAI,MAAM,IAAI,MAAM,OAAO;AAC3B,cAAI,QAAQ;AACZ,cAAI,SAAS;AACb,aAAG,GAAG;AAAA,QACR;AAAA,MACF;AAWA,sBAAgB,UAAU,QAAQ;AAChC,eAAO,MAAM,SAAS,OAAO,KAAK,KAAK;AACrC,gBAAM,OAAO,IAAI,QAAQ,wBAAwB,SAAS,GAAG,IAAI;AAC/D,mBAAO,OAAO;AAAA,UAChB,CAAC;AACD,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,SAAS,KAAK;AAAA,MACvB;AAAA;AAAA;;;ACzdA;AAAA;AAKA,aAAO,UAAU;AAMjB,UAAI,eAAe;AACnB,UAAI;AACJ,UAAI,OAAO,aAAa,aAAa;AACnC,qBAAa,SAAS,cAAc,KAAK;AAEzC,mBAAW,YAAY;AAGvB,uBAAe,CAAC,WAAW,qBAAqB,MAAM,EAAE;AACxD,qBAAa;AAAA,MACf;AAMA,UAAI,MAAM;AAAA,QACR,QAAQ,CAAC,GAAG,cAAc,aAAa;AAAA,QACvC,IAAI,CAAC,GAAG,kBAAkB,kBAAkB;AAAA,QAC5C,KAAK,CAAC,GAAG,oCAAoC,qBAAqB;AAAA,QAGlE,UAAU,eAAe,CAAC,GAAG,UAAU,QAAQ,IAAI,CAAC,GAAG,IAAI,EAAE;AAAA,MAC/D;AAEA,UAAI,KACJ,IAAI,KAAK,CAAC,GAAG,sBAAsB,uBAAuB;AAE1D,UAAI,SACJ,IAAI,WAAW,CAAC,GAAG,gCAAgC,WAAW;AAE9D,UAAI,QACJ,IAAI,QACJ,IAAI,WACJ,IAAI,UACJ,IAAI,QAAQ,CAAC,GAAG,WAAW,UAAU;AAErC,UAAI,WACJ,IAAI,UACJ,IAAI,UACJ,IAAI,SACJ,IAAI,OACJ,IAAI,OACJ,IAAI,OACJ,IAAI,OACJ,IAAI,IAAI,CAAC,GAAG,0DAAyD,QAAQ;AAa7E,qBAAe,MAAM,KAAK;AACxB,YAAI,AAAY,OAAO,QAAnB;AAAyB,gBAAM,IAAI,UAAU,iBAAiB;AAGlE,YAAI,CAAC;AAAK,gBAAM;AAGhB,YAAI,IAAI,YAAY,KAAK,IAAI;AAC7B,YAAI,CAAC;AAAG,iBAAO,IAAI,eAAe,IAAI;AAEtC,eAAO,KAAK,QAAQ,cAAc,EAAE;AAEpC,YAAI,MAAM,EAAE;AAGZ,YAAI,OAAO,QAAQ;AACjB,cAAI,KAAK,IAAI,cAAc,MAAM;AACjC,aAAG,YAAY;AACf,iBAAO,GAAG,YAAY,GAAG,SAAS;AAAA,QACpC;AAGA,YAAI,OAAO,OAAO,UAAU,eAAe,KAAK,KAAK,GAAG,IAAI,IAAI,OAAO,IAAI;AAC3E,YAAI,QAAQ,KAAK;AACjB,YAAI,SAAS,KAAK;AAClB,YAAI,SAAS,KAAK;AAClB,YAAI,KAAK,IAAI,cAAc,KAAK;AAChC,WAAG,YAAY,SAAS,OAAO;AAC/B,eAAO;AAAS,eAAK,GAAG;AAGxB,YAAI,GAAG,cAAc,GAAG,WAAW;AACjC,iBAAO,GAAG,YAAY,GAAG,UAAU;AAAA,QACrC;AAGA,YAAI,WAAW,IAAI,uBAAuB;AAC1C,eAAO,GAAG,YAAY;AACpB,mBAAS,YAAY,GAAG,YAAY,GAAG,UAAU,CAAC;AAAA,QACpD;AAEA,eAAO;AAAA,MACT;AAAA;AAAA;;;AC/GA;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,WAAW;AAOf,cAAQ,OAAO;AAYf,cAAQ,SAAS,SAAS,KAAK,OAAO;AACpC,aAAK,UAAU,SAAS,OAAO;AAC/B,eAAO;AAAA,MACT;AAsBA,cAAQ,UAAU,SAAS,OAAM;AAC/B,aAAK,OAAO,OAAM,CAAC,CAAC;AACpB,aAAK,UAAU,SAAQ,SAAS,KAAK;AACnC,iBAAO,KAAK,IAAI,KAAK,QAAQ,QAAO,GAAG;AAAA,QACzC;AACA,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,KAAK;AAC7B,aAAK,UAAU,QAAQ,KAAK,GAAG;AAC/B,eAAO;AAAA,MACT;AAUA,cAAQ,kBAAkB,WAAW;AACnC,aAAK,UAAU,mBAAmB;AAClC,eAAO;AAAA,MACT;AASA,cAAQ,cAAc,WAAW;AAC/B,aAAK,UAAU,eAAe;AAC9B,eAAO;AAAA,MACT;AASA,cAAQ,oBAAoB,WAAW;AACrC,aAAK,UAAU,qBAAqB;AACpC,eAAO;AAAA,MACT;AAaA,cAAQ,MAAM,SAAS,OAAM,KAAK;AAChC,YAAI,OAAO,MAAM;AACf,gBAAM;AACN,kBAAO;AAAA,QACT;AACA,aAAK,UAAU,UAAU,SAAQ,UAAU,GAAG;AAC9C,eAAO;AAAA,MACT;AAcA,yBAAmB,KAAK;AAEtB,cAAM,IAAI,QAAQ,UAAU,aAAa;AAEzC,YAAI,KAAK,OAAO,GAAG;AACnB,YAAI,QAAQ,CAAC;AAEb,aAAK,SAAS,MAAM;AAElB,cAAI,QAAO,KAAK,SAAS,aAAa,QAAQ,KAAK;AACnD,cAAI,CAAC,SAAS,KAAK,OAAO,KAAK,GAAG;AAAG;AACrC,gBAAM,SAAQ,KAAK;AAAA,QACrB,GAAG,GAAG,UAAU;AAEhB,eAAO;AAAA,UACL,MAAM,GAAG,QAAQ,YAAY;AAAA,UAC7B;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;AClKA;AAAA;AAAA;AAMA,UAAI,OAAO;AACX,UAAI,QAAQ;AACZ,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,UAAU;AAUd,iCAA2B,OAAM;AAQ/B,6BAAqB,SAAS;AAC5B,cAAI,WAAW,QAAQ,gBAAgB;AAErC,mBAAO,QAAQ,eAAe,WAAW;AAAA,UAC3C;AACA,eAAK,QAAQ,MAAM,2BAA2B,KAAK,KAAI,CAAC;AACxD,eAAK,UAAU,SAAS,MAAM,OAAO,KAAK,CAAC,GAAG,KAAK,QAAQ;AAC3D,eAAK,SAAS,CAAC;AACf,eAAK,KAAK,SAAS,KAAK,MAAM,KAAK,KAAK,CAAC;AAEzC,sBAAY,KAAK,aAAa,IAAI;AAClC,eAAK,QAAQ,KAAK,MAAM,KAAK,KAAK;AAClC,eAAK,gBAAgB;AACrB,eAAK,UAAU;AACf,eAAK,WAAW;AAAA,QAClB;AAEA,oBAAY,UAAU,WAAW,CAAC;AAClC,oBAAY,UAAU,UAAU,CAAC;AACjC,oBAAY,UAAU,YAAY,CAAC;AACnC,oBAAY,UAAU,OAAO;AAC7B,eAAO,aAAa,OAAO;AAC3B,eAAO,YAAY,WAAW,MAAM;AAEpC,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC9DjB;AAAA;AAAA;AAMA,UAAI,WAAW,eAA4B;AAC3C,UAAI,QAAQ;AACZ,UAAI,eAAe;AACnB,UAAI,cAAc;AAElB,UAAI,6BAA6B;AAKjC,UAAI,aAAc,OAAO,UAAU,YAAY,aAAa,EACzD,OAAO,MAAM,EACb,OAAO,UAAU,EAAE,EACnB,OAAO,cAAc,EAAE,EACvB,IACC,UACA,2GACF,EACC,IACC,cACA,wGACF;AAUF,iBAAW,UAAU,aAAa,WAAW;AAC3C,eAAO,OAAO,OAAO,QAAQ,CAAC;AAE9B,QAAC,YAAU;AAAC,cAAI,GAAE,GAAE;AAAG,cAAI,SAAS,GAAE;AAAC,mBAAO,WAAU;AAAC,qBAAO,KAAK,KAAK,CAAC,CAAC,EAAE,OAAO,MAAM,UAAU,MAAM,KAAK,WAAU,CAAC,CAAC,CAAC;AAAA,YAAG;AAAA,UAAG;AAAG,cAAI,CAAC,YAAY,OAAO;AAAG,eAAK,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK;AAAC,mBAAO,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;AAAA,UAAG;AAAA,QAAE,GAAG;AAGnO,YAAI,KAAK,QAAQ,eAAe,QAAQ,KAAK,UAAU,WAAW;AAChE,eAAK,KAAK,UAAU,KAAK,KAAK;AAAA,QAChC,OAAO;AACL,eAAK,KAAK,cAAc,KAAK,KAAK;AAAA,QACpC;AAAA,MACF;AASA,iBAAW,UAAU,SAAS,WAAW;AACvC,eAAO,CAAC,CAAE,QAAO,QAAQ,OAAO,KAAK,SAAS,MAAM,UAAU;AAAA,MAChE;AAWA,iBAAW,UAAU,OAAO,SAAS,MAAM;AACzC,YAAI,QAAO,KAAK,KAAK,KAAK,KAAK,IAAI;AACnC,eAAO,KAAK,KAAK,OAAM,KAAK,WAAW,CAAC;AAAA,MAC1C;AAWA,iBAAW,UAAU,WAAW,SAAS,UAAU;AACjD,YAAI,CAAC,SAAS,OAAO;AAAG,iBAAO,KAAK,MAAM,kBAAkB;AAC5D,YAAI,SAAS,SAAS,OAAO,EAAE,WAAW,UAAU,CAAC;AACrD,iBAAS,MAAM,QAAQ,EAAE,SAAS,aAAa,CAAC;AAChD,iBAAS,aAAa,QAAQ,WAAW;AACzC,eAAO,KAAK,SAAS,MAAM;AAAA,MAC7B;AASA,iBAAW,UAAU,QAAQ,SAAS,OAAO;AAC3C,YAAI,SAAS,MAAM,OAAO;AAC1B,YAAI,OAAO,KAAK,UAAU,KAAK;AAE/B,iBAAS,MAAM,QAAQ,SAAS,OAAO;AACrC,iBAAO,WAAW;AAAA,QACpB,CAAC;AAED,aAAK,SACH,IAAI,SAAS;AAAA,UACX,QAAQ,KAAK,GAAG;AAAA,UAChB;AAAA,QACF,CAAC,CACH;AAAA,MACF;AAWA,iBAAW,UAAU,QAAQ,SAAS,OAAO;AAC3C,YAAI,aAAa,MAAM,WAAW;AAClC,qBAAa,aAAa,YAAY,WAAW;AACjD,eAAO,KAAK,MAAM,MAAM,MAAM,GAAG,UAAU;AAAA,MAC7C;AAUA,2BAAqB,MAAM;AACzB,YAAI,KAAK,YAAY,IAAI,4BAA4B;AACnD,iBAAO,KAAK,YAAY;AAAA,QAC1B;AACA,eAAO,KAAK,MAAM,KAAK,QAAQ,IAAI,GAAI;AAAA,MACzC;AAAA;AAAA;;;AC/IA;AAAA;AAAA;AAQA,mBAAa,QAAQ;AACnB,YAAI,IAAI,OAAO,SAAS;AACxB,eAAO,EAAE,WAAW,IAAI,MAAM,IAAI;AAAA,MACpC;AAUA,2BAAqB,MAAM;AACzB,eAAO,KAAK,eAAe,IACvB,MAAM,IAAI,KAAK,YAAY,IAAI,CAAC,IAChC,MAAM,IAAI,KAAK,WAAW,CAAC,IAC3B,MAAM,IAAI,KAAK,YAAY,CAAC,IAC5B,MAAM,IAAI,KAAK,cAAc,CAAC,IAC9B,MAAM,IAAI,KAAK,cAAc,CAAC,IAC9B,MAAM,OAAQ,MAAK,mBAAmB,IAAE,KAAM,QAAQ,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,IACpE;AAAA,MACN;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,aAAO,UAAU,SAAS,KAAK,KAAI;AACjC,YAAI,IAAI;AAAS,iBAAO,IAAI,QAAQ,GAAG;AACvC,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,cAAI,IAAI,OAAO;AAAK,mBAAO;AAAA,QAC7B;AACA,eAAO;AAAA,MACT;AAAA;AAAA;;;ACNA;AAAA;AAAA;AAMA,UAAI,QAAQ;AACZ,UAAI,QAAQ;AACZ,UAAI,MAAM,mBAAoB;AAC9B,UAAI,WAAW;AACf,UAAI,cAAc;AAClB,UAAI,MAAM;AACV,UAAI,OAAO;AACX,UAAI,KAAK;AACT,UAAI,UAAU;AAMd,UAAI,WAAY,OAAO,UAAU,YAAY,UAAU,EACpD,OAAO,UAAU,EACjB,OAAO,mBAAmB,CAAC,CAAC,EAC5B,OAAO,kBAAkB,CAAC,CAAC,EAC3B,OAAO,oBAAoB,CAAC,CAAC,EAC7B,OAAO,mBAAmB,CAAC,CAAC,EAC5B,OAAO,cAAc,EAAE,EACvB,OAAO,wBAAwB,KAAK,EACpC,OAAO,gBAAgB,KAAK,EAC5B,OAAO,eAAe,QAAQ,EAC9B,OAAO,WAAW,IAAI,EACtB,OAAO,YAAY,KAAK,EACxB,OAAO,UAAU,KAAK,EACtB,OAAO,SAAS,EAAE,EAClB,OAAO,yBAAyB,IAAI,EACpC,OAAO,yBAAyB,IAAI,EACpC,OAAO,iBAAiB,KAAK,EAC7B,OAAO,mBAAmB,KAAK,EAC/B,OAAO,yBAAyB,KAAK,EACrC,OAAO,yBAAyB,CAAC,CAAC,EAClC,OAAO,cAAc,EAAE,EACvB,OAAO,+BAA+B,KAAK,EAC3C,IAAI,8DAA8D;AAMrE,UAAI,iBAAiB;AAAA,QACnB,YAAY;AAAA,QACZ,sBAAsB;AAAA,QACtB,cAAc;AAAA,MAChB;AAWA,eAAS,UAAU,aAAa,WAAW;AAEzC,QAAC,UAAS,GAAE,GAAE;AAAC,cAAG,CAAC,EAAE,MAAK;AAAC,gBAAI,IAAE;AAAO,gBAAG;AAAC,kBAAI,GAAE,GAAE,GAAE,IAAE,EAAE,UAAS,IAAE,EAAE;AAAK,kBAAE,SAAS,IAAE,IAAE;AAAC,uBAAO,KAAE,GAAE,MAAM,OAAO,KAAE,UAAU,CAAC,KAAG,EAAE,KAAG;AAAA,cAAI;AAAE,mBAAG,EAAE,GAAE,OAAO,KAAI,KAAE,KAAK,MAAM,mBAAmB,EAAE,GAAE,OAAO,CAAC,CAAC,GAAE,AAAa,EAAE,WAAf,cAAwB,GAAE,eAAe,QAAQ,aAAY,CAAC,GAAE,QAAQ,aAAa,EAAE,eAAa,IAAG,EAAE,OAAM,EAAE,WAAS,EAAE,MAAM;AAAA,YAAG,SAAO,GAAN;AAAA,YAAS;AAAC,gBAAI,GAAE;AAAE,mBAAO,WAAS;AAAE,cAAE,KAAG,CAAC;AAAE,cAAE,OAAK,SAAS,IAAE,IAAE,GAAE;AAAC,0BAAW,IAAE,IAAE;AAAC,oBAAI,KAAE,GAAE,MAAM,GAAG;AAAE,gBAAG,GAAE,UAAL,KAAc,MAAE,GAAE,GAAE,KAAI,KAAE,GAAE;AAAI,mBAAE,MAAG,WAAU;AAAC,qBAAE,KAAK,CAAC,EAAC,EAAE,OAAO,MAAM,UAAU,MAAM,KAAK,WAC3hB,CAAC,CAAC,CAAC;AAAA,gBAAC;AAAA,cAAC;AAAC,kBAAI,IAAE;AAAE,cAAc,OAAO,MAArB,cAAuB,IAAE,EAAE,KAAG,CAAC,IAAE,IAAE;AAAW,gBAAE,SAAO,EAAE,UAAQ,CAAC;AAAE,gBAAE,WAAS,SAAS,IAAE;AAAC,oBAAI,KAAE;AAAW,gBAAa,MAAb,cAAiB,OAAG,MAAI;AAAG,sBAAI,OAAG;AAAW,uBAAO;AAAA,cAAC;AAAE,gBAAE,OAAO,WAAS,WAAU;AAAC,uBAAO,EAAE,SAAS,CAAC,IAAE;AAAA,cAAgB;AAAE,kBAAE,gRAAgR,MAAM,GAAG;AAChhB,mBAAI,IAAE,GAAE,IAAE,EAAE,QAAO;AAAI,mBAAE,GAAE,EAAE,EAAE;AAAE,gBAAE,GAAG,KAAK,CAAC,IAAE,IAAE,CAAC,CAAC;AAAA,YAAC;AAAE,cAAE,OAAK;AAAA,UAAI;AAAA,QAAC,GAAG,UAAS,OAAO,YAAU,CAAC,CAAC;AAE9F,aAAK,QAAQ,kBAAkB,UAAU,KAAK,QAAQ,eAAe;AACrE,aAAK,QAAQ,iBAAiB,UAAU,KAAK,QAAQ,cAAc;AACnE,YAAI,UAAU,MAAM,KAAK,SAAS,cAAc;AAChD,YAAI,KAAK,QAAQ,6BAA6B;AAE5C,kBAAQ,WAAW;AAAA,QACrB;AAEA,gBAAQ,SAAS,SAAS,UAAU;AAClC,mBAAS,SAAS,EAAE,QAAQ,eAAe,CAAC;AAAA,QAC9C;AACA,eAAO,SAAS,KAAK,QAAQ,OAAO,OAAO;AAC3C,aAAK,KAAK,KAAK,KAAK;AAAA,MACtB;AASA,eAAS,UAAU,SAAS,WAAW;AACrC,eAAO,CAAC,CAAE,QAAO,YAAY,OAAO,SAAS;AAAA,MAC/C;AAWA,eAAS,UAAU,OAAO,SAAS,MAAM;AACvC,YAAI,WAAW,KAAK,SAAS;AAC7B,YAAI,QAAO,KAAK,KAAK;AACrB,YAAI,OAAO,KAAK;AAGhB,YAAI,KAAK,uBAAuB;AAC9B,eAAK,MAAM,KAAK,MAAM,CAAC;AACvB;AAAA,QACF;AAGA,YAAI,KAAK,eAAe;AACtB,eAAK,MAAM,KAAK,MAAM,CAAC;AACvB;AAAA,QACF;AAGA,YAAI,KAAK,yBAAyB,UAAU;AAE1C,cAAI,OAAM;AACR,iBAAK,MAAM,KAAK,MAAM,KAAK,SAAS,CAAC,CAAC;AACtC;AAAA,UACF;AACA,eAAK,MAAM,KAAK,MAAM,QAAQ,CAAC;AAC/B;AAAA,QACF;AAGA,YAAI,SAAQ,KAAK,iBAAiB;AAChC,eAAK,MAAM,KAAK,MAAM,KAAI,CAAC;AAAA,QAC7B;AAAA,MACF;AAMA,UAAI,eAAe;AAAA,QACjB,SAAS;AAAA,QACT,OAAO;AAAA,QACP,WAAW;AAAA,QACX,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,MACT;AAaA,eAAS,UAAU,WAAW,SAAS,UAAU;AAC/C,YAAI,WAAW,SAAS,SAAS;AACjC,YAAI,QAAQ,SAAS,MAAM;AAC3B,YAAI,KAAK,SAAS,OAAO;AACzB,YAAI,wBAAwB,KAAK,QAAQ;AACzC,YAAI,SAAS,KAAK,QAAQ;AAC1B,YAAI,mBAAmB,aAAa,KAAK,QAAQ,gBAAgB;AACjE,YAAI,kBAAkB,KAAK,QAAQ;AAGnC,YAAI;AAAI,iBAAO,SAAS,SAAS,EAAE;AAGnC,YAAI,UAAU,SAAS,YAAY;AACnC,YAAI;AAAS,iBAAO,SAAS,SAAS,OAAO;AAE7C,YAAI,SAAS,SAAS,OAAO,YAAY;AACzC,YAAI,OAAO;AAAU,cAAI,QAAQ,WAAW;AAC5C,iBAAS,MAAM,QAAQ,GAAG;AAG1B,YAAI,gBAAgB,CAAC;AACrB,YAAI,cAAc,CAAC;AACnB,iBAAS,OAAO,QAAQ;AACtB,cAAI,CAAC,OAAO,eAAe,GAAG;AAAG;AAEjC,cAAI,QAAQ,OAAO;AACnB,cAAI,MAAM,QAAQ,KAAK,KAAK,MAAM,SAAS,GAAG;AAC5C,0BAAc,OAAO;AAGrB,gBAAI,gBAAgB,OAAO,SAAS,aAAa,GAAG;AACpD,gBAAI,iBAAiB,MAAM,QAAQ,aAAa,GAAG;AACjD,qBAAO,OAAO,YAAY,eAAe,KAAK;AAAA,YAChD;AAAA,UACF,OAAO;AACL,wBAAY,OAAO;AAAA,UACrB;AAAA,QACF;AAEA,YAAI,uBAAuB;AACzB,iBAAO,SAAS,SAAS,MAAM;AAC/B,cAAI,QAAQ;AACV,mBAAO,SAAS,OAAO,IAAI,WAAW;AACtC,mBAAO,SAAS,OAAO,MAAM,aAAa;AAAA,UAC5C;AAAA,QACF,OAAO;AAEL,cAAI,mBAAmB,UAAU,eAAe;AAChD,cAAI,aAAa,KAAK,oBAAoB,CAAC,GAAG,MAAM;AACpD,cAAI,CAAC,GAAG,MAAM,UAAU;AAAG,mBAAO,SAAS,SAAS,UAAU;AAC9D,cAAI,QAAQ;AACV,gBAAI,oBAAoB,UAAU,gBAAgB;AAClD,gBAAI,mBAAmB,KAAK,qBAAqB,CAAC,GAAG,WAAW;AAChE,gBAAI,qBAAqB,KAAK,qBAAqB,CAAC,GAAG,aAAa;AACpE,gBAAI,CAAC,GAAG,MAAM,gBAAgB;AAC5B,qBAAO,SAAS,OAAO,IAAI,gBAAgB;AAC7C,gBAAI,CAAC,GAAG,MAAM,kBAAkB;AAC9B,qBAAO,SAAS,OAAO,MAAM,kBAAkB;AAAA,UACnD;AAAA,QACF;AAAA,MACF;AAYA,eAAS,UAAU,QAAQ,SAAS,OAAO;AACzC,YAAI,kBAAkB,KAAK,QAAQ,mBAAmB,KAAK,QAAQ;AACnE,YAAI,iBAAiB,KAAK,QAAQ;AAClC,YAAI,iBAAiB,MAAM,MAAM,EAAE,YAAY;AAC/C,YAAI,SAAS,KAAK,QAAQ;AAC1B,YAAI,QAAQ,MAAM,WAAW;AAC7B,YAAI,UAAU,MAAM,QAAQ;AAE5B,YAAI,aAAa,KAAK,KAAK,QAAQ,iBAAiB,KAAK;AACzD,YAAI,aAAa,KAAK,QAAQ;AAE9B,YAAI;AAAY,gBAAM,sBAAsB;AAG5C,eAAO,MAAM;AACb,eAAO,MAAM;AACb,eAAO,MAAM;AACb,eAAO,MAAM;AACb,eAAO,MAAM;AAEb,gBAAQ,MAAM,OAAO,GAAG;AACxB,2BAAmB,KAAK;AAGxB,YAAI,QAAQ;AAEV,cAAI,SAAS,gBAAgB,eAAe,GAAG;AAC7C,mBAAO,SAAS,OAAO,UAAU,MAAM,MAAM,CAAC;AAC9C,mBAAO,SAAS,OAAO,IAAI,UAAU,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC;AAAA,UAChE;AAEA,mBAAS,OAAO,OAAO;AACrB,gBAAI,CAAC,OAAO,UAAU,eAAe,KAAK,OAAO,GAAG,GAAG;AACrD;AAAA,YACF;AACA,gBAAI,OAAO,MAAM;AACjB,gBAAI,SAAS,IAAI,YAAY,GAAG,cAAc,GAAG;AAC/C,qBAAO,SAAS,OAAO,UAAU,KAAK,IAAI;AAAA,YAC5C;AAAA,UACF;AAEA,cAAI,SAAS;AACX,mBAAO,SAAS,OAAO,aAAa,OAAO;AAAA,UAC7C;AAAA,QACF;AAGA,YAAI;AACJ,YAAI,MAAM,YAAY;AACpB,kBAAQ,MAAM;AACd,iBAAO,MAAM;AACb,iBAAO,SAAS,YAAY,OAAO,MAAM,MAAM,GAAG,KAAK;AAAA,QACzD,WAAW,MAAM,YAAY;AAE3B,kBAAQ,MAAM;AACd,iBAAO,MAAM;AACb,iBAAO,SAAS,YAAY,OAAO,MAAM,MAAM,GAAG,KAAK;AAAA,QACzD,OAAO;AACL,iBAAO,SAAS,MAAM,MAAM,MAAM,GAAG,KAAK;AAAA,QAC5C;AAGA,YAAI,CAAC,GAAG,MAAM,UAAU,GAAG;AACzB,iBAAO,SAAS,SAAS,UAAU;AAAA,QACrC;AAAA,MACF;AAYA,eAAS,UAAU,QAAQ,SAAS,QAAO;AACzC,YAAI,KAAK,OAAO;AAChB,YAAI,KAAK,OAAM,GAAG;AAClB,YAAI,GAAG,mBAAmB,GAAG,gBAAgB,MAAM;AAAI;AAEvD,YAAI,GAAG,gBAAgB,GAAG,aAAa,qBAAqB,MAAM;AAAI;AAEtE,WAAG,MAAM,IAAI,OAAM,KAAK,CAAC;AAAA,MAC3B;AAOA,eAAS,UAAU,QAAQ,SAAS,OAAO;AACzC,YAAI,wBAAwB,KAAK,QAAQ;AACzC,YAAI,UAAU,MAAM,QAAQ;AAC5B,YAAI,SAAS,KAAK,UAAU,KAAK,EAAE,GAAG;AACtC,YAAI,SAAS,MAAM,WAAW;AAC9B,YAAI,CAAC,WAAW,CAAC,UAAU,CAAC,sBAAsB,QAAQ;AACxD;AAAA,QACF;AAEA,YAAI,UAAU,OAAO,KAAK,MAAM,EAAE,QAAQ;AACxC,mBAAS,MAAM,GAAG,MAAM,sBAAsB,QAAQ,OAAO;AAC3D,mBAAO,SACJ,UAAU,sBAAsB,MAAM,OAAO,EAC7C,SAAS,MAAM;AAAA,UACpB;AAAA,QACF;AACA,iBAAS,IAAI,GAAG,IAAI,sBAAsB,QAAQ,KAAK;AACrD,iBAAO,SAAS,UAAU,sBAAsB,IAAI,CAAC,OAAO,CAAC;AAAA,QAC/D;AAAA,MACF;AAUA,yBAAmB,KAAK;AACtB,YAAI,MAAM,IAAI,MAAM,IAAI,MAAM;AAE9B,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,cAAI,KAAK,OAAO,IAAI,EAAE,EAAE,YAAY;AAAA,QACtC;AAEA,eAAO;AAAA,MACT;AAWA,yBAAmB,KAAK;AACtB,YAAI,MAAM,IAAI,MAAM,IAAI,MAAM;AAE9B,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,cAAI,aAAa,eAAe,IAAI,EAAE,GAAG;AACvC,gBAAI,KAAK,aAAa,IAAI,GAAG;AAAA,UAC/B,OAAO;AACL,gBAAI,KAAK,IAAI,EAAE;AAAA,UACjB;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAUA,4BAAsB,KAAK;AACzB,YAAI,OAAO,CAAC;AAEZ,iBAAS,OAAO,cAAc;AAC5B,cAAI,aAAa,eAAe,GAAG,GAAG;AACpC,iBAAK,KAAK,GAAG;AAAA,UACf;AAAA,QACF;AAEA,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AACpC,cAAI,QAAQ,KAAK,KAAK,EAAE,IAAI,GAAG;AAC7B,gBAAI,KAAK,KAAK,EAAE;AAAA,UAClB;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAaA,kCAA4B,OAAO;AACjC,YAAI,aAAa;AACjB,iBAAS,YAAY,YAAY;AAC/B,cAAI,YAAY,WAAW;AAC3B,cAAI,CAAC,WAAW,eAAe,QAAQ,KAAK,CAAC,MAAM,QAAQ,SAAS,GAAG;AACrE;AAAA,UACF;AAEA,cAAI,iBAAiB,kBAAkB,UAAU,SAAS;AAC1D,cAAI,OAAO,KAAK,cAAc,EAAE,WAAW,GAAG;AAE5C,+BAAmB,YAAY,cAAc;AAC7C,mBAAO,WAAW;AAAA,UACpB;AAAA,QACF;AAAA,MACF;AAKA,iCAA2B,UAAU,KAAK;AACxC,YAAI,iBAAiB,CAAC;AAGtB,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,cAAI,OAAO,IAAI;AAGf,cAAI,OAAO,SAAS,UAAU;AAC5B,mBAAO,CAAC;AAAA,UACV;AACA,mBAAS,OAAO,MAAM;AACpB,gBAAI,CAAC,KAAK,eAAe,GAAG,GAAG;AAC7B;AAAA,YACF;AACA,gBAAI,UAAU,WAAW,MAAM,MAAM;AAGrC,gBAAI,WAAW,gBAAgB;AAC7B,6BAAe,SAAS,KAAK,KAAK,IAAI;AAAA,YACxC,OAAO;AACL,6BAAe,WAAW,CAAC,KAAK,IAAI;AAAA,YACtC;AAAA,UACF;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAEA,kCAA4B,aAAa,QAAQ;AAC/C,YAAI,IAAI;AACR,iBAAS,aAAa,QAAQ;AAC5B,cAAI,OAAO,eAAe,SAAS,GAAG;AACpC,gBAAI,MAAM,OAAO;AACjB,cAAE,aAAa,aAAa,IAAI,EAAE,WAAW,OAAO,GAAG,IAAI;AAAA,UAC7D;AAAA,QACF;AAAA,MACF;AAYA,2BAAqB,GAAG,GAAG;AACzB,YAAI,MAAM,CAAC;AAEX,YAAI;AACJ,aAAK,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK;AAC7B,cAAI,EAAE,MAAM,EAAE;AAAA,QAChB;AACA,aAAK,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK;AAC7B,cAAI,EAAE,MAAM,EAAE;AAAA,QAChB;AACA,eAAO,OAAO,KAAK,GAAG;AAAA,MACxB;AAAA;AAAA;;;AC3fA;AAAA;AAAA;AAMA,UAAI,OAAO;AAcX,UAAI,SAAS,iBAAgB,QAAQ;AACnC,YAAI,KAAK,KAAK,MAAM;AACpB,YAAI,UAAU,IAAI,MAAM,GAAG,MAAM;AAEjC,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK,GAAG;AACrC,kBAAQ,KAAK,OAAO,GAAG;AAAA,QACzB;AAEA,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;ACnCjB;AAAA;AAAA;AAMA,UAAI,OAAO;AAkBX,UAAI,MAAM,cAAa,UAAU,YAAY;AAC3C,YAAI,OAAO,aAAa,YAAY;AAClC,gBAAM,IAAI,UAAU,wCAAwC,OAAO,QAAQ;AAAA,QAC7E;AAEA,YAAI,SAAS,CAAC;AAEd,aAAK,SAAS,KAAK,GAAG,aAAY;AAChC,iBAAO,KAAK,SAAS,KAAK,GAAG,WAAU,CAAC;AAAA,QAC1C,GAAG,UAAU;AAEb,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC1CjB;AAAA;AAAA;AAMA,UAAI,MAAM;AACV,UAAI,QAAQ;AAEZ,UAAI,WAAW;AAAA,QAEb,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,8BAA8B,CAAC;AAAA,UAC7B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,uBAAuB,CAAC;AAAA,UACtB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,GAAG;AAAA,UACD,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,YAAY,CAAC;AAAA,UACX,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,uBAAuB,CAAC;AAAA,UACtB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gCAAgC,CAAC;AAAA,UAC/B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,GAAG;AAAA,UACD,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,YAAY,CAAC;AAAA,UACX,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,aAAa,CAAC;AAAA,UACZ,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,2BAA2B,CAAC;AAAA,UAC1B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,6BAA6B,CAAC;AAAA,UAC5B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,MACH;AA2BA,aAAO,UAAU,MAAM,mBAAmB,KAAK,OAAO,QAAQ;AAC5D,YAAI,SAAS,IAAI,SAAS,MAAM;AAC9B,iBAAO,IAAI,SAAS,aAAa;AAC/B,gBAAI,YAAY,CAAC,EAAE,OAAO,MAAM,CAAC,GAAG,IAAI,SAAS,OAAO;AACtD,qBAAO,MAAM,MAAM,GAAG;AAAA,YACxB,GAAG,WAAW,CAAC;AACf,mBAAO,WAAW,UAAU,KAAK,OAAO,IAAI;AAAA,UAC9C,GAAG;AAAA,YACD,CAAC,KAAK,QAAQ,KAAK,MAAM;AAAA,YACzB,CAAC,KAAK,QAAQ,KAAK,MAAM;AAAA,UAC3B,CAAC,EAAE,KAAK,GAAG;AAAA,QACb,GAAG,KAAK;AACR,YAAI,YAAY,OAAO,KAAK,GAAG,IAAI;AACnC,YAAI,UAAU,IAAI,OAAO,WAAW,GAAG;AACvC,eAAO;AAAA,MACT,GAAG,CAAC,GAAG,QAAQ;AAAA;AAAA;;;ACrWf;AAAA;AAAA;AAEA,UAAI;AAAJ,UAAc;AAEd,iBAAW,SAAU,IAAI;AACxB,YAAI,OAAO,OAAO;AAAY,gBAAM,IAAI,UAAU,KAAK,oBAAoB;AAC3E,eAAO;AAAA,MACR;AAEA,mBAAa,SAAU,UAAU;AAChC,YAAI,OAAO,SAAS,eAAe,EAAE,GAAG,OAAO,IAAI;AACnD,YAAI,SAAS,WAAY;AACxB,cAAI;AACJ,cAAI,CAAC;AAAO;AACZ,iBAAO;AACP,kBAAQ;AACR,cAAI,OAAO,SAAS,YAAY;AAC/B,iBAAK;AACL;AAAA,UACD;AACA,eAAK,QAAQ,SAAU,IAAI;AAAE,eAAG;AAAA,UAAG,CAAC;AAAA,QACrC,CAAC,EAAE,QAAQ,MAAM,EAAE,eAAe,KAAK,CAAC;AACxC,eAAO,SAAU,IAAI;AACpB,mBAAS,EAAE;AACX,cAAI,OAAO;AACV,gBAAI,OAAO,UAAU;AAAY,sBAAQ,CAAC,OAAO,EAAE;AAAA;AAC9C,oBAAM,KAAK,EAAE;AAClB;AAAA,UACD;AACA,kBAAQ;AACR,eAAK,OAAQ,IAAI,EAAE,IAAI;AAAA,QACxB;AAAA,MACD;AAEA,aAAO,UAAW,WAAY;AAE7B,YAAK,OAAO,YAAY,eAAgB,WACrC,OAAO,QAAQ,aAAa,YAAa;AAC3C,iBAAO,QAAQ;AAAA,QAChB;AAGA,YAAK,OAAO,aAAa,YAAa,UAAU;AAC/C,cAAI,OAAO,qBAAqB,YAAY;AAC3C,mBAAO,WAAW,gBAAgB;AAAA,UACnC;AACA,cAAI,OAAO,2BAA2B,YAAY;AACjD,mBAAO,WAAW,sBAAsB;AAAA,UACzC;AAAA,QACD;AAIA,YAAI,OAAO,iBAAiB,YAAY;AACvC,iBAAO,SAAU,IAAI;AAAE,yBAAa,SAAS,EAAE,CAAC;AAAA,UAAG;AAAA,QACpD;AAGA,YAAI,OAAO,eAAe,YAAY;AACrC,iBAAO,SAAU,IAAI;AAAE,uBAAW,SAAS,EAAE,GAAG,CAAC;AAAA,UAAG;AAAA,QACrD;AAEA,eAAO;AAAA,MACR,EAAE;AAAA;AAAA;;;AC/DF;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,KAAK;AACT,UAAI,aAAa;AACjB,UAAI,aAAa;AACjB,UAAI,WAAW;AACf,UAAI,YAAY;AAMhB,UAAI,MAAM,OAAO,UAAU;AAM3B,UAAI,OAAO,iBAAgB;AAAA,MAAC;AAM5B,UAAI,UAAU,OAAO;AACrB,UAAI,SAAS;AAOb,cAAQ,OAAO;AAOf,cAAQ,aAAa,WAAW;AAC9B,YAAI,QAAQ,KAAK;AACjB,iBAAS,KAAK;AAAA,MAChB;AASA,cAAQ,SAAS,WAAW;AAC1B,eAAO;AAAA,MACT;AAUA,cAAQ,OAAO,SAAS,MAAM;AAAA,MAAC;AAW/B,cAAQ,QAAQ,SAAS,OAAO;AAAA,MAAC;AA0CjC,cAAQ,MAAM,SAAS,SAAS,KAAK;AACnC,YAAI,uBAAuB,UAAU,GAAG;AACxC,YAAI,cAAc,eAAe,OAAO;AAExC,YAAI,gBAAgB,WAAW;AAC7B,iBAAO,CAAC;AAAA,QACV;AAEA,eAAO,MAAM,SAAS,gBAAgB,KAAK,MAAK;AAC9C,cAAI;AACJ,cAAI;AAEJ,cAAI,gBAAgB,OAAO;AACzB,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU,IAAI;AACd,qBAAS,IAAI;AAAA,UACf;AAEA,cAAI,UAAU,OAAO,MAAM,sBAAsB;AAC/C,2BAAe,KAAK,MAAM;AAAA,UAC5B;AAEA,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,OAAO;AAAA,MAChB;AAYA,cAAQ,SAAS,SAAS,QAAQ;AAChC,YAAI,CAAC,KAAK;AAAS;AACnB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAClD,YAAI,CAAC,KAAK;AAAQ,iBAAO,KAAK,MAAM,QAAQ,IAAI;AAEhD,aAAK,MAAM,cAAc,QAAQ,IAAI;AACrC,eAAO,KAAK,QAAQ,MAAM,MAAM,IAAI;AAAA,MACtC;AAUA,cAAQ,QAAQ,SAAS,QAAQ,MAAM;AACrC,aAAK,OAAO,KAAK,EAAE,QAAgB,KAAW,CAAC;AAAA,MACjD;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,SAAS;AACd,YAAI,QAAO;AAEX,aAAK,SAAS,MAAM;AAClB,gBAAK,KAAK,QAAQ,MAAM,OAAM,KAAK,IAAI;AAAA,QACzC,GAAG,KAAK,MAAM;AAGd,aAAK,OAAO,SAAS;AAAA,MACvB;AAQA,cAAQ,QAAQ,WAAW;AACzB,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;AAC5C,iBAAO,KAAK,QAAQ,MAAM;AAAA,QAC5B;AAEA,eAAO,UAAU;AACjB,eAAO,SAAS;AAAA,MAClB;AAYA,cAAQ,OAAO,SAAS,OAAM,QAAQ,UAAU;AAE9C,YAAI,OAAO,UAAS,YAAY;AAAE,qBAAW;AAAM,mBAAS;AAAM,kBAAO;AAAA,QAAM;AAC/E,YAAI,SAAQ,OAAO,UAAS,UAAU;AAAE,qBAAW;AAAQ,mBAAS;AAAM,kBAAO;AAAA,QAAM;AACvF,YAAI,OAAO,WAAW,YAAY;AAAE,qBAAW;AAAQ,mBAAS;AAAA,QAAM;AAGtE,gBAAO,SAAQ;AACf,iBAAS,UAAU,CAAC;AAEpB,iBAAS,KAAK,OAAO,MAAM;AAC3B,YAAI,WAAW,KAAK,UAAU;AAC9B,YAAI,CAAC;AAAU,gBAAM,IAAI,MAAM,IAAI,8BAA8B,KAAI,CAAC;AACtE,YAAI,QAAQ,OAAO,UAAU,MAAM;AACnC,mBAAW,YAAY;AACvB,YAAI,QAAO;AACX,YAAI;AAEJ,gBAAQ,SAAS;AAAA,eACZ;AACH,kBAAM,QAAQ;AACd,kBAAM,SAAS;AACf,iBAAK,UAAU,OAAO,QAAQ;AAC9B;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,SAAS,KAAK;AACnC,kBAAI,CAAC;AAAK,uBAAO,SAAS;AAC1B,oBAAK,MAAM,iCAAiC,MAAK,MAAM,GAAG;AAAA,YAC5D,CAAC;AAED,mBAAO,MAAM;AACb,iBAAK,SAAS,KAAK,KAAK;AACtB,iBAAG,aAAa,KAAK,GAAG;AAAA,YAC1B,GAAG,KAAK;AACR;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,QAAQ;AAC/B;AAAA;AAAA;AAKF,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,QAAQ;AAChC,iBAAS,UAAU,CAAC;AACpB,YAAI,QAAQ,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAO;AACrD,YAAI,CAAC,OAAO,eAAe,OAAO;AAAG,iBAAO,QAAQ;AACpD,aAAK,SAAS,KAAK,KAAK;AACtB,cAAI,CAAC,OAAO,eAAe,GAAG;AAAG,mBAAO,OAAO;AAAA,QACjD,GAAG,KAAK,OAAO;AACf,eAAO;AAAA,MACT;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,KAAK,OAAO;AAAA,MACnB;AASA,cAAQ,kBAAkB,WAAW;AACnC,YAAI,aAAa,KAAK;AACtB,aAAK,aAAa,WAAW;AAC3B,eAAK,MAAM,YAAY;AACvB,eAAK,eAAe;AACpB,cAAI,MAAM,WAAW,MAAM,MAAM,SAAS;AAC1C,eAAK,KAAK,YAAY;AACtB,iBAAO;AAAA,QACT;AAAA,MACF;AASA,cAAQ,YAAY,WAAW;AAC7B,YAAI,OAAO,KAAK;AAChB,YAAI,qBAAqB;AACzB,aAAK,OAAO,WAAW;AACrB,cAAI,KAAK,oBAAoB,CAAC,oBAAoB;AAChD,iCAAqB;AACrB;AAAA,UACF;AACA,iBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,QACnC;AAAA,MACF;AASA,cAAQ,aAAa,WAAW;AAC9B,YAAI,IAAI,KAAK;AACb,aAAK,QAAQ,SAAS,OAAO;AAC3B,cAAI,QAAQ,MAAM,MAAM;AACxB,cAAI;AACJ,cAAI;AAEJ,mBAAS,UAAU,QAAQ;AACzB,gBAAI,IAAI,KAAK,QAAQ,MAAM,GAAG;AAC5B,kBAAI,SAAS,OAAO;AACpB,kBAAI,CAAC,KAAK;AAAS;AACnB,kBAAI,CAAC,OAAO,KAAK,KAAK;AAAG;AACzB,oBAAM,KAAK,QAAQ,MAAM,MAAM,SAAS;AACxC,uBAAS;AACT;AAAA,YACF;AAAA,UACF;AAEA,cAAI,CAAC;AAAQ,kBAAM,EAAE,MAAM,MAAM,SAAS;AAC1C,iBAAO;AAAA,QACT;AAAA,MACF;AAUA,8BAAwB,SAAS;AAC/B,YAAI,GAAG,MAAM,OAAO,GAAG;AACrB,iBAAO,MAAM,SAAS,OAAO,IAAI,UAAU;AAAA,QAC7C;AACA,YAAI,GAAG,OAAO,OAAO;AAAG,iBAAO;AAC/B,eAAO;AAAA,MACT;AAaA,uBAAiB,MAAM;AACrB,YAAI,CAAC,GAAG,OAAO,IAAI;AAAG,iBAAO;AAC7B,YAAI,CAAC,GAAG,OAAO,KAAK,GAAG;AAAG,iBAAO;AACjC,YAAI,CAAC,IAAI,KAAK,MAAM,OAAO;AAAG,iBAAO;AACrC,eAAO;AAAA,MACT;AAWA,yBAAmB,OAAO,IAAI;AAC5B,aAAK,MAAM,WAAW;AAAA,QAAC;AACvB,YAAI,MAAM,IAAI,MAAM;AACpB,YAAI,UAAU,MAAM,IAAI,wBAAwB,GAAG;AACnD,YAAI,SAAS,WAAW;AAAE,aAAG;AAAA,QAAG;AAChC,YAAI,MAAM,MAAM;AAChB,YAAI,QAAQ;AACZ,YAAI,SAAS;AACb,eAAO;AAAA,MACT;AAYA,qBAAe,IAAI,SAAS,KAAK;AAC/B,eAAO,SAAS,GAAG;AACjB,cAAI,KAAK,OAAO;AAChB,cAAI,MAAM,IAAI,MAAM,OAAO;AAC3B,cAAI,QAAQ;AACZ,cAAI,SAAS;AACb,aAAG,GAAG;AAAA,QACR;AAAA,MACF;AAWA,sBAAgB,UAAU,QAAQ;AAChC,eAAO,MAAM,SAAS,OAAO,KAAK,KAAK;AACrC,gBAAM,OAAO,IAAI,QAAQ,wBAAwB,SAAS,GAAG,IAAI;AAC/D,mBAAO,OAAO;AAAA,UAChB,CAAC;AACD,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,SAAS,KAAK;AAAA,MACvB;AAAA;AAAA;;;ACldA;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,WAAW;AAOf,cAAQ,OAAO;AAYf,cAAQ,SAAS,SAAS,KAAK,OAAO;AACpC,aAAK,UAAU,SAAS,OAAO;AAC/B,eAAO;AAAA,MACT;AAsBA,cAAQ,UAAU,SAAS,OAAM;AAC/B,aAAK,OAAO,OAAM,CAAC,CAAC;AACpB,aAAK,UAAU,SAAQ,SAAS,KAAK;AACnC,iBAAO,KAAK,IAAI,KAAK,QAAQ,QAAO,GAAG;AAAA,QACzC;AACA,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,KAAK;AAC7B,aAAK,UAAU,QAAQ,KAAK,GAAG;AAC/B,eAAO;AAAA,MACT;AAUA,cAAQ,kBAAkB,WAAW;AACnC,aAAK,UAAU,mBAAmB;AAClC,eAAO;AAAA,MACT;AASA,cAAQ,cAAc,WAAW;AAC/B,aAAK,UAAU,eAAe;AAC9B,eAAO;AAAA,MACT;AASA,cAAQ,oBAAoB,WAAW;AACrC,aAAK,UAAU,qBAAqB;AACpC,eAAO;AAAA,MACT;AAaA,cAAQ,MAAM,SAAS,OAAM,KAAK;AAChC,YAAI,OAAO,MAAM;AACf,gBAAM;AACN,kBAAO;AAAA,QACT;AACA,aAAK,UAAU,UAAU,SAAQ,UAAU,GAAG;AAC9C,eAAO;AAAA,MACT;AAcA,yBAAmB,KAAK;AAEtB,cAAM,IAAI,QAAQ,UAAU,aAAa;AAEzC,YAAI,KAAK,OAAO,GAAG;AACnB,YAAI,QAAQ,CAAC;AAEb,aAAK,SAAS,MAAM;AAElB,cAAI,QAAO,KAAK,SAAS,aAAa,QAAQ,KAAK;AACnD,cAAI,CAAC,SAAS,KAAK,OAAO,KAAK,GAAG;AAAG;AACrC,gBAAM,SAAQ,KAAK;AAAA,QACrB,GAAG,GAAG,UAAU;AAEhB,eAAO;AAAA,UACL,MAAM,GAAG,QAAQ,YAAY;AAAA,UAC7B;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;AClKA;AAAA;AAAA;AAMA,UAAI,OAAO;AACX,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,UAAU;AAUd,iCAA2B,OAAM;AAQ/B,6BAAqB,SAAS;AAC5B,cAAI,WAAW,QAAQ,gBAAgB;AAErC,mBAAO,QAAQ,eAAe,WAAW;AAAA,UAC3C;AACA,eAAK,QAAQ,MAAM,2BAA2B,KAAK,KAAI,CAAC;AACxD,cAAI,aAAa,CAAC;AAClB,iBAAO,MAAM,YAAY,OAAO;AAChC,eAAK,UAAU,SAAS,cAAc,CAAC,GAAG,KAAK,QAAQ;AACvD,eAAK,SAAS,CAAC;AACf,eAAK,KAAK,SAAS,KAAK,MAAM,KAAK,KAAK,CAAC;AAEzC,sBAAY,KAAK,aAAa,IAAI;AAClC,eAAK,QAAQ,KAAK,MAAM,KAAK,KAAK;AAClC,eAAK,gBAAgB;AACrB,eAAK,UAAU;AACf,eAAK,WAAW;AAAA,QAClB;AAEA,oBAAY,UAAU,WAAW,CAAC;AAClC,oBAAY,UAAU,UAAU,CAAC;AACjC,oBAAY,UAAU,YAAY,CAAC;AACnC,oBAAY,UAAU,OAAO;AAC7B,eAAO,aAAa,OAAO;AAC3B,eAAO,YAAY,WAAW,MAAM;AAEpC,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC/DjB;AAAA;AAKA,UAAI,QAAQ;AAMZ,aAAO,UAAU;AAWjB,wBAAmB,OAAM,SAAS;AAChC,YAAI,MAAM,MAAM,kBAAkB,KAAI;AACtC,kBAAU,WAAW,CAAC;AAEtB,eAAO,SAAU,MAAM;AACrB,iBAAO,CAAC,EAAE,MAAM,KAAK,SAAS;AAC9B,iBAAO,UAAU,QAAO,SAAQ,CAAC;AACjC,cAAI,MAAM,IAAI;AACd,kBAAQ,SAAS,QACb,OAAO,OAAM,KAAK,MAAM,OAAO,QAAO,IAAI,IAC1C,OAAO,OAAM,KAAK,IAAI;AAAA,QAC5B;AAAA,MACF;AAAA;AAAA;;;AClCA;AAAA;AAAA;AAEA,UAAI,iBAAiB,SAAU,IAAI;AAClC,YAAI,OAAO,OAAO;AAAY,gBAAM,IAAI,UAAU,KAAK,oBAAoB;AAC3E,eAAO;AAAA,MACR;AAEA,UAAI,aAAa,SAAU,UAAU;AACpC,YAAI,OAAO,SAAS,eAAe,EAAE,GAAG,OAAO,cAAc,IAAI;AACjE,YAAI,SAAS,WAAY;AACxB,cAAI;AACJ,cAAI,CAAC,OAAO;AACX,gBAAI,CAAC;AAAc;AACnB,oBAAQ;AAAA,UACT,WAAW,cAAc;AACxB,oBAAQ,aAAa,OAAO,KAAK;AAAA,UAClC;AACA,yBAAe;AACf,kBAAQ;AACR,cAAI,OAAO,iBAAiB,YAAY;AACvC,uBAAW;AACX,2BAAe;AACf,qBAAS;AACT;AAAA,UACD;AACA,eAAK,OAAQ,IAAI,EAAE,IAAI;AACvB,iBAAO,cAAc;AACpB,uBAAW,aAAa,MAAM;AAC9B,gBAAI,CAAC,aAAa;AAAQ,6BAAe;AACzC,qBAAS;AAAA,UACV;AAAA,QACD,CAAC,EAAE,QAAQ,MAAM,EAAE,eAAe,KAAK,CAAC;AACxC,eAAO,SAAU,IAAI;AACpB,yBAAe,EAAE;AACjB,cAAI,OAAO;AACV,gBAAI,OAAO,UAAU;AAAY,sBAAQ,CAAC,OAAO,EAAE;AAAA;AAC9C,oBAAM,KAAK,EAAE;AAClB;AAAA,UACD;AACA,kBAAQ;AACR,eAAK,OAAQ,IAAI,EAAE,IAAI;AAAA,QACxB;AAAA,MACD;AAEA,aAAO,UAAW,WAAY;AAE7B,YAAK,OAAO,YAAY,YAAa,WAAY,OAAO,QAAQ,aAAa,YAAa;AACzF,iBAAO,QAAQ;AAAA,QAChB;AAGA,YAAI,OAAO,mBAAmB,YAAY;AACzC,iBAAO,SAAU,IAAI;AAAE,2BAAe,eAAe,EAAE,CAAC;AAAA,UAAG;AAAA,QAC5D;AAGA,YAAK,OAAO,aAAa,YAAa,UAAU;AAC/C,cAAI,OAAO,qBAAqB;AAAY,mBAAO,WAAW,gBAAgB;AAC9E,cAAI,OAAO,2BAA2B;AAAY,mBAAO,WAAW,sBAAsB;AAAA,QAC3F;AAIA,YAAI,OAAO,iBAAiB,YAAY;AACvC,iBAAO,SAAU,IAAI;AAAE,yBAAa,eAAe,EAAE,CAAC;AAAA,UAAG;AAAA,QAC1D;AAGA,YAAK,OAAO,eAAe,cAAgB,OAAO,eAAe,UAAW;AAC3E,iBAAO,SAAU,IAAI;AAAE,uBAAW,eAAe,EAAE,GAAG,CAAC;AAAA,UAAG;AAAA,QAC3D;AAEA,eAAO;AAAA,MACR,EAAE;AAAA;AAAA;;;ACzEF;AAAA;AAAA;AAMA,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,cAAc;AAClB,UAAI,OAAO,uBAAwB,cAAc,EAAE,MAAM,MAAM,CAAC;AAChE,UAAI,OAAO;AAMX,UAAI,aAAc,OAAO,UAAU,YAAY,YAAY,EACxD,OAAO,yBAAyB,IAAI,EACpC,OAAO,mBAAmB,IAAI,EAC9B,OAAO,cAAc,KAAK,EAC1B,OAAO,UAAU,IAAI,EACrB,OAAO,kBAAkB,KAAK,EAC9B,OAAO,oCAAoC,IAAI,EAC/C,OAAO,8BAA8B,CAAC,CAAC,EACvC,OAAO,4BAA4B,CAAC,CAAC;AAMxC,UAAI,oBAAoB;AAAA,QACtB,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAWA,iBAAW,UAAU,aAAa,WAAW;AAC3C,YAAI,QAAO;AAEX,aAAK;AAAA,UACH,MAAM;AAAA,UACN,eAAe;AAAA,QACjB,CAAC;AAMD,aAAK,WAAW;AACd,qBAAW,0BAA0B;AAAA,YACnC,kBAAkB,MAAK,qBAAqB,KAAK,KAAI;AAAA,YACrD,oBAAoB,MAAK,yBAAyB,KAAK,KAAI;AAAA,YAC3D,kBAAkB,MAAK,qBAAqB,KAAK,KAAI;AAAA,UACvD,CAAC;AAAA,QACH,CAAC;AAED,aAAK,MAAM;AAAA,MACb;AAuBA,iBAAW,UAAU,QAAQ,SAAS,OAAO;AAC3C,YAAI,OAAO,KAAK;AAChB,YAAI,kBAAkB,MAAM,WAAW;AAGvC,YAAI,gBAAgB,WAAW,KAAK,kCAAkC;AACpE,cAAI,MAAM,MAAM,MAAM,mBAAmB;AACvC,4BAAgB,UAAU,KAAK,MAAM,gBAAgB,UAAU,GAAG;AAAA,UACpE,WAAW,MAAM,MAAM,MAAM,mBAAmB;AAC9C,mBAAO,gBAAgB;AAAA,UACzB;AAAA,QAGF,WACE,KAAK,qCAAqC,SAC1C,gBAAgB,SAChB;AACA,0BAAgB,UAAU,KAAK,MAAM,gBAAgB,UAAU,GAAG;AAAA,QACpE;AAGA,YAAI,YAAY,MAAM,MAAM,EAAE,QAAQ,MAAM,GAAG;AAC/C,YAAI,UAAU;AAAA,UACZ,MAAM;AAAA,UACN;AAAA,UACA,MAAM;AAAA,QACR;AAEA,aAAK,OAAO;AAEZ,YAAI,2BAA2B,OAAO;AACtC,YAAI,4BAA4B,yBAAyB,OAAO;AAC9D,cAAI,oBAAoB,MAAM,QAAQ,YAAY;AAClD,cAAI,SACF,kBAAkB,UAAU,MAAM,OAAO,KAAK,KAAK,UAAU,KAAK,EAAE,GAAG;AACzE,cAAI,aACF,kBAAkB,cAClB,MAAM,OAAO,KACb,KAAK,UAAU,KAAK,EAAE,OAAO;AAC/B,cAAI,QAAQ;AACV,qCAAyB,MACvB,WACA,QACA,YACA,QAAQ,IACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAWA,iBAAW,UAAU,OAAO,SAAS,MAAM;AACzC,YAAI,WAAW,KAAK,SAAS;AAC7B,YAAI,QAAO,KAAK,SAAS;AACzB,YAAI,OAAO,KAAK;AAGhB,YAAI,YAAY,KAAK,uBAAuB;AAC1C,eAAK,MAAM,KAAK,MAAM,QAAQ,CAAC;AAAA,QACjC;AAGA,YAAI,SAAQ,KAAK,iBAAiB;AAChC,eAAK,MAAM,KAAK,MAAM,KAAI,CAAC;AAAA,QAC7B;AAAA,MACF;AAwBA,iBAAW,UAAU,2BAA2B,SAAS,iBAAiB;AACxE,YAAI,aAAa,gBAAgB;AACjC,YAAI,aAAa,gBAAgB;AACjC,YAAI,WAAW,gBAAgB;AAC/B,YAAI,UAAU,EAAE,aAAa,kBAAkB;AAG/C,YAAI,gBAAgB,MAClB,SAAS,SAAS,WAAW;AAC3B,cAAI,MAAM;AACV,cAAI,UAAU,MAAM,UAAU;AAC9B,iBAAO;AAAA,QACT,GACA,CAAC,GACD,UACF;AAGA,YAAI,eAAe,KAAK,aAAa,EAAE,KAAK;AAC5C,YAAI,iBAAiB,OAAO,aAAa,EAAE,KAAK;AAGhD,YAAI,KAAK,QAAQ,QAAQ;AACvB,cAAI,QAAQ;AAAA,YACV,cAAc,WAAW;AAAA,YACzB,gBAAgB,WAAW;AAAA,YAC3B,aAAa,aAAa,KAAK;AAAA,YAC/B,eAAe,eAAe,KAAK,IAAI;AAAA,UACzC;AAKA,cAAI,WAAW,UAAU;AACvB,kBAAM,WAAW,WAAW;AAC5B,oBAAQ,OAAO,EAAE,UAAU,WAAW,SAAS;AAAA,UACjD;AAGA,cAAI,UAAU;AAKZ,gBAAI,iBAAiB,CAAC;AACtB,gBAAI,4BAA4B,MAC9B,SAAS,SAAS,SAAS,WAAW;AACpC,kBAAI,MAAM;AACV,mBAAK,SAAS,aAAa;AACzB,oBAAI,eAAe,EAAE,IAAI,WAAW,MAAM,QAAQ,KAAK;AAAA,cACzD,GAAG,QAAQ,aAAa;AACxB,qBAAO;AAAA,YACT,GACA,CAAC,GACD,QACF;AACA,qBAAS,IAAI,GAAG,IAAI,aAAa,QAAQ,KAAK;AAC5C,kBAAI,kBAAkB,aAAa;AACnC,kBAAI,gBAAgB,0BAA0B;AAC9C,kBAAI;AACF,+BAAe,cAAc,MAAM,cAAc;AAAA,YACrD;AAGA,kBAAM,YAAY,KAAK,cAAc,EAClC,KAAK,EACL,KAAK;AACR,kBAAM,cAAc,OAAO,cAAc,EACtC,KAAK,EACL,KAAK,IAAI;AAAA,UACd;AAGA,cAAI,KAAK,QAAQ;AAAgB,kBAAM,iBAAiB;AAIxD,cAAI,6BAA6B,KAAK,QAAQ;AAC9C,cAAI,kBAAkB,OAAO,KAAK,0BAA0B;AAC5D,cAAI,OAAO,OAAO,cAAc,OAAO,WAAW;AAElD,cAAI,QAAQ,gBAAgB,QAAQ;AAClC,qBAAS,QAAQ,GAAG,QAAQ,gBAAgB,QAAQ,SAAS;AAC3D,kBAAI,cAAc,gBAAgB;AAClC,kBAAI,iBAAiB,2BAA2B;AAChD,kBAAI,OAAO,KAAK,oBAAoB,aAAa;AAC/C,sBAAM,eAAe,KAAK;AAAA,cAC5B;AAAA,YACF;AAAA,UACF;AAGA,eAAK,UAAU,MAAM,qBAAqB,OAAO,OAAO;AAAA,QAC1D;AAIA,YAAI,KAAK,QAAQ,YAAY;AAM3B,cAAI,SAAS,CAAC;AACd,iBAAO,iBAAiB,WAAW,QAAQ,eAAe,KAAK,IAAI;AAGnE,eAAK,UAAU,SAAS,MAAM;AAAA,QAChC;AAAA,MACF;AA4BA,iBAAW,UAAU,uBAAuB,SAAS,eAAe;AAClE,YAAI,aAAa,cAAc;AAC/B,YAAI,YAAY,cAAc;AAC9B,YAAI,UAAU,EAAE,aAAa,kBAAkB;AAG/C,YAAI,eAAe,MACjB,SAAS,SAAS,UAAU;AAC1B,cAAI,MAAM;AACV,cAAI,SAAS,MAAM,SAAS;AAC5B,iBAAO;AAAA,QACT,GACA,CAAC,GACD,cAAc,SAChB;AAGA,YAAI,cAAc,KAAK,YAAY,EAChC,KAAK,EACL,KAAK;AACR,YAAI,gBAAgB,OAAO,YAAY,EACpC,KAAK,EACL,KAAK,IAAI;AAGZ,YAAI,KAAK,QAAQ,QAAQ;AACvB,cAAI,QAAQ;AAAA,YACV,cAAc,cAAc;AAAA,YAC5B,YAAY,cAAc;AAAA,YAC1B,cAAc,WAAW;AAAA,YACzB,gBAAgB,WAAW;AAAA,YAC3B,eAAe,UAAU;AAAA,YACzB,aAAa,UAAU;AAAA,YACvB,YAAY;AAAA,YACZ,cAAc;AAAA,YACd,sBAAsB,cAAc;AAAA,UACtC;AAKA,cAAI,WAAW,UAAU;AACvB,kBAAM,WAAW,WAAW;AAC5B,oBAAQ,OAAO,EAAE,UAAU,WAAW,SAAS;AAAA,UACjD;AAGA,cAAI,KAAK,QAAQ;AAAgB,kBAAM,iBAAiB;AAIxD,cAAI,2BAA2B,KAAK,QAAQ;AAC5C,cAAI,kBAAkB,OAAO,KAAK,wBAAwB;AAC1D,cAAI,OAAO,OAAO,cAAc,OAAO,WAAW;AAClD,cAAI,QAAQ,gBAAgB,QAAQ;AAClC,qBAAS,QAAQ,GAAG,QAAQ,gBAAgB,QAAQ,SAAS;AAC3D,kBAAI,cAAc,gBAAgB;AAClC,kBAAI,iBAAiB,yBAAyB;AAC9C,kBAAI,OAAO,KAAK,oBAAoB,aAAa;AAC/C,sBAAM,eAAe,KAAK;AAAA,cAC5B;AAAA,YACF;AAAA,UACF;AAGA,eAAK,UAAU,MAAM,qBAAqB,OAAO,OAAO;AAAA,QAC1D;AAIA,YAAI,KAAK,QAAQ,YAAY;AAM3B,cAAI,SAAS,CAAC;AACd,iBAAO,iBAAiB,WAAW,QAAQ,UAAU;AAGrD,eAAK,UAAU,SAAS,MAAM;AAAA,QAChC;AAAA,MACF;AAcA,iBAAW,UAAU,uBAAuB,SAAS,UAAU;AAC7D,YAAI,UAAU;AACZ,iBAAO,8BAA8B;AACrC,iBAAO;AAAA,QACT;AAAA,MACF;AAiBA,iBAAW,4BAA4B,SAAS,UAAU;AAaxD,YAAI,mCAAmC,SACrC,kBACA,oBACA;AACA,cAAI,OAAO,OAAO,cAAc,OAAO,WAAW;AAClD,cAAI,QAAQ,QAAQ,KAAK;AACzB,cAAI,OAAO;AACT,gBAAI,oBAAoB,MAAM;AAC9B,gBAAI,MAAM,oBAAoB;AAC5B,kBAAI,uBAAuB,MAAM,mBAAmB;AACpD,kBAAI,QAAQ;AACZ,uBAAS,IAAI,GAAG,IAAI,MAAM,kBAAkB,QAAQ,KAAK;AACvD,oBAAI,MAAM,kBAAkB,OAAO,sBAAsB;AACvD,0BAAQ;AACR;AAAA,gBACF;AAAA,cACF;AACA,kBAAI,UAAU,IAAI;AAChB,kCAAkB,KAAK,oBAAoB;AAAA,cAC7C;AACA,+BAAiB,MAAM,mBAAmB,QAAQ;AAAA,YACpD;AAEA,qBAAS,IAAI,GAAG,IAAI,kBAAkB,QAAQ,KAAK;AACjD,kBAAI,sBAAsB,kBAAkB;AAC5C,kBAAI,wBAAwB;AAAA,gBAC1B,YAAY;AAAA,kBACV,IAAI;AAAA,kBACJ,MAAM,KAAK,YAAY,qBAAqB;AAAA,gBAC9C;AAAA,gBACA,YAAY,CAAC;AAAA,gBAGb,UAAU,KAAK;AAAA,cAEjB;AAIA,kBACE,MAAM,sBACN,wBAAwB,MAAM,mBAAmB,gBACjD,MAAM,mBAAmB,UACzB;AACA,sCAAsB,WAAW,WAC/B,MAAM,mBAAmB;AAAA,cAC7B;AAGA,kBAAI,eACF,MAAM,gBAAgB,sBAAsB,WAAW;AACzD,uBAAS,IAAI,GAAG,IAAI,aAAa,QAAQ,KAAK;AAC5C,oBAAI,KAAK,aAAa;AACtB,oBAAI,QAAO,KAAK,WAAW,IAAI;AAC/B,sCAAsB,WAAW,KAAK;AAAA,kBACpC;AAAA,kBACA,MAAM;AAAA,gBACR,CAAC;AAAA,cACH;AACA,iCAAmB,qBAAqB;AAAA,YAC1C;AAAA,UACF;AAAA,QACF;AAcA,YAAI,+BAA+B,SACjC,kBACA,kBACA;AACA,cAAI,oBAAoB,SAAS,IAAI,UAAU;AAC7C,gBAAI,QAAQ,OAAO,WAAW,OAAO,OAAO,WAAW,IAAI,OAAO;AAClE,gBAAI,OAAO;AACT,kBAAI,kBAAkB,MAAM,kBAAkB;AAAA,gBAC5C,UAAU;AAAA,cACZ,CAAC;AACD,kBAAI,gBAAgB,gBAAgB;AAEpC,kBAAI;AAAU,8BAAc,WAAW,WAAW;AAClD,+BAAiB,aAAa;AAAA,YAChC;AAAA,UACF;AAEA,cAAI,gBAAgB,WAAW;AAC7B,gBAAI,QAAQ,OAAO,WAAW,OAAO,OAAO,WAAW,IAAI,OAAO;AAClE,gBAAI,OAAO;AACT,kBAAI,WACF,MAAM,gBAAgB,KAAK,MAAM,gBAAgB,EAAE;AAErD,kBAAI,UAAU;AACZ,iCAAiB,QAAQ;AACzB,uBAAO;AAAA,cACT;AAAA,YACF;AAAA,UACF;AAOA,cAAI,gCAAgC,WAAW;AAC7C,mBAAO,aAAa,OAAO,cAAc,CAAC;AAC1C,mBAAO,WAAW,KAAK;AAAA,cACrB,MAAM;AAAA,cACN,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,MAAM;AAAA,cACR;AAAA,cACA,SAAS,SAAS,OAAO;AACvB,oBAAI,KAAK,MAAM,KAAK,SAAS;AAC7B,kCAAkB,EAAE;AAAA,cACtB;AAAA,YACF,CAAC;AAAA,UACH;AAOA,cAAI,mCAAmC,WAAW;AAChD,mBAAO,aAAa,OAAO,cAAc,CAAC;AAC1C,gBAAI,QAAQ,OAAO,WAAW,OAAO,OAAO,WAAW,IAAI,OAAO;AAClE,gBAAI,OAAO;AACT,kBAAI,WAAW,cAAc;AAC7B,kBAAI,kBAAkB,MAAM,kBAAkB;AAAA,gBAC5C,UAAU;AAAA,cACZ,CAAC;AACD,uBAAS,MAAM,iBAAiB;AAC9B,oBAAI,CAAC,EAAE,eAAe,KAAK,iBAAiB,EAAE,GAAG;AAE/C,sBAAI,UAAU;AACZ,sCAAkB,IAAI,QAAQ;AAAA,kBAChC,OAAO;AACL,sCAAkB,EAAE;AAAA,kBACtB;AAAA,gBACF;AAAA,cACF;AAAA,YACF,OAAO;AACL,qBAAO,WAAW,KAAK;AAAA,gBACrB,MAAM;AAAA,gBACN,QAAQ;AAAA,kBACN,MAAM;AAAA,kBACN,MAAM;AAAA,gBACR;AAAA,gBACA,SAAS,WAAW;AAClB,gCAAc;AAAA,gBAChB;AAAA,cACF,CAAC;AAAA,YACH;AAAA,UACF;AACA,2CAAiC;AACjC,wCAA8B;AAAA,QAChC;AAEA,yCACE,SAAS,kBACT,SAAS,kBACX;AACA,qCACE,SAAS,kBACT,SAAS,gBACX;AAAA,MACF;AAAA;AAAA;;;ACrnBA;AAAA;AAAA;AAMA,UAAI,MAAM;AACV,UAAI,QAAQ;AAEZ,UAAI,WAAW;AAAA,QAEb,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,8BAA8B,CAAC;AAAA,UAC7B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,uBAAuB,CAAC;AAAA,UACtB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,GAAG;AAAA,UACD,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,YAAY,CAAC;AAAA,UACX,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,uBAAuB,CAAC;AAAA,UACtB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gCAAgC,CAAC;AAAA,UAC/B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,GAAG;AAAA,UACD,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,4BAA4B,CAAC;AAAA,UAC3B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,eAAe,CAAC;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,YAAY,CAAC;AAAA,UACX,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,sBAAsB,CAAC;AAAA,UACrB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,oBAAoB,CAAC;AAAA,UACnB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,iBAAiB,CAAC;AAAA,UAChB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,0BAA0B,CAAC;AAAA,UACzB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,wBAAwB,CAAC;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,gBAAgB,CAAC;AAAA,UACf,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,kBAAkB,CAAC;AAAA,UACjB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,mBAAmB,CAAC;AAAA,UAClB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,aAAa,CAAC;AAAA,UACZ,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,cAAc,CAAC;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QAGD,2BAA2B,CAAC;AAAA,UAC1B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,6BAA6B,CAAC;AAAA,UAC5B,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,yBAAyB,CAAC;AAAA,UACxB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,QACD,qBAAqB,CAAC;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC;AAAA,MACH;AA2BA,aAAO,UAAU,MAAM,mBAAmB,KAAK,OAAO,QAAQ;AAC5D,YAAI,SAAS,IAAI,SAAS,MAAM;AAC9B,iBAAO,IAAI,SAAS,aAAa;AAC/B,gBAAI,YAAY,CAAC,EAAE,OAAO,MAAM,CAAC,GAAG,IAAI,SAAS,OAAO;AACtD,qBAAO,MAAM,MAAM,GAAG;AAAA,YACxB,GAAG,WAAW,CAAC;AACf,mBAAO,WAAW,UAAU,KAAK,OAAO,IAAI;AAAA,UAC9C,GAAG;AAAA,YACD,CAAC,KAAK,QAAQ,KAAK,MAAM;AAAA,YACzB,CAAC,KAAK,QAAQ,KAAK,MAAM;AAAA,UAC3B,CAAC,EAAE,KAAK,GAAG;AAAA,QACb,GAAG,KAAK;AACR,YAAI,YAAY,OAAO,KAAK,GAAG,IAAI;AACnC,YAAI,UAAU,IAAI,OAAO,WAAW,GAAG;AACvC,eAAO;AAAA,MACT,GAAG,CAAC,GAAG,QAAQ;AAAA;AAAA;;;ACrWf;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,QAAQ;AACZ,UAAI,MAAM;AACV,UAAI,QAAQ;AACZ,UAAI,KAAK;AACT,UAAI,aAAa;AACjB,UAAI,aAAa;AACjB,UAAI,WAAW;AACf,UAAI,YAAY;AAMhB,UAAI,MAAM,OAAO,UAAU;AAM3B,UAAI,OAAO,iBAAgB;AAAA,MAAC;AAM5B,UAAI,UAAU,OAAO;AACrB,UAAI,SAAS;AAOb,cAAQ,OAAO;AAOf,cAAQ,aAAa,WAAW;AAC9B,YAAI,QAAQ,KAAK;AACjB,iBAAS,KAAK;AAAA,MAChB;AASA,cAAQ,SAAS,WAAW;AAC1B,eAAO;AAAA,MACT;AAUA,cAAQ,OAAO,SAAS,MAAM;AAAA,MAAC;AAW/B,cAAQ,QAAQ,SAAS,OAAO;AAAA,MAAC;AA0CjC,cAAQ,MAAM,SAAS,SAAS,KAAK;AACnC,YAAI,uBAAuB,UAAU,GAAG;AACxC,YAAI,cAAc,eAAe,OAAO;AAExC,YAAI,gBAAgB,WAAW;AAC7B,iBAAO,CAAC;AAAA,QACV;AAEA,eAAO,MAAM,SAAS,gBAAgB,KAAK,MAAK;AAC9C,cAAI;AACJ,cAAI;AAEJ,cAAI,gBAAgB,OAAO;AACzB,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU;AACV,qBAAS;AAAA,UACX;AAEA,cAAI,gBAAgB,SAAS;AAC3B,sBAAU,IAAI;AACd,qBAAS,IAAI;AAAA,UACf;AAEA,cAAI,UAAU,OAAO,MAAM,sBAAsB;AAC/C,2BAAe,KAAK,MAAM;AAAA,UAC5B;AAEA,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,OAAO;AAAA,MAChB;AAYA,cAAQ,SAAS,SAAS,QAAQ;AAChC,YAAI,CAAC,KAAK;AAAS;AACnB,YAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAClD,YAAI,CAAC,KAAK;AAAQ,iBAAO,KAAK,MAAM,QAAQ,IAAI;AAEhD,aAAK,MAAM,cAAc,QAAQ,IAAI;AACrC,eAAO,KAAK,QAAQ,MAAM,MAAM,IAAI;AAAA,MACtC;AAUA,cAAQ,QAAQ,SAAS,QAAQ,MAAM;AACrC,aAAK,OAAO,KAAK,EAAE,QAAgB,KAAW,CAAC;AAAA,MACjD;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,SAAS;AACd,YAAI,QAAO;AAEX,aAAK,SAAS,MAAM;AAClB,gBAAK,KAAK,QAAQ,MAAM,OAAM,KAAK,IAAI;AAAA,QACzC,GAAG,KAAK,MAAM;AAGd,aAAK,OAAO,SAAS;AAAA,MACvB;AAQA,cAAQ,QAAQ,WAAW;AACzB,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;AAC5C,iBAAO,KAAK,QAAQ,MAAM;AAAA,QAC5B;AAEA,eAAO,UAAU;AACjB,eAAO,SAAS;AAAA,MAClB;AAYA,cAAQ,OAAO,SAAS,OAAM,QAAQ,UAAU;AAE9C,YAAI,OAAO,UAAS,YAAY;AAAE,qBAAW;AAAM,mBAAS;AAAM,kBAAO;AAAA,QAAM;AAC/E,YAAI,SAAQ,OAAO,UAAS,UAAU;AAAE,qBAAW;AAAQ,mBAAS;AAAM,kBAAO;AAAA,QAAM;AACvF,YAAI,OAAO,WAAW,YAAY;AAAE,qBAAW;AAAQ,mBAAS;AAAA,QAAM;AAGtE,gBAAO,SAAQ;AACf,iBAAS,UAAU,CAAC;AAEpB,iBAAS,KAAK,OAAO,MAAM;AAC3B,YAAI,WAAW,KAAK,UAAU;AAC9B,YAAI,CAAC;AAAU,gBAAM,IAAI,MAAM,IAAI,8BAA8B,KAAI,CAAC;AACtE,YAAI,QAAQ,OAAO,UAAU,MAAM;AACnC,mBAAW,YAAY;AACvB,YAAI,QAAO;AACX,YAAI;AAEJ,gBAAQ,SAAS;AAAA,eACZ;AACH,kBAAM,QAAQ;AACd,kBAAM,SAAS;AACf,iBAAK,UAAU,OAAO,QAAQ;AAC9B;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,SAAS,KAAK;AACnC,kBAAI,CAAC;AAAK,uBAAO,SAAS;AAC1B,oBAAK,MAAM,iCAAiC,MAAK,MAAM,GAAG;AAAA,YAC5D,CAAC;AAED,mBAAO,MAAM;AACb,iBAAK,SAAS,KAAK,KAAK;AACtB,iBAAG,aAAa,KAAK,GAAG;AAAA,YAC1B,GAAG,KAAK;AACR;AAAA,eACG;AACH,iBAAK,WAAW,OAAO,QAAQ;AAC/B;AAAA;AAAA;AAKF,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,QAAQ;AAChC,iBAAS,UAAU,CAAC;AACpB,YAAI,QAAQ,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAO;AACrD,YAAI,CAAC,OAAO,eAAe,OAAO;AAAG,iBAAO,QAAQ;AACpD,aAAK,SAAS,KAAK,KAAK;AACtB,cAAI,CAAC,OAAO,eAAe,GAAG;AAAG,mBAAO,OAAO;AAAA,QACjD,GAAG,KAAK,OAAO;AACf,eAAO;AAAA,MACT;AAQA,cAAQ,QAAQ,WAAW;AACzB,aAAK,KAAK,OAAO;AAAA,MACnB;AASA,cAAQ,kBAAkB,WAAW;AACnC,YAAI,aAAa,KAAK;AACtB,aAAK,aAAa,WAAW;AAC3B,eAAK,MAAM,YAAY;AACvB,eAAK,eAAe;AACpB,cAAI,MAAM,WAAW,MAAM,MAAM,SAAS;AAC1C,eAAK,KAAK,YAAY;AACtB,iBAAO;AAAA,QACT;AAAA,MACF;AASA,cAAQ,YAAY,WAAW;AAC7B,YAAI,OAAO,KAAK;AAChB,YAAI,qBAAqB;AACzB,aAAK,OAAO,WAAW;AACrB,cAAI,KAAK,oBAAoB,CAAC,oBAAoB;AAChD,iCAAqB;AACrB;AAAA,UACF;AACA,iBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,QACnC;AAAA,MACF;AASA,cAAQ,aAAa,WAAW;AAC9B,YAAI,IAAI,KAAK;AACb,aAAK,QAAQ,SAAS,OAAO;AAC3B,cAAI,QAAQ,MAAM,MAAM;AACxB,cAAI;AACJ,cAAI;AAEJ,mBAAS,UAAU,QAAQ;AACzB,gBAAI,IAAI,KAAK,QAAQ,MAAM,GAAG;AAC5B,kBAAI,SAAS,OAAO;AACpB,kBAAI,CAAC,KAAK;AAAS;AACnB,kBAAI,CAAC,OAAO,KAAK,KAAK;AAAG;AACzB,oBAAM,KAAK,QAAQ,MAAM,MAAM,SAAS;AACxC,uBAAS;AACT;AAAA,YACF;AAAA,UACF;AAEA,cAAI,CAAC;AAAQ,kBAAM,EAAE,MAAM,MAAM,SAAS;AAC1C,iBAAO;AAAA,QACT;AAAA,MACF;AAUA,8BAAwB,SAAS;AAC/B,YAAI,GAAG,MAAM,OAAO,GAAG;AACrB,iBAAO,MAAM,SAAS,OAAO,IAAI,UAAU;AAAA,QAC7C;AACA,YAAI,GAAG,OAAO,OAAO;AAAG,iBAAO;AAC/B,eAAO;AAAA,MACT;AAaA,uBAAiB,MAAM;AACrB,YAAI,CAAC,GAAG,OAAO,IAAI;AAAG,iBAAO;AAC7B,YAAI,CAAC,GAAG,OAAO,KAAK,GAAG;AAAG,iBAAO;AACjC,YAAI,CAAC,IAAI,KAAK,MAAM,OAAO;AAAG,iBAAO;AACrC,eAAO;AAAA,MACT;AAWA,yBAAmB,OAAO,IAAI;AAC5B,aAAK,MAAM,WAAW;AAAA,QAAC;AACvB,YAAI,MAAM,IAAI,MAAM;AACpB,YAAI,UAAU,MAAM,IAAI,wBAAwB,GAAG;AACnD,YAAI,SAAS,WAAW;AAAE,aAAG;AAAA,QAAG;AAChC,YAAI,MAAM,MAAM;AAChB,YAAI,QAAQ;AACZ,YAAI,SAAS;AACb,eAAO;AAAA,MACT;AAYA,qBAAe,IAAI,SAAS,KAAK;AAC/B,eAAO,SAAS,GAAG;AACjB,cAAI,KAAK,OAAO;AAChB,cAAI,MAAM,IAAI,MAAM,OAAO;AAC3B,cAAI,QAAQ;AACZ,cAAI,SAAS;AACb,aAAG,GAAG;AAAA,QACR;AAAA,MACF;AAWA,sBAAgB,UAAU,QAAQ;AAChC,eAAO,MAAM,SAAS,OAAO,KAAK,KAAK;AACrC,gBAAM,OAAO,IAAI,QAAQ,wBAAwB,SAAS,GAAG,IAAI;AAC/D,mBAAO,OAAO;AAAA,UAChB,CAAC;AACD,iBAAO;AAAA,QACT,GAAG,CAAC,GAAG,SAAS,KAAK;AAAA,MACvB;AAAA;AAAA;;;ACldA;AAAA;AAAA;AAMA,UAAI,UAAU;AACd,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,WAAW;AAOf,cAAQ,OAAO;AAYf,cAAQ,SAAS,SAAS,KAAK,OAAO;AACpC,aAAK,UAAU,SAAS,OAAO;AAC/B,eAAO;AAAA,MACT;AAsBA,cAAQ,UAAU,SAAS,OAAM;AAC/B,aAAK,OAAO,OAAM,CAAC,CAAC;AACpB,aAAK,UAAU,SAAQ,SAAS,KAAK;AACnC,iBAAO,KAAK,IAAI,KAAK,QAAQ,QAAO,GAAG;AAAA,QACzC;AACA,eAAO;AAAA,MACT;AAWA,cAAQ,SAAS,SAAS,KAAK;AAC7B,aAAK,UAAU,QAAQ,KAAK,GAAG;AAC/B,eAAO;AAAA,MACT;AAUA,cAAQ,kBAAkB,WAAW;AACnC,aAAK,UAAU,mBAAmB;AAClC,eAAO;AAAA,MACT;AASA,cAAQ,cAAc,WAAW;AAC/B,aAAK,UAAU,eAAe;AAC9B,eAAO;AAAA,MACT;AASA,cAAQ,oBAAoB,WAAW;AACrC,aAAK,UAAU,qBAAqB;AACpC,eAAO;AAAA,MACT;AAaA,cAAQ,MAAM,SAAS,OAAM,KAAK;AAChC,YAAI,OAAO,MAAM;AACf,gBAAM;AACN,kBAAO;AAAA,QACT;AACA,aAAK,UAAU,UAAU,SAAQ,UAAU,GAAG;AAC9C,eAAO;AAAA,MACT;AAcA,yBAAmB,KAAK;AAEtB,cAAM,IAAI,QAAQ,UAAU,aAAa;AAEzC,YAAI,KAAK,OAAO,GAAG;AACnB,YAAI,QAAQ,CAAC;AAEb,aAAK,SAAS,MAAM;AAElB,cAAI,QAAO,KAAK,SAAS,aAAa,QAAQ,KAAK;AACnD,cAAI,CAAC,SAAS,KAAK,OAAO,KAAK,GAAG;AAAG;AACrC,gBAAM,SAAQ,KAAK;AAAA,QACrB,GAAG,GAAG,UAAU;AAEhB,eAAO;AAAA,UACL,MAAM,GAAG,QAAQ,YAAY;AAAA,UAC7B;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;AClKA;AAAA;AAAA;AAMA,UAAI,OAAO;AACX,UAAI,QAAQ;AACZ,UAAI,WAAW;AACf,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,SAAS;AACb,UAAI,UAAU;AAUd,iCAA2B,OAAM;AAQ/B,6BAAqB,SAAS;AAC5B,cAAI,WAAW,QAAQ,gBAAgB;AAErC,mBAAO,QAAQ,eAAe,WAAW;AAAA,UAC3C;AACA,eAAK,QAAQ,MAAM,2BAA2B,KAAK,KAAI,CAAC;AACxD,cAAI,aAAa,CAAC;AAClB,iBAAO,MAAM,YAAY,OAAO;AAChC,eAAK,UAAU,SAAS,cAAc,CAAC,GAAG,KAAK,QAAQ;AACvD,eAAK,SAAS,CAAC;AACf,eAAK,KAAK,SAAS,KAAK,MAAM,KAAK,KAAK,CAAC;AAEzC,sBAAY,KAAK,aAAa,IAAI;AAClC,eAAK,QAAQ,KAAK,MAAM,KAAK,KAAK;AAClC,eAAK,gBAAgB;AACrB,eAAK,UAAU;AACf,eAAK,WAAW;AAAA,QAClB;AAEA,oBAAY,UAAU,WAAW,CAAC;AAClC,oBAAY,UAAU,UAAU,CAAC;AACjC,oBAAY,UAAU,YAAY,CAAC;AACnC,oBAAY,UAAU,OAAO;AAC7B,eAAO,aAAa,OAAO;AAC3B,eAAO,YAAY,WAAW,MAAM;AAEpC,eAAO;AAAA,MACT;AAMA,aAAO,UAAU;AAAA;AAAA;;;AC/DjB;AAAA;AAKA,UAAI,OAAO;AAMX,aAAO,UAAU;AAejB,sBAAgB,KAAK,IAAG;AACtB,aAAK,MAAM;AACX,eAAO,AAAW,KAAK,GAAG,KAAnB,UACH,OAAO,MAAM,KAAK,EAAE,IACpB,OAAO,OAAO,KAAK,EAAE;AAAA,MAC3B;AAWA,aAAO,QAAQ,SAAS,KAAK,IAAG;AAC9B,YAAI,MAAM,CAAC;AAEX,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACnC,cAAI,CAAC,GAAG,IAAI,IAAI,CAAC;AAAG,gBAAI,IAAI,UAAU,IAAI;AAAA,QAC5C;AAEA,eAAO;AAAA,MACT;AAWA,aAAO,SAAS,SAAS,KAAK,IAAG;AAC/B,YAAI,MAAM,CAAC;AAEX,iBAAS,KAAK,KAAK;AACjB,cAAI,IAAI,eAAe,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG;AAC3C,gBAAI,KAAK,IAAI;AAAA,UACf;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAWA,aAAO,QACP,OAAO,OAAO,SAAS,KAAK,OAAM;AAChC,YAAI,CAAC,MAAM,QAAQ,KAAK;AAAG,kBAAQ,CAAC,KAAK;AACzC,eAAO,OAAO,KAAK,SAAS,OAAM;AAChC,iBAAO,AAAM,MAAM,QAAQ,KAAK,KAAK,CAAC,KAA/B;AAAA,QACT,CAAC;AAAA,MACH;AAUA,uBAAiB,OAAM;AACrB,eAAO,AAAQ,SAAR;AAAA,MACT;AAAA;AAAA;;;ACpGA;AAAA;AAAA;AAKA,UAAI,cAAc;AAClB,UAAI,SAAS;AAKb,UAAI,MAAO,OAAO,UAAU,YAAY,oBAAoB,EACzD,OAAO,MAAM,EACb,OAAO,cAAc,EACrB,OAAO,kBAAkB,CAAC,CAAC,EAC3B,OAAO,oBAAoB,MAAM,EACjC,OAAO,gBAAgB,KAAK,EAC5B,OAAO,oBAAoB,OAAQ,EACnC,OAAO,gBAAgB,IAAI,EAC3B,OAAO,eAAe,EAAE,EACxB,OAAO,8BAA8B,KAAK,EAC1C,OAAO,+BAA+B,KAAK,EAC3C,OAAO,mCAAmC,KAAK,EAC/C,OAAO,0BAA0B,KAAK,EACtC,OAAO,2BAA2B,QAAQ,EAC1C,OAAO,kBAAkB,CAAC,CAAC,EAuB3B,OAAO,6BAA6B,CAAC,CAAC,EACtC,IACC,yFACF;AASF,UAAI,UAAU,aAAa,WAAW;AACpC,eAAO,eAAe,OAAO,gBAAgB,CAAC;AAC9C,eAAO,OAAO,WAAW;AACvB,iBAAO,aAAa,KAAK,SAAS;AAAA,QACpC;AAOA,eAAO,KAAK,MAAM,IAAI,KAAK,CAAC;AAE5B,YAAI,OAAO,KAAK;AAChB,YAAI,iBAAiB,KAAK;AAO1B,YAAI,CAAC,eAAe,UAAU,KAAK,wBAAwB;AACzD;AAAA,QACF;AAEA,YAAI,SAAS;AAAA,UAKX,gBAAgB,KAAK;AAAA,UAMrB,eAAe,KAAK;AAAA,UAMpB,eAAe,KAAK;AAAA,UAMpB,eAAe,KAAK;AAAA,UAMpB,gBAAgB,KAAK;AAAA,QACvB;AAEA,YAAI,OAAO;AAAA,UAKT,CAAC,EAAE,cAAc,KAAK,YAAY,CAAC;AAAA,UAMnC,CAAC,wBAAwB,KAAK,2BAA2B;AAAA,UAMzD,CAAC,oCAAoC,KAAK,+BAA+B;AAAA,QAC3E;AAGA,YAAI,QAAO;AACX,aAAK,KAAK,EAAE,eAAe,eAAe,GAAG,GAAG,WAAW;AAMzD,mBAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC9C,mBAAO,KAAK,UAAU,eAAe,IAAI,MAAM;AAAA,UAEjD;AAMA,mBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAEpC,gBAAI,OAAO,KAAK,GAAG,MAAM,CAAC;AAC1B,iBAAK,QAAQ,KAAK;AAClB,mBAAO,KAAK,MAAM,MAAM,IAAI;AAAA,UAC9B;AAEA,gBAAK,MAAM;AAAA,QACb,CAAC;AAAA,MACH;AAQA,UAAI,UAAU,SAAS,WAAW;AAChC,eAAO,CAAC,CACN,QAAO,gBAAgB,MAAM,UAAU,SAAS,OAAO,aAAa;AAAA,MAExE;AAQA,UAAI,UAAU,WAAW,SAAS,UAAU;AAC1C,YAAI,OAAO,KAAK;AAChB,YAAI,uBAAuB,KAAK;AAEhC,YAAI,iBAAiB,CAAC;AAGtB,iBAAS,cAAc,sBAAsB;AAC3C,cAAI,CAAC,qBAAqB,eAAe,UAAU,GAAG;AACpD;AAAA,UACF;AAEA,cAAI,WAAW,qBAAqB;AACpC,cAAI,QAAQ,SAAS,MAAM,UAAU;AAErC,yBAAe,YAAY;AAAA,QAC7B;AAaA,YAAI,SAAS,SAAS,OAAO;AAC7B,YAAI,yBAAyB,KAAK,4BAA4B,4BAA4B,KAAK,4BAA4B;AAC3H,YAAI,UAAU,wBAAwB;AACpC,yBAAe,UAAU;AAAA,QAC3B;AAEA,YAAI,OAAO,KAAK,cAAc,EAAE,QAAQ;AACtC,iBAAO,KAAK,OAAO,mBAAmB,cAAc;AAAA,QACtD;AAAA,MACF;AAQA,UAAI,UAAU,QAAQ,SAAS,OAAO;AACpC,eAAO,KAAK,SAAS,cAAc;AAAA,UACjC,UAAU,MAAM,QAAQ;AAAA,QAC1B,CAAC;AAAA,MACH;AAQA,UAAI,UAAU,OAAO,SAAS,MAAM;AAGlC,YAAI,KAAK,QAAQ,4BAA4B;AAC3C;AAAA,QACF;AAEA,YAAI,QAAQ,KAAK,WAAW;AAC5B,YAAI,QAAO,KAAK,SAAS;AAEzB,YAAI,eAAe,MAAM;AACzB,YAAI,eAAe,KAAK,SAAS;AACjC,YAAI,YAAY,SAAQ,MAAM;AAE9B,eAAO,KAAK,SAAS,aAAa;AAAA,UAChC,eAAe;AAAA,UACf,eAAe;AAAA,UACf,YAAY;AAAA,QACd,CAAC;AAAA,MACH;AASA,UAAI,UAAU,QAAQ,SAAS,OAAO;AAEpC,YAAI,WAAW,KAAK,QAAQ;AAE5B,iBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACxC,cAAI,UAAU,SAAS;AACvB,cAAI,OAAO,YAAY,UAAU;AAC/B;AAAA,UACF;AAEA,cAAI,eAAe,QAAQ;AAC3B,cAAI,cAAc,QAAQ;AAE1B,cAAI,CAAC,gBAAgB,CAAC,eAAe,iBAAiB,MAAM,MAAM,GAAG;AACnE;AAAA,UACF;AAEA,cAAI,oBAAoB,QAAQ,cAAc,CAAC;AAC/C,cAAI,aAAa,CAAC;AAElB,cAAI,CAAE,8BAA6B,QAAQ;AACzC;AAAA,UACF;AAOA,mBAAS,IAAI,GAAG,IAAI,kBAAkB,QAAQ,KAAK;AACjD,gBAAI,MAAM,kBAAkB,MAAM,CAAC;AACnC,gBAAI,OAAO,QAAQ,YAAY,CAAC,IAAI,OAAO,CAAC,IAAI,OAAO;AACrD;AAAA,YACF;AAEA,gBAAI,QAAQ,IAAI;AAChB,gBAAI,QAAQ,MAAM,MAAM,IAAI,GAAG;AAC/B,uBAAW,SAAS;AAAA,UACtB;AAEA,iBAAO,KAAK,SAAS,aAAa,UAAU;AAAA,QAC9C;AAAA,MACF;AAAA;AAAA;;;ACvTA;AAAA;AACA,gBAAU,OAAO,UAAU;AAE3B,oBAAc,KAAI;AAChB,eAAO,IAAI,QAAQ,cAAc,EAAE;AAAA,MACrC;AAEA,cAAQ,OAAO,SAAS,KAAI;AAC1B,eAAO,IAAI,QAAQ,QAAQ,EAAE;AAAA,MAC/B;AAEA,cAAQ,QAAQ,SAAS,KAAI;AAC3B,eAAO,IAAI,QAAQ,QAAQ,EAAE;AAAA,MAC/B;AAAA;AAAA;;;ACbA;AAAA;AAIA,UAAI,WAAW,OAAO,UAAU;AAUhC,aAAO,UAAU,SAAS,KAAI;AAC5B,gBAAQ,SAAS,KAAK,GAAG;AAAA,eAClB;AAAiB,mBAAO;AAAA,eACxB;AAAmB,mBAAO;AAAA,eAC1B;AAAsB,mBAAO;AAAA,eAC7B;AAAkB,mBAAO;AAAA,eACzB;AAAkB,mBAAO;AAAA;AAGhC,YAAI,QAAQ;AAAM,iBAAO;AACzB,YAAI,QAAQ;AAAW,iBAAO;AAC9B,YAAI,QAAQ;AAAK,iBAAO;AACxB,YAAI,OAAO,IAAI,aAAa;AAAG,iBAAO;AAEtC,cAAM,IAAI,UACN,IAAI,QAAQ,IACZ,OAAO,UAAU,QAAQ,MAAM,GAAG;AAEtC,eAAO,OAAO;AAAA,MAChB;AAAA;AAAA;;;ACjCA;AAAA;AAKA,UAAI,SAAS;AACb,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,OAAO;AAEX,UAAI,UAAU;AAUd,cAAQ,QAAQ,SAAS,KAAI;AAC3B,YAAI,AAAY,OAAO,OAAnB;AAAwB,iBAAO,CAAC;AAEpC,cAAM,KAAK,GAAG;AACd,YAAI,AAAM,OAAN;AAAW,iBAAO,CAAC;AACvB,YAAI,AAAO,IAAI,OAAO,CAAC,KAAnB;AAAsB,gBAAM,IAAI,MAAM,CAAC;AAE3C,YAAI,MAAM,CAAC;AACX,YAAI,QAAQ,IAAI,MAAM,GAAG;AACzB,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,cAAI,QAAQ,MAAM,GAAG,MAAM,GAAG;AAC9B,cAAI,MAAM,OAAO,MAAM,EAAE;AACzB,cAAI;AAEJ,cAAI,IAAI,QAAQ,KAAK,GAAG,GAAG;AACzB,gBAAI,EAAE,MAAM,IAAI,EAAE,OAAO,CAAC;AAC1B,gBAAI,EAAE,IAAI,EAAE,MAAM,OAAO,MAAM,EAAE;AACjC;AAAA,UACF;AAEA,cAAI,MAAM,MAAM,AAAQ,MAAM,MAAd,OACZ,KACA,OAAO,MAAM,EAAE;AAAA,QACrB;AAEA,eAAO;AAAA,MACT;AAUA,cAAQ,YAAY,SAAS,KAAI;AAC/B,YAAI,CAAC;AAAK,iBAAO;AACjB,YAAI,QAAQ,CAAC;AAEb,iBAAS,OAAO,KAAK;AACnB,cAAI,QAAQ,IAAI;AAEhB,cAAI,AAAW,KAAK,KAAK,KAArB,SAAwB;AAC1B,qBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AACrC,oBAAM,KAAK,OAAO,MAAM,MAAM,IAAI,GAAG,IAAI,MAAM,OAAO,MAAM,EAAE,CAAC;AAAA,YACjE;AACA;AAAA,UACF;AAEA,gBAAM,KAAK,OAAO,GAAG,IAAI,MAAM,OAAO,IAAI,IAAI,CAAC;AAAA,QACjD;AAEA,eAAO,MAAM,KAAK,GAAG;AAAA,MACvB;AAAA;AAAA;;;AC1EA;AAAA;AAKA,aAAO,UAAU,SAAU,KAAK;AAC9B,gBAAQ,UAAU;AAAA,eACX;AAAG,mBAAO,MAAM;AAAA,eAChB;AAAG,mBAAO,UAAU,GAAG;AAAA;AAAA,MAEhC;AAUA,yBAAoB,KAAK;AACvB,eAAO,MAAM,IAAI,WAAW,MAAM,UAAU;AAAA,MAC9C;AASA,uBAAkB;AAChB,eACE,SAAS,YAAY,YACrB,SAAS,YAAY;AAAA,MAEzB;AAAA;AAAA;;;ACpCA;AAAA;AAAA;AAMA,UAAI,SAAS;AACb,UAAI,OAAO;AACX,UAAI,cAAc;AAClB,UAAI,OAAO;AACX,UAAI,cAAc;AAClB,UAAI,WAAW;AAMf,UAAI,MAAM,OAAO,UAAU;AAM3B,UAAI,SAAU,OAAO,UAAU,YAAY,QAAQ,EAChD,gBAAgB,EAChB,OAAO,IAAI,EACX,OAAO,OAAO,EACd,OAAO,OAAO,EACd,OAAO,WAAW,EAClB,OAAO,aAAa,EAAE,EACtB,OAAO,SAAS,EAAE,EAClB,OAAO,SAAS,EAAE,EAClB,IAAI,QAAQ,4CAA4C,EACxD,IAAI,SAAS,4CAA4C;AAU5D,aAAO,UAAU,aAAa,WAAW;AACvC,eAAO,QAAQ,KAAK,QAAQ;AAC5B,eAAO,QAAQ,KAAK,QAAQ;AAC5B,YAAI,QAAO,SAAS,IAAI,UAAU;AAClC,aAAK,KAAK,OAAM,KAAK,KAAK;AAAA,MAC5B;AASA,aAAO,UAAU,SAAS,WAAW;AACnC,eAAO,CAAC,CAAC,OAAO;AAAA,MAClB;AASA,aAAO,UAAU,WAAW,SAAS,UAAU;AAC7C,YAAI,SAAS,SAAS,OAAO;AAC7B,YAAI,QAAQ,SAAS,MAAM;AAC3B,YAAI;AAAO,iBAAO,QAAQ;AAE1B,YAAI,WAAW;AAAG;AAElB,YAAI,CAAC,OAAO;AAAO;AAEnB,YAAI,YAAY,KAAK,oBAAoB;AACzC,kBAAU,WAAW,OAAO;AAC5B,aAAK,+BAA+B,YAAY,UAAU,SAAS,CAAC;AAAA,MACtE;AASA,aAAO,UAAU,sBAAsB,WAAW;AAIhD,YAAI,YAAY;AAAA,UACd,YAAY,OAAO;AAAA,UACnB,aAAa,OAAO;AAAA,UACpB,WAAW,OAAO,cAAe,MAAK,QAAQ,QAAQ,IAAI;AAAA,UAC1D,KAAK;AAAA,UACL,YAAY,OAAO,eAAgB,MAAK,QAAQ,QAAQ,IAAI;AAAA,QAC9D;AAGA,YAAI,cAAc,MAAM;AAGxB,YAAI,YAAY,CAAC,UAAU;AAG3B,aAAK,SAAS,KAAK;AACjB,cAAI,OAAO;AAAa,sBAAU,OAAO,YAAY;AAAA,QACvD,GAAG,SAAS;AAGZ,YAAI,OAAO,0BAA0B,QAAW;AAC9C,oBAAU,yBAAyB,OAAO;AAAA,QAC5C;AACA,YAAI,OAAO,gBAAgB,QAAW;AACpC,oBAAU,gBAAgB,OAAO;AAAA,QACnC;AAKA,YAAI,OAAO,MAAM,OAAO,GAAG,SAAS;AAClC,mBAAS,YAAY,WAAW;AAC9B,gBAAI,IAAI,KAAK,WAAW,QAAQ,GAAG;AACjC,kBAAI,MAAM,OAAO,GAAG,QAAQ;AAE5B,kBAAI;AAAK,0BAAU,YAAY;AAAA,YACjC;AAAA,UACF;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAWA,4BAAsB;AACpB,YAAI,IAAI,OAAO;AACf,YAAI,CAAC;AAAG,iBAAO;AACf,YAAI,CAAC,EAAE;AAAS,iBAAO;AAIvB,YAAI,OAAO,EAAE,QAAQ,SAAS,MAAM;AAAS,iBAAO;AACpD,YAAI,CAAC,EAAE,QAAQ;AAAO,iBAAO;AAC7B,YAAI,CAAC,EAAE,QAAQ;AAAW,iBAAO;AACjC,eAAO;AAAA,MACT;AASA,uBAAiB;AACf,eAAO,YAAY,MAAM,SAAS,OAAO,MAAM,CAAC,CAAC;AAAA,MACnD;AAAA;AAAA;;;ACvKA,yBAAsB;AAEtB,MAAM,eAAe;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,eAAa,QAAQ,yBAAU,IAAI,KAAK,wBAAS,CAAC;AAElD,SAAO,YAAY;",
  "names": []
}
